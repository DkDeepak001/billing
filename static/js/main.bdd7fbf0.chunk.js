(this.webpackJsonpbilling=this.webpackJsonpbilling||[]).push([[0],{109:function(t,e,a){},110:function(t,e,a){},111:function(t,e,a){},112:function(t,e,a){},131:function(t,e,a){},132:function(t,e,a){},162:function(t,e,a){},171:function(t,e,a){},172:function(t,e,a){},173:function(t,e,a){},174:function(t,e,a){},175:function(t,e,a){},176:function(t,e,a){},177:function(t,e,a){},178:function(t,e,a){},179:function(t,e,a){},180:function(t,e,a){},181:function(t,e,a){},182:function(t,e,a){},183:function(t,e,a){},184:function(t,e,a){},185:function(t,e,a){},186:function(t,e,a){},187:function(t,e,a){},188:function(t,e,a){},189:function(t,e,a){"use strict";a.r(e);var s=a(2),i=a.n(s),n=a(45),l=a.n(n),c=(a(131),a(5)),r=a(6),o=a(8),u=a(9),d=(a(132),a(217)),h=a(1),p=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{class:"warning-content",children:[Object(h.jsx)("div",{className:"underConstruction",children:Object(h.jsx)("h1",{children:"New Site Under Construction"})}),Object(h.jsx)("div",{className:"svgCon",children:Object(h.jsx)(d.b,{size:100,className:"animate2"})}),Object(h.jsxs)("p",{children:["Please forgive the inconvenience. ",Object(h.jsx)("br",{}),"We are currently initializing our brand new site."]}),Object(h.jsx)("p",{children:"It's okay, we're excited too!"})]})})}}]),a}(s.Component),b=p,j=a(12),m=a(27),g=(a(83),a(229)),f=a(231),y=a(226),x=a(225),O=a(232),v=a(233),S=a(234),P=a(227),N=a(7),D=a(236),_=a(4),w=a.n(_),B=a(10),F=a.n(B),I=(a(162),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).changeValue=function(e){t.setState(Object(N.a)({},e.target.name,[e.target.value]))},t.submitValues=function(e){if(e.preventDefault(),""===t.state.company_name||""===t.state.phone_no||""===t.state.email)F.a.fire({title:"please fill all the details",icon:"error"});else{var a=new FormData;a.append("branchId",localStorage.getItem("adminName")),a.append("company_name",t.state.company_name),a.append("phone_no",t.state.phone_no),a.append("email",t.state.email),a.append("address",t.state.address),a.append("Gst_no",t.state.Gst_no),w()({method:"post",url:"http://billing-software.dkdeepak.com/api/addNewAdminCustome.php",data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){!0===t.data.includes("Duplicate entry")?F.a.fire({title:"Company already Exists",icon:"error"}):F.a.fire({title:"User Added",icon:"success",showConfirmButton:!0,confirmButtonText:"Ok"}).then((function(t){t.isConfirmed}))})),t.setState({company_name:""}),t.setState({phone_no:""}),t.setState({email:""}),t.setState({address:""}),t.setState({Gst_no:""})}},t.state={company_name:"",phone_no:"",email:"",address:"",Gst_no:""},t}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"Areg_container",id:"Areg_container",children:Object(h.jsxs)("div",{className:"Areg_background",id:"Areg_background",children:[Object(h.jsx)("div",{className:"Areg_header_name",children:Object(h.jsx)("h2",{children:"Register new company"})}),Object(h.jsx)("div",{children:Object(h.jsxs)("form",{className:"Areg_form",children:[Object(h.jsx)("div",{className:"Areg_grp",children:Object(h.jsx)(D.a,{id:"company_name",value:this.state.company_name,name:"company_name",label:"company name",variant:"outlined",required:!0,onChange:this.changeValue})}),Object(h.jsx)("div",{className:"Areg_grp",children:Object(h.jsx)(D.a,{id:"phone_no",value:this.state.phone_no,name:"phone_no",label:"Phone number",variant:"outlined",required:!0,onChange:this.changeValue,type:"number",inputProps:{min:"0",step:"1"}})}),Object(h.jsx)("div",{className:"Areg_grp",children:Object(h.jsx)(D.a,{id:"email",value:this.state.email,name:"email",label:"email",variant:"outlined",required:!0,onChange:this.changeValue})}),Object(h.jsx)("div",{className:"Areg_grp",children:Object(h.jsx)(D.a,{id:"address",value:this.state.address,name:"address",label:"Address",variant:"outlined",multiline:!0,maxRows:4,onChange:this.changeValue})}),Object(h.jsx)("div",{className:"Areg_grp",children:Object(h.jsx)(D.a,{id:"Gst_no",value:this.state.Gst_no,name:"Gst_no",label:"Gst no",variant:"outlined",onChange:this.changeValue})}),Object(h.jsx)("div",{className:"Areg_grp_button",children:Object(h.jsx)("button",{type:"submit",className:"css-button-rounded--blue",onClick:this.submitValues,children:"Add Customer"})}),Object(h.jsx)("div",{className:"Areg_grp_button",children:Object(h.jsx)(j.b,{to:"/Admin/viewCustomer",children:Object(h.jsx)("button",{className:"css-button-rounded--green",children:"View Customer"})})})]})})]})})}}]),a}(s.Component)),k=a(240),C=(a(171),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("http://billing-software.dkdeepak.com/api/getAdminCustomer.php").then((function(e){t.setState({copyData:e.data})}))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.company_name.includes(e.target.value.toLowerCase())}));t.setState({fetchData:a},(function(){var t=this.state.fetchData.length;t<=3&&(s.style.height="120px"),t<=2&&(s.style.height="80px"),t<=1&&(s.style.height="40px"),t>=4&&(s.style.height="160px")})),t.setState({selectedValues:e.target.value});document.getElementById("searchBar");var s=document.getElementById("searchResult");""!=e.target.value?s.style.display="block":(s.style.display="none",t.setState({fetchData:[]})),t.getData(),t.setState({arrow:0})},t.onKeyDown=function(e){t.getData();var a=document.getElementById("searchResult");if(8===e.keyCode){var s=t.state.copyData.filter((function(t){return t.company_name.includes(e.target.value)}));t.setState({fetchData:s},(function(){var t=this.state.fetchData.length;t<=3&&(a.style.height="120px"),t<=2&&(a.style.height="80px"),t<=1&&(a.style.height="40px"),t>=4&&(a.style.height="160px")}))}(38===e.keyCode&&t.state.arrow>0&&t.setState({arrow:t.state.arrow-1},(function(){a.scrollTo(0,a.scrollTop-40)})),40===e.keyCode&&t.state.arrow<t.state.fetchData.length-1&&(a.scrollTop>=3?a.scrollTo(0,a.scrollTop+40):a.scrollTo(0,a.scrollTop+2),t.setState({arrow:t.state.arrow+1},(function(){}))),13===e.keyCode)&&(void 0!==(s=t.state.fetchData[t.state.arrow])&&t.selectData(t.state.arrow,s.company_name))},t.newuser=function(){t.setState({NewUser:!t.state.NewUser},(function(){var e=document.getElementById("Areg_container"),a=document.getElementById("Areg_background");null!==a&&(e.style.margin="0%",a.style.boxShadow="none"),t.getData()}))},t.submitName=function(){localStorage.setItem("cid",t.state.fetchData[0].uid)},t.state={fetchData:[],copyData:[],selectedValues:"",NewUser:!0,arrow:0},t.getData(),t}return Object(r.a)(a,[{key:"selectData",value:function(t,e){var a=this,s=this.state.copyData.filter((function(t){return t.company_name===e}));this.setState({fetchData:s},(function(){localStorage.setItem("cid",a.state.fetchData[0].uid)})),this.setState({selectedValues:e}),document.getElementById("searchResult").style.display="none",this.getData()}},{key:"render",value:function(){var t=this,e=this.state.NewUser;return Object(h.jsxs)("div",{className:"billingName_container",children:[null===localStorage.getItem("company_name")?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(h.Fragment,{children:this.props.history.push("/Admin/billingName/billing/".concat(localStorage.getItem("company_name")))}),e?Object(h.jsxs)("div",{className:"billingName_header",children:[Object(h.jsx)("div",{className:"billingName_header_button",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.newuser,children:"New user"})}),Object(h.jsx)("div",{className:"billingName_newuserForm",children:Object(h.jsxs)("div",{className:"billName_row",children:[Object(h.jsx)("div",{className:"billName_row_name",children:Object(h.jsx)("h2",{children:"Company Name "})}),Object(h.jsxs)("div",{className:"billName_row_box",children:[Object(h.jsx)(D.a,{id:"searchBar",variant:"outlined",size:"small",onChange:this.searchBar,onKeyDown:this.onKeyDown,value:this.state.selectedValues}),Object(h.jsx)("div",{className:"searchResult",id:"searchResult",children:0===this.state.fetchData.length?Object(h.jsx)("p",{className:"items",children:"No Data Found"}):this.state.fetchData.map((function(e,a){return Object(h.jsx)("p",{className:"items",id:"items".concat(a)==="items".concat(t.state.arrow)?"active":"",onClick:function(){return t.selectData(e.cid,e.company_name)},children:e.company_name},a)}))})]}),Object(h.jsx)("div",{className:"billName_row_button",children:1!==this.state.fetchData.length?Object(h.jsx)(k.a,{type:"button",variant:"contained",className:"css-button-rounded--blue",disable:!0,onClick:this.submitName,disabled:!0,children:" Next"}):Object(h.jsx)(j.b,{to:"/Admin/billingName/billing/".concat(this.state.selectedValues),children:Object(h.jsx)("button",{className:"css-button-rounded--green",onClick:this.submitName,children:"Next"})})})]})})]}):Object(h.jsxs)("div",{className:"billingName_header",children:[Object(h.jsx)("div",{className:"billingName_header_button",children:Object(h.jsx)("button",{className:"css-button-rounded--red",onClick:this.newuser,children:"Hide"})}),Object(h.jsx)("div",{className:"billName_row",children:Object(h.jsx)(I,{})})]})]})}}]),a}(s.Component)),q=(a(172),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).state={getData:[],topCompany:[],copyData:[],todayBill:[],todayBillTotal:null,todayFormatedTotal:null,weekBill:[],weekBillTotal:null,weekFormatedTotal:null,monthlyBill:[],monthlyBillTotal:null,monthFormatedTotal:null,branchList:[],listData:[]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/fetchBillCopy.php").then((function(e){t.setState({getData:Object.values(e.data)},(function(){}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateWise.php/?today=1").then((function(e){t.setState({todayBill:Object.values(e.data)},(function(){var t=this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({todayBillTotal:t},(function(){this.setState({todayFormatedTotal:e});var t=this.state.todayBill.map((function(t){return t.branchId})).filter((function(t,e,a){return a.indexOf(t)===e}));this.setState({branchList:t},(function(){var t=this;console.log(this.state.todayBill.filter((function(e){return e.branchId===t.state.branchList[0]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)),console.log(this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0))}))}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateWise.php/?week=1").then((function(e){t.setState({weekBill:Object.values(e.data)},(function(){var t=this.state.weekBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({weekBillTotal:t},(function(){this.setState({weekFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateWise.php/?month=1").then((function(e){t.setState({monthlyBill:Object.values(e.data)},(function(){var t=this.state.monthlyBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({monthlyBillTotal:t},(function(){this.setState({monthFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/fetchBillCopy.php").then((function(e){t.setState({topCompany:Object.values(e.data)},(function(){var t=this.state.topCompany.map((function(t){return t.company_name})).filter((function(t,e,a){return a.indexOf(t)===e}));this.setState({companyList:t},(function(){var t=this,e=this.state.companyList.map((function(e,a){return t.state.topCompany.filter((function(e){return e.company_name===t.state.companyList[a]})).map((function(t){return t.branchId}))})),a=this.state.companyList,s=this.state.companyList.map((function(e,a){return t.state.topCompany.filter((function(e){return e.company_name===t.state.companyList[a]})).length})),i=e.map((function(t){return t.filter((function(t,e,a){return a.indexOf(t)===e}))})).map((function(t){return t[0]})),n=this.state.companyList.map((function(e,a){return t.state.topCompany.filter((function(e){return e.company_name===t.state.companyList[a]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)})),l=Object.assign.apply({},[this.state.companyList.map((function(t,e,l){return{company_name:a[e],total:n[e],branchId:i[e],totalBill:s[e]}}))]);l.sort((function(t,e){return e.total-t.total}));var c=l.slice(0,7);this.setState({listData:c})}))}))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"analytics_container",children:[Object(h.jsx)("div",{className:"analytics_header",children:Object(h.jsx)("h1",{children:" Analytics"})}),Object(h.jsxs)("div",{className:"analytics_menu",children:[Object(h.jsx)("div",{className:"analytics_top",children:Object(h.jsxs)("div",{className:"analytics_revenue",children:[Object(h.jsxs)("div",{className:"analytics_revenue_top",children:[Object(h.jsx)("h3",{children:"Overall Sales "}),Object(h.jsx)(j.b,{to:"/Admin/analytics/reveue/Admin",children:Object(h.jsx)("button",{className:"css-button-sliding-to-left--sky",children:"View detial"})})]}),Object(h.jsxs)("div",{className:"analytics_revenue_menu",children:[Object(h.jsxs)("div",{className:"menu1 analytics_box",children:[Object(h.jsx)("h3",{children:"Today sales"}),Object(h.jsxs)("h2",{className:"revenue_h2",children:[" ",this.state.todayFormatedTotal," "]})]}),Object(h.jsxs)("div",{className:"menu2 analytics_box",children:[Object(h.jsx)("h3",{children:"Last 7 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.weekFormatedTotal})]}),Object(h.jsxs)("div",{className:"menu3 analytics_box",children:[Object(h.jsx)("h3",{children:"Last 30 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.monthFormatedTotal})]})]})]})}),Object(h.jsx)("div",{className:"analytics_bottom",children:Object(h.jsxs)("div",{className:"analytics_sales",children:[Object(h.jsxs)("div",{className:"analytics_sales_top",children:[Object(h.jsx)("h3",{children:"Customer Sales"}),Object(h.jsx)(j.b,{to:"/Admin/analytics/companySales",children:Object(h.jsx)("button",{className:"css-button-sliding-to-left--sky",children:"View detial"})})]}),Object(h.jsx)("div",{className:"analytics_sales_bottom",children:Object(h.jsxs)("table",{className:"analytics_table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"analytics_tablehead",children:"Si No"}),Object(h.jsx)("th",{className:"analytics_tablehead",children:"Company Name"}),Object(h.jsx)("th",{className:"analytics_tablehead",children:"Total Sales"})]})}),Object(h.jsx)("tbody",{children:this.state.listData.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.total})]})}))})]})})]})})]})]})}}]),a}(s.Component)),Q=(a(173),a(243)),T=a(238),M=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("http://billing-software.dkdeepak.com/api/fetch.php").then((function(e){t.setState({fetchData:e.data}),t.setState({copyData:e.data})}))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.productName.startsWith(e.target.value)}));t.setState({fetchData:a}),""===e.target.value?t.getData():a.length,t.setState({arrow:0})},t.onKeyDown=function(e){if(8===e.keyCode){var a=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:a}),t.getData()}},t.deleteRow=function(e){w()({method:"post",url:"http://billing-software.dkdeepak.com/api/delete.php/?delete="+e}).then((function(t){t.status})),t.setState({arrow:0},(function(){t.getData()}))},t.alertMsg=function(e){F.a.fire({title:"Are you sure?",text:"Do you want to Delete this Product!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&(F.a.fire("Deleted!","Your file has been deleted.","success"),t.deleteRow(e))}))},t.sortId=function(){t.setState({sortValueId:!t.state.sortValueId}),!0===t.state.sortValueId?t.setState(t.state.fetchData.sort((function(t,e){return t.id-e.id}))):!1===t.state.sortValueId&&t.setState(t.state.fetchData.sort((function(t,e){return e.id-t.id})))},t.sortName=function(){t.setState({sortvalueName:!t.state.sortvalueName}),!0===t.state.sortvalueName?t.setState(t.state.fetchData.sort((function(t,e){return t.productName.localeCompare(e.productName)}))):!1===t.state.sortvalueName&&t.setState(t.state.fetchData.sort((function(t,e){return e.productName.localeCompare(t.productName)})))},t.sortPrice=function(){t.setState({sortvaluePrice:!t.state.sortvaluePrice}),!0===t.state.sortvaluePrice?t.setState(t.state.fetchData.sort((function(t,e){return t.totalPrice-e.totalPrice}))):!1===t.state.sortvaluePrice&&t.setState(t.state.fetchData.sort((function(t,e){return e.totalPrice-t.totalPrice})))},t.sortUnits=function(){t.setState({sortvalueUnits:!t.state.sortvalueUnits}),!0===t.state.sortvalueUnits?t.setState(t.state.fetchData.sort((function(t,e){return t.units.localeCompare(e.units)}))):!1===t.state.sortvalueUnits&&t.setState(t.state.fetchData.sort((function(t,e){return e.units.localeCompare(t.units)})))},t.sortgst=function(){t.setState({sortvaluegst:!t.state.sortvaluegst}),!0===t.state.sortvaluegst?t.setState(t.state.fetchData.sort((function(t,e){return t.gst-e.gst}))):!1===t.state.sortvaluegst&&t.setState(t.state.fetchData.sort((function(t,e){return e.gst-t.gst})))},t.state={fetchData:[],copyData:[],sortValueId:!1,sortvalueName:!1,sortvaluePrice:!1,sortvalueUnits:!1,sortvaluegst:!1,arrow:0},t.getData(),t}return Object(r.a)(a,[{key:"render",value:function(){var t=this,e=this.state.sortValueId,a=this.state.sortvalueName,s=this.state.sortvaluePrice,i=this.state.sortvalueUnits,n=this.state.sortvaluegst;return Object(h.jsxs)("div",{className:"np_container",children:[Object(h.jsxs)("div",{className:"np_header",children:[Object(h.jsx)("div",{className:"np_left",children:Object(h.jsx)("h1",{children:"Products"})}),Object(h.jsxs)("div",{className:"np_right",children:[Object(h.jsx)("div",{className:"np_right_search",children:Object(h.jsx)(D.a,{label:"Search",id:"Search",sx:{m:1,width:"35ch"},placeholder:"Search for product",onChange:this.searchBar,onKeyDown:this.onKeyDown,size:"small",InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(x.d,{})})}})}),Object(h.jsx)(j.b,{to:"/Admin/new_products/addnew",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:" Add Product"})})]})]}),Object(h.jsx)("div",{className:"np_mainwrap",children:0===this.state.fetchData.length?Object(h.jsx)("div",{style:{margin:"3% 0%"},children:Object(h.jsx)("h3",{children:"No Products found"})}):Object(h.jsx)("div",{style:{overflowX:"auto"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsxs)("th",{className:"table_head",onClick:this.sortId,children:[e?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"ID"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortName,children:[a?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Product Name"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortPrice,children:[s?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Price"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortUnits,children:[i?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Units"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortgst,children:[n?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Gst %"]}),Object(h.jsx)("th",{className:"table_head",children:"Delete"}),Object(h.jsx)("th",{className:"table_head",children:"Edit"})]})}),Object(h.jsx)("tbody",{children:this.state.fetchData.map((function(e,a){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsxs)("td",{children:["PID",e.id]}),Object(h.jsx)("td",{children:e.productName}),Object(h.jsx)("td",{children:e.totalPrice}),Object(h.jsx)("td",{children:e.units}),Object(h.jsxs)("td",{children:[e.gst,"%"]}),Object(h.jsx)("td",{sx:{width:100},children:Object(h.jsx)(Q.a,{variant:"contained",size:"small",color:"error",onClick:function(){return t.alertMsg(e.id)},children:Object(h.jsx)(y.a,{})})}),Object(h.jsx)("td",{sx:{width:100},children:Object(h.jsx)(j.b,{to:"/Admin/update_price/edit/".concat(e.id),children:Object(h.jsx)("button",{className:"css-button-rounded--green",style:{minWidth:80,height:40},children:"Edit"})})})]},e.id)}))})]})})})]})}}]),a}(s.Component),A=a(13),E=(a(174),Object(A.a)("input")({display:"none"}),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).uservalue=function(e){t.setState(Object(N.a)({},e.target.name,[e.target.value]),(function(){t.totalPrice()}))},t.onselectchange=function(e){t.setState({units:e.target.value},(function(){t.totalPrice()}))},t.totalPrice=function(e){""===t.state.gst&&t.setState({gst:0});var a=t.state.productPrice,s=t.state.gst,i=a*s/100,n=parseFloat(t.state.productPrice)+parseFloat(i);console.log(a),console.log(s),console.log(i),console.log(n),t.setState({totalPrice:n})},t.onSubmit=function(e){e.preventDefault();var a=new FormData;a.append("productName",t.state.productName),a.append("productPrice",t.state.productPrice),a.append("gst",t.state.gst),a.append("units",t.state.units),a.append("totalPrice",t.state.totalPrice),a.append("desc",t.state.desc),""===t.state.productName||""===t.state.productPrice||""===t.state.gst||""===t.state.totalPrice?F.a.fire({title:"Please fill all the details",icon:"error"}):(t.totalPrice(),w()({method:"post",url:"http://billing-software.dkdeepak.com/api/addproduct.php",data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){!0===t.data.includes("Duplicate entry")?F.a.fire({title:"Product already Exists",icon:"error"}):F.a.fire({title:"Product added",icon:"success"}).then((function(t){t.isConfirmed}))})).catch((function(t){F.a.fire({title:"Error inserting data",icon:"error"})})),t.props.history.push("/Admin/new_products"))},t.state={productName:"",productPrice:0,gst:"",units:"kg",totalPrice:"",desc:""},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.totalPrice()}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"ip_container",children:[Object(h.jsx)("h2",{className:"ip_header_name",children:"Add new product"}),Object(h.jsxs)("form",{className:"ip_form",onSubmit:this.onSubmit,children:[Object(h.jsx)("div",{className:"ip_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Product Name",variant:"outlined",size:"small",name:"productName",inputProps:{min:"0",step:"1"},onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ip_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"number",label:"Product Price",variant:"outlined",size:"small",name:"productPrice",inputProps:{min:"0",step:"1"},onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ip_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"number",label:"Gst %",variant:"outlined",size:"small",style:{width:"70%"},name:"gst",inputProps:{min:"0",step:"1"},onChange:this.uservalue})}),Object(h.jsxs)("div",{className:"ip_form_gap ip_units",children:[Object(h.jsx)("label",{className:"selectlabel",children:"Units"}),Object(h.jsxs)("select",{size:"small",name:"units",onChange:this.onselectchange,value:this.state.units,className:"select",children:[Object(h.jsx)("option",{value:"kg",children:"Kg"}),Object(h.jsx)("option",{value:"liter",children:"Liter"}),Object(h.jsx)("option",{value:"pkt",children:"packet"})]})]}),Object(h.jsx)("div",{className:"ip_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-textarea",label:"Description",multiline:!0,name:"desc",onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ip_form_gap",children:Object(h.jsx)("button",{onClick:this.onSubmit,className:"css-button-rounded--blue ip_button",children:"Add Product"})})]})]})}}]),a}(s.Component)),G=(a(175),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).uservalue=function(t){s.setState(Object(N.a)({},t.target.name,[t.target.value]),(function(){s.totalPrice()}))},s.totalPrice=function(t){var e=s.state.productPrice*s.state.gst/100,a=parseInt(s.state.productPrice)+parseInt(e);s.setState({newTotal:a})},s.onSubmit=function(t){t.preventDefault(),s.totalPrice(),console.log(s.state.units);var e=new FormData;e.append("id",s.state.id),e.append("productName",s.state.productName),e.append("productPrice",s.state.productPrice),e.append("gst",s.state.gst),e.append("units",""===s.state.units?"kg":s.state.units),e.append("desc",s.state.desc),e.append("totalPrice",s.state.newTotal),""===s.state.productName||""===s.state.productPrice?F.a.fire({title:"Please fill all the details",icon:"error"}):(s.totalPrice(),w()({method:"post",url:"http://billing-software.dkdeepak.com/api/edit.php",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){!0===t.data.includes("Duplicate entry")?F.a.fire({title:"Product already Exists",icon:"error"}):F.a.fire({title:"Product update",icon:"success"}).then((function(t){t.isConfirmed}))})).catch((function(t){console.log(t),F.a.fire({title:"Error inserting data",icon:"error"})}))),s.props.history.push("/Admin/new_products")},s.state={getData:"",id:"",productName:"",productPrice:"",units:"",totalPrice:"",gst:"",desc:"",newTotal:""},s.totalPrice(),s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/fetchProductData.php/?id="+this.props.match.params.id).then((function(e){t.setState({getData:e.data}),t.setState({id:t.state.getData[0].id}),t.setState({productName:t.state.getData[0].productName}),t.setState({productPrice:t.state.getData[0].productPrice}),t.setState({units:t.state.getData[0].units}),t.setState({totalPrice:t.state.getData[0].totalPrice}),t.setState({gst:t.state.getData[0].gst}),t.setState({desc:t.state.getData[0].desc})})),this.totalPrice()}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"ep_container",children:[Object(h.jsx)("div",{className:"ep_header",children:Object(h.jsx)("h2",{children:"Update Product"})}),Object(h.jsxs)("form",{className:"ep_form",children:[Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Product Name",variant:"outlined",size:"small",disabled:!0,name:"productName",value:this.state.productName,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",inputProps:{min:"0",step:"1"},type:"text",label:"Price",variant:"outlined",size:"small",name:"productPrice",value:this.state.productPrice,onChange:this.uservalue})}),Object(h.jsxs)("div",{className:"ep_form_gap",children:[Object(h.jsx)("label",{className:"selectlabel",children:"Units"}),Object(h.jsxs)("select",{size:"small",name:"units",className:"select",value:this.state.units,onChange:this.uservalue,defaultValue:"kg",children:[Object(h.jsx)("option",{value:"kg",children:"Kg"}),Object(h.jsx)("option",{value:"liter",children:"Liter"}),Object(h.jsx)("option",{value:"pkt",children:"packet"})]})]}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Gst %",variant:"outlined",size:"small",name:"gst",value:this.state.gst,inputProps:{min:"0",step:"1"},onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-textarea",label:"Description",multiline:!0,name:"desc",value:this.state.desc,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.onSubmit,children:"Update"})})]})]})}}]),a}(i.a.Component)),V=(a(176),a(34)),z=(a(85),a(48)),L=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).productAnalytics=function(e,a,s){console.log(a.text),w.a.get("http://billing-software.dkdeepak.com/api/fetchProductData.php/?pName="+a.text).then((function(e){t.props.history.push("/admin/allProduct/"+e.data[0].id)}))},t.downloadPDF=function(){w.a.get("http://billing-software.dkdeepak.com/api/mailBill.php/?billNo="+t.state.billNo+"&user=1&download=1").then((function(t){if(t.data[0].includes(".pdf")){var e=t.data[0],a="http://billing-software.dkdeepak.com/api/"+e;console.log(a),console.log(e),Object(z.saveAs)(a,t.data+".pdf")}}))},t.mail=function(){F.a.fire({title:"Mail sending",html:"Please wait until Mail sent succesfull",timer:2e4,timerProgressBar:!0,didOpen:function(){F.a.showLoading();F.a.getHtmlContainer().querySelector("b")},willClose:function(){clearInterval(undefined)}}).then((function(t){t.dismiss,F.a.DismissReason.timer})),w.a.get("http://billing-software.dkdeepak.com/api/mailBill.php/?billNo="+t.state.billNo+"&user=1&mail=1").then((function(e){F.a.fire("Mail succesfully sent!","Bill copy has sucessFully sent to ".concat(t.state.company_name),"success")}))},t.state={parsedData:[],getData:[],billNo:"",company_name:"",branchId:"",pageTotal:"",time:""},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/ViewBillCopy.php/?id="+this.props.match.params.billNo).then((function(e){t.setState({getData:e.data}),t.setState({billNo:Object.entries(e.data)[0][1]}),t.setState({company_name:Object.entries(e.data)[1][1]}),t.setState({branchId:Object.entries(e.data)[2][1]}),t.setState({parsedData:JSON.parse(Object.entries(e.data)[3][1])}),t.setState({pageTotal:Object.entries(e.data)[4][1]}),t.setState({time:Object.entries(e.data)[5][1]}),console.log(t.state.parsedData.map((function(t){return"g"===t.billUnits||"ml"===t.billUnits?t.billQuantity/1e3:t.billQuantity})))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"edit_bill_container",children:[Object(h.jsxs)("div",{className:"edit_bill_head",children:[Object(h.jsxs)("div",{className:"edit_bill_head_left",children:[Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsx)("h2",{style:{padding:"2% 0%"},children:"Bill Details:"})}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"2% 0%",color:"rgba(34, 34, 34, 0.815)"},children:["Bill No : ",this.state.billNo]})}),Object(h.jsxs)("div",{className:"bill_style_row",children:[Object(h.jsxs)("h4",{style:{padding:"2% 0%",color:"rgba(34, 34, 34, 0.815)"},children:["Company name : ",this.state.company_name]}),Object(h.jsx)(j.b,{to:"/Admin/analytics/companySales/".concat(this.state.company_name),children:Object(h.jsx)("button",{className:"css-button-rounded--rose",style:{minWidth:80,height:30},children:" Statistic "})})]}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"2% 0%",color:"rgba(34, 34, 34, 0.815)"},children:["Date & time : ",this.state.time]})}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"2% 0%",color:"rgba(34, 34, 34, 0.815)"},children:["Total : ",this.state.pageTotal]})})]}),Object(h.jsx)("div",{className:"edit_bill_head_right ",children:Object(h.jsx)(V.b,{data:{labels:this.state.parsedData.map((function(t){return t.billProductName})),datasets:[{label:"Product List",backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4","#FF6633","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],data:this.state.parsedData.map((function(t){return"g"===t.billUnits||"ml"===t.billUnits?t.billQuantity/1e3:t.billQuantity}))}]},options:{layout:{padding:30},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",align:"center"},title:{display:!0,text:"Product Quantity",align:"center",position:"top",font:{size:16}}}}})})]}),Object(h.jsx)("div",{className:"edit_bill_menu",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Product Id"}),Object(h.jsx)("th",{className:"table_head",children:"Product Name"}),Object(h.jsx)("th",{className:"table_head",children:"Product Price"}),Object(h.jsx)("th",{className:"table_head",children:"Quantity"}),Object(h.jsx)("th",{className:"table_head",children:"Total Price"})]})}),Object(h.jsx)("tbody",{children:0===this.state.parsedData.length?Object(h.jsx)("h5",{children:" NO Data Found"}):this.state.parsedData.map((function(t,e){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsxs)("td",{children:["PID",t.billProductId]}),Object(h.jsx)("td",{children:t.billProductName}),Object(h.jsx)("td",{children:t.billProductPrice}),Object(h.jsxs)("td",{children:[t.billQuantity,t.billUnits]}),Object(h.jsx)("td",{children:t.billTotalPrice})]},e+1)}))})]})})]})}}]),a}(s.Component),Y=a(17),R=a(35),W=(a(109),a(241)),U=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t,s;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("http://billing-software.dkdeepak.com/api/fetch.php").then((function(e){t.setState({copyData:e.data})})),console.log(typeof localStorage.getItem("cid"))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value.toLowerCase())}));t.setState({fetchData:a},(function(){var t=this.state.fetchData.length;t<=3&&(s.style.height="120px"),t<=2&&(s.style.height="80px"),t<=1&&(s.style.height="40px"),t>=4&&(s.style.height="160px")})),t.setState({selectedValues:e.target.value});document.getElementById("searchBar");var s=document.getElementById("searchResult");""!=e.target.value?s.style.display="block":(s.style.display="none",t.setState({fetchData:[]}),t.setState({wholesalePrice:""})),t.setState({arrow:0})},t.onKeyDown=function(e){var a=document.getElementById("searchResult");if(8===e.keyCode){var s=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:s},(function(){var t=this.state.fetchData.length;t<=3&&(a.style.height="120px"),t<=2&&(a.style.height="80px"),t<=1&&(a.style.height="40px"),t>=4&&(a.style.height="160px")}))}(38===e.keyCode&&t.state.arrow>0&&t.setState({arrow:t.state.arrow-1},(function(){a.scrollTo(0,a.scrollTop-40)})),40===e.keyCode&&t.state.arrow<t.state.fetchData.length-1&&(a.scrollTop>=3?a.scrollTo(0,a.scrollTop+40):a.scrollTo(0,a.scrollTop+2),t.setState({arrow:t.state.arrow+1},(function(){}))),13===e.keyCode)&&(void 0!==(s=t.state.fetchData[t.state.arrow])&&t.selectData(t.state.arrow,s.productName))},t.calculatePrice=function(e){var a=[];void 0===t.state.quanunit?(a=[]).push(parseInt(document.getElementById("punit").childNodes[0].value)):(a=[]).push(t.state.quanunit),console.log(t.state.quanunit),t.setState({quanunit:parseInt(a[0])},(function(){if(1===t.state.quanunit){var a=parseInt(e.target.value),s=a*t.state.wholesalePrice;t.setState({Quantity:a}),t.setState({quantityPrice:s}),t.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===t.state.quanunit){var i=parseInt(e.target.value),n=i*t.state.wholesalePrice;t.setState({Quantity:i}),t.setState({quantityPrice:n}),t.setState({punit:"liter"},(function(){console.log(t.state.punit)}))}else if(3===t.state.quanunit){var l=parseInt(e.target.value),c=t.state.wholesalePrice,r=l*parseFloat(c/1e3);t.setState({Quantity:l}),t.setState({quantityPrice:r}),t.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===t.state.quanunit){var o=parseInt(e.target.value),u=t.state.wholesalePrice,d=o*parseFloat(u/1e3);t.setState({Quantity:o}),t.setState({quantityPrice:d}),t.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===t.state.quanunit){var h=parseInt(e.target.value),p=h*t.state.wholesalePrice;t.setState({Quantity:h}),t.setState({quantityPrice:p}),t.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))},t.alertMsg=function(e){F.a.fire({title:"Are you sure?",text:"Do you want to delete this product",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&(F.a.fire("Deleted!","Your file has been deleted.","success"),t.deleteRow(e))}))},t.deleteRow=function(e){var a=Object(Y.a)(t.state.billingproducts);a.splice(e,1),t.setState({billingproducts:a},(function(){localStorage.setItem("bill",JSON.stringify(this.state.billingproducts))}))},t.addProduct=function(){if(t.setState({count:t.state.count+1},(function(){var t=this,e=this.state.billingproducts.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0);this.setState({pageTotal:parseFloat(e).toFixed(2)},(function(){t.setState({balancePayment:t.state.pageTotal})}))})),t.setState({count:t.state.count+1},(function(){var t=this.state.billingproducts.map((function(t){return t.billProductGst})).reduce((function(t,e){return t+e}),0)/this.state.billingproducts.length;this.setState({TotalGst:t},(function(){}))})),""===t.state.selectedValues)F.a.fire({title:"Empty Filed?",icon:"warning"});else{w.a.get("http://billing-software.dkdeepak.com/api/getBillNo.php").then((function(e){t.setState({getbillNo:parseInt(Object.values(e.data[0]))+1},(function(){localStorage.setItem("billNo",this.state.getbillNo)}))}));var e=Object(Y.a)(t.state.billingproducts),a=t.state.fetchData[0].id,s=t.state.fetchData[0].productName,i=(t.state.fetchData[0].totalPrice,t.state.wholesalePrice),n=t.state.GstValueinPer,l=t.state.punit,c=t.state.Quantity,r=t.state.quantityPrice;e.push({billProductId:a,billProductName:s,billQuantity:c,billUnits:l,billProductPrice:i,billProductGst:n,billTotalPrice:r}),t.setState({billingproducts:e},(function(){localStorage.setItem("bill",JSON.stringify(this.state.billingproducts))})),t.setState({selectedValues:""}),document.getElementById("quantityInput").value="",t.setState({fetchData:[]}),t.setState({quantityPrice:""}),t.setState({Quantity:""}),t.setState({wholesalePrice:""}),t.setState({withoutgst:0}),t.setState({gstType:!0}),t.setState({GstValueinPer:0},(function(){console.log(t.state.GstValueinPer)})),t.setState({quanunit:void 0}),document.getElementById("searchResult").style.display="none",document.getElementById("gstType").value=1,document.getElementById("priceInput").value=""}},t.updateBill=function(){var e=new FormData;e.append("branchId",localStorage.getItem("adminName")),e.append("company_name",t.props.match.params.cmpName),e.append("billNo",t.state.getbillNo),e.append("billData",JSON.stringify(t.state.billingproducts)),e.append("Desc",t.state.description),e.append("tandc",t.state.tandc),e.append("advancePayment",t.state.advancePayment),e.append("balancePayment",t.state.balancePayment),e.append("pageTotal",t.state.pageTotal),e.append("cid",localStorage.getItem("cid")),w()({method:"post",url:"http://billing-software.dkdeepak.com/api/getAdminBill.php",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){!0===t.data.includes("Duplicate entry")?F.a.fire({title:"Product already Exists",icon:"error"}):F.a.fire({title:"Successfully Billed",icon:"success"}).then((function(t){t.isConfirmed}))})),localStorage.removeItem("bill"),localStorage.removeItem("company_name"),t.setState({billingproducts:[]}),t.setState({pageTotal:0}),t.setState({selectedValues:""}),t.setState({Quantity:""}),t.setState({quantityPrice:0}),t.setState({description:""}),t.setState({tandc:""}),t.setState({advancePayment:0}),t.setState({balancePayment:0}),document.getElementById("searchResult").style.display="none",document.getElementById("quantityInput").value="",window.print(),t.props.history.push("/Admin/billingName")},t.gramPrice=function(e){t.setState({quanunit:parseInt(e.target.value)},(function(){if(1===t.state.quanunit){var e=t.state.Quantity,a=e*t.state.wholesalePrice;t.setState({Quantity:e}),t.setState({quantityPrice:a}),t.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===t.state.quanunit){var s=t.state.Quantity,i=s*t.state.wholesalePrice;t.setState({Quantity:s}),t.setState({quantityPrice:i}),t.setState({punit:"liter"},(function(){console.log(t.state.punit)}))}else if(3===t.state.quanunit){var n=t.state.Quantity,l=t.state.wholesalePrice,c=n*parseFloat(l/1e3);t.setState({Quantity:n}),t.setState({quantityPrice:c}),t.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===t.state.quanunit){var r=t.state.Quantity,o=t.state.wholesalePrice,u=r*parseFloat(o/1e3);t.setState({Quantity:r}),t.setState({quantityPrice:u}),t.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===t.state.quanunit){var d=t.state.Quantity,h=d*t.state.wholesalePrice;t.setState({Quantity:d}),t.setState({quantityPrice:h}),t.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))},t.defineGst=function(e){1===parseInt(e.target.value)?(t.setState({gstType:!0}),t.setState({wholesalePrice:t.state.withoutgst},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))):2===parseInt(e.target.value)&&t.setState({gstType:!1})},t.addNewProductDB=function(){var e=new FormData;e.append("productName",t.state.selectedValues),w()({method:"post",url:"http://billing-software.dkdeepak.com/api/addproduct.php",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}),t.getData(),t.refreshNewData(t.state.selectedValues)},t.refreshNewData=function(e){w.a.get("http://billing-software.dkdeepak.com/api/fetch.php").then((function(a){t.setState({copyData:a.data},(function(){var t=this.state.copyData.filter((function(t){return t.productName.includes(e)}));this.setState({fetchData:t})}))}))},t.Price=function(e){if(t.setState({withoutgst:e.target.value}),0===t.state.wholesalePrice)t.setState({wholesalePrice:e.target.value},(function(){var t=this;if(1===this.state.quanunit){var a=this.state.Quantity,s=a*this.state.wholesalePrice;this.setState({Quantity:a}),this.setState({quantityPrice:s}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var i=this.state.Quantity,n=i*this.state.wholesalePrice;this.setState({Quantity:i}),this.setState({quantityPrice:n}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var l=this.state.Quantity,c=this.state.wholesalePrice,r=l*parseFloat(c/1e3);this.setState({Quantity:l}),this.setState({quantityPrice:r}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var o=this.state.Quantity,u=this.state.wholesalePrice,d=o*parseFloat(u/1e3);this.setState({Quantity:o}),this.setState({quantityPrice:d}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var h=e.target.value,p=h*this.state.wholesalePrice;this.setState({Quantity:h}),this.setState({quantityPrice:p}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}));else if(0!==t.state.wholesalePrice)if(t.setState({wholesalePrice:e.target.value},(function(){var t=this;if(1===this.state.quanunit){var a=this.state.Quantity,s=a*this.state.wholesalePrice;this.setState({Quantity:a}),this.setState({quantityPrice:s}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var i=this.state.Quantity,n=i*this.state.wholesalePrice;this.setState({Quantity:i}),this.setState({quantityPrice:n}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var l=this.state.Quantity,c=this.state.wholesalePrice,r=l*parseFloat(c/1e3);this.setState({Quantity:l}),this.setState({quantityPrice:r}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var o=this.state.Quantity,u=this.state.wholesalePrice,d=o*parseFloat(u/1e3);this.setState({Quantity:o}),this.setState({quantityPrice:d}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var h=e.target.value,p=h*this.state.wholesalePrice;this.setState({Quantity:h}),this.setState({quantityPrice:p}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}})),1===t.state.gstPercentage){var a=0*e.target.value/100,s=parseFloat(a)+parseInt(e.target.value);t.setState({wholesalePrice:s}),t.setState({GstValueinPer:0})}else if(2===t.state.gstPercentage){var i=0*e.target.value/100,n=parseFloat(i)+parseInt(e.target.value);t.setState({wholesalePrice:n}),t.setState({GstValueinPer:0})}else if(3===t.state.gstPercentage){var l=0*e.target.value/100,c=parseFloat(l)+parseInt(e.target.value);t.setState({wholesalePrice:c}),t.setState({GstValueinPer:0})}else if(4===t.state.gstPercentage){var r=.25*e.target.value/100,o=parseFloat(r)+parseInt(e.target.value);t.setState({wholesalePrice:o}),t.setState({GstValueinPer:.25})}else if(5===t.state.gstPercentage){var u=.25*e.target.value/100,d=parseFloat(u)+parseInt(e.target.value);t.setState({wholesalePrice:d}),t.setState({GstValueinPer:.25})}else if(6===t.state.gstPercentage){var h=3*e.target.value/100,p=parseFloat(h)+parseInt(e.target.value);t.setState({wholesalePrice:p}),t.setState({GstValueinPer:3})}else if(7===t.state.gstPercentage){var b=3*e.target.value/100,j=parseFloat(b)+parseInt(e.target.value);t.setState({wholesalePrice:j}),t.setState({GstValueinPer:3})}else if(8===t.state.gstPercentage){var m=5*e.target.value/100,g=parseFloat(m)+parseInt(e.target.value);t.setState({wholesalePrice:g}),t.setState({GstValueinPer:5})}else if(9===t.state.gstPercentage){var f=5*e.target.value/100,y=parseFloat(f)+parseInt(e.target.value);t.setState({wholesalePrice:y}),t.setState({GstValueinPer:5})}else if(10===t.state.gstPercentage){var x=12*e.target.value/100,O=parseFloat(x)+parseInt(e.target.value);t.setState({wholesalePrice:O}),t.setState({GstValueinPer:12})}else if(11===t.state.gstPercentage){var v=12*e.target.value/100,S=parseFloat(v)+parseInt(e.target.value);t.setState({wholesalePrice:S}),t.setState({GstValueinPer:12})}else if(12===t.state.gstPercentage){var P=18*e.target.value/100,N=parseFloat(P)+parseInt(e.target.value);t.setState({wholesalePrice:N}),t.setState({GstValueinPer:18})}else if(13===t.state.gstPercentage){var D=18*e.target.value/100,_=parseFloat(D)+parseInt(e.target.value);t.setState({wholesalePrice:_}),t.setState({GstValueinPer:18})}else if(14===t.state.gstPercentage){var w=28*e.target.value/100,B=parseFloat(w)+parseInt(e.target.value);t.setState({wholesalePrice:B}),t.setState({GstValueinPer:28})}else if(15===t.state.gstPercentage){var F=28*e.target.value/100,I=parseFloat(F)+parseInt(e.target.value);t.setState({wholesalePrice:I}),t.setState({GstValueinPer:28})}},t.fillBill=function(e){t.setState(Object(N.a)({},e.target.name,[e.target.value]))},t.addBreakpoint=function(t){},t.addGst=function(e){parseInt(e.target.value);if(t.setState({gstPercentage:parseInt(e.target.value)}),1===parseInt(e.target.value)){var a=0*t.state.withoutgst/100,s=parseFloat(a)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:0}),t.setState({wholesalePrice:s},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(2===parseInt(e.target.value)){var i=0*t.state.withoutgst/100,n=parseFloat(i)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:0}),t.setState({wholesalePrice:n},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(3===parseInt(e.target.value)){var l=0*t.state.withoutgst/100,c=parseFloat(l)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:0}),t.setState({wholesalePrice:c},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(4===parseInt(e.target.value)){var r=.25*t.state.withoutgst/100,o=parseFloat(r)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:.25}),t.setState({wholesalePrice:o},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(5===parseInt(e.target.value)){var u=.25*t.state.withoutgst/100,d=parseFloat(u)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:.25}),t.setState({wholesalePrice:d},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(6===parseInt(e.target.value)){var h=3*t.state.withoutgst/100,p=parseFloat(h)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:3}),t.setState({wholesalePrice:p},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(7===parseInt(e.target.value)){var b=3*t.state.withoutgst/100,j=parseFloat(b)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:3}),t.setState({wholesalePrice:j},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(8===parseInt(e.target.value)){var m=5*t.state.withoutgst/100,g=parseFloat(m)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:5}),t.setState({wholesalePrice:g},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(9===parseInt(e.target.value)){var f=5*t.state.withoutgst/100,y=parseFloat(f)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:5}),t.setState({wholesalePrice:y},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(10===parseInt(e.target.value)){var x=12*t.state.withoutgst/100,O=parseFloat(x)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:12}),t.setState({wholesalePrice:O},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(11===parseInt(e.target.value)){var v=12*t.state.withoutgst/100,S=parseFloat(v)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:12}),t.setState({wholesalePrice:S},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(12===parseInt(e.target.value)){var P=18*t.state.withoutgst/100,N=parseFloat(P)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:18}),t.setState({wholesalePrice:N},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(13===parseInt(e.target.value)){var D=18*t.state.withoutgst/100,_=parseFloat(D)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:18}),t.setState({wholesalePrice:_},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(14===parseInt(e.target.value)){var w=28*t.state.withoutgst/100,B=parseFloat(w)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:28}),t.setState({wholesalePrice:B},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(15===parseInt(e.target.value)){var F=28*t.state.withoutgst/100,I=parseFloat(F)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:28}),t.setState({wholesalePrice:I},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}},t.payment=function(e){t.setState({advancePayment:e.target.value});var a=t.state.pageTotal,s=e.target.value,i=parseFloat(a-s).toFixed(2);t.setState({balancePayment:i})},t.cancelBill=function(){localStorage.removeItem("company_name"),localStorage.removeItem("bill"),t.props.history.push("/Admin/billingName")},t.confirmBill=function(){var t=document.getElementById("b_container"),e=document.getElementById("confirm_hide");t.style.display="none",e.style.display="block"},t.confirmBillBack=function(){var t=document.getElementById("b_container"),e=document.getElementById("confirm_hide");t.style.display="block",e.style.display="none"},t.sortPid=function(){t.setState({sortPid:!t.state.sortPid}),!0===t.state.sortPid?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billProductId)-parseInt(e.billProductId)}))):!1===t.state.sortPid&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billProductId)-parseInt(t.billProductId)})))},t.sortProductName=function(){t.setState({sortProductName:!t.state.sortProductName}),!0===t.state.sortProductName?t.setState(t.state.billingproducts.sort((function(t,e){return t.billProductName.localeCompare(e.billProductName)}))):!1===t.state.sortProductName&&t.setState(t.state.billingproducts.sort((function(t,e){return e.billProductName.localeCompare(t.billProductName)})))},t.sortProductPrice=function(){t.setState({sortProductPrice:!t.state.sortProductPrice}),!0===t.state.sortProductPrice?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billProductPrice)-parseInt(e.billProductPrice)}))):!1===t.state.sortProductPrice&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billProductPrice)-parseInt(t.billProductPrice)})))},t.sortProductGst=function(){t.setState({sortProductGst:!t.state.sortProductGst}),!0===t.state.sortProductGst?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billProductGst)-parseInt(e.billProductGst)}))):!1===t.state.sortProductGst&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billProductGst)-parseInt(t.billProductGst)})))},t.sortProductQuantity=function(){t.setState({sortProductQuantity:!t.state.sortProductQuantity}),!0===t.state.sortProductQuantity?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billQuantity)-parseInt(e.billQuantity)}))):!1===t.state.sortProductQuantity&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billQuantity)-parseInt(t.billQuantity)})))},t.sortProductTotal=function(){t.setState({sortProductTotal:!t.state.sortProductTotal}),!0===t.state.sortProductTotal?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billTotalPrice)-parseInt(e.billTotalPrice)}))):!1===t.state.sortProductTotal&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billTotalPrice)-parseInt(t.billTotalPrice)})))},s=null===localStorage.getItem("bill")?[]:JSON.parse(localStorage.getItem("bill")),t.state={fetchData:[],copyData:[],selectedValues:"",wholesalePrice:0,Quantity:"",quanunit:void 0,gstType:!0,gstPercentage:0,GstValueinPer:0,quantityPrice:0,billingproducts:s,pageTotal:0,count:0,punit:"",getbillNo:"",description:"",tandc:"",advancePayment:0,balancePayment:0,company_name:"",GstPrice:0,withoutgst:0,TotalGst:0,customerGst:[],arrow:0,sortPid:!1,sortProductName:!1,sortProductPrice:!1,sortProductGst:!1,sortProductWholesalePrice:!1,sortProductQuantity:!1,sortProductTotal:!1},t.getData(),t.selectData=t.selectData.bind(Object(R.a)(t)),t}return Object(r.a)(a,[{key:"selectData",value:function(t,e){var a=this,s=this.state.copyData.filter((function(t){return t.productName===e}));this.setState({fetchData:s},(function(){console.log(a.state.fetchData.map((function(t){return"kg"===t.units})))})),this.setState({selectedValues:e},(function(){document.getElementById("searchResult").style.display="none",a.setState({wholesalePrice:a.state.fetchData.filter((function(t){return t.productName===a.state.selectedValues})).map((function(t){return t.totalPrice}))}),a.setState({withoutgst:a.state.fetchData.filter((function(t){return t.productName===a.state.selectedValues})).map((function(t){return t.totalPrice}))})}))}},{key:"render",value:function(){var t=this,e=this.state.billingproducts,a=new Date,s=this.props.match.params.cmpName;localStorage.setItem("company_name",s);var i=this.state.sortPid,n=this.state.sortProductName,l=this.state.sortProductPrice,c=this.state.sortProductGst,r=(this.state.sortProductWholesalePrice,this.state.sortProductQuantity),o=this.state.sortProductTotal;return Object(h.jsxs)("div",{className:"blur_container",children:[Object(h.jsxs)("div",{className:"b_container",id:"b_container",children:[Object(h.jsxs)("div",{className:"b_name_header_heading",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Billing"}),Object(h.jsxs)("h3",{children:["Company name : ",s]})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"css-button-rounded--red",onClick:this.cancelBill,children:"Cancel bill"})})]}),Object(h.jsxs)("div",{className:"Wholesale_header",children:[Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Product Name"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(D.a,{id:"searchBar",variant:"outlined",size:"small",onChange:this.searchBar,onKeyDown:this.onKeyDown,value:this.state.selectedValues}),Object(h.jsx)("div",{className:"wholesale_searchResult",id:"searchResult",children:0===this.state.fetchData.length?Object(h.jsx)("p",{className:"items",children:"No Data Found"}):this.state.fetchData.map((function(e,a){return Object(h.jsx)("p",{className:"items",id:"items".concat(a)==="items".concat(t.state.arrow)?"active":"",onClick:function(){return t.selectData(e.id,e.productName)},children:e.productName},e.id)}))}),""!==this.state.selectedValues?Object(h.jsx)(k.a,{variant:"contained",style:{marginLeft:"10px"},onClick:this.addNewProductDB,children:"Add new"}):Object(h.jsx)(h.Fragment,{})]})]}),Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Price"}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{id:"priceInput","aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100},onChange:this.Price,value:""===this.state.selectedValues?"":this.state.withoutgst})}),!0===this.state.gstType?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(W.a,{id:"priceInput","aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100},onChange:this.Price,value:""===this.state.selectedValues?"":this.state.wholesalePrice})]}),Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Gst type"}),Object(h.jsxs)("select",{labelId:"gstType",id:"gstType",sx:{height:40,width:150},onChange:this.defineGst,className:"select",style:{width:140},disabled:""===this.state.selectedValues,children:[Object(h.jsx)("option",{value:1,id:"s",children:"Includes Gst"}),Object(h.jsx)("option",{value:2,id:"Excludes Gst",children:"Excludes Gst"})]}),!0===this.state.gstType?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{style:{margin:" 0px 10px"},children:"Gst value"}),Object(h.jsxs)("select",{labelId:"gstPercentage",id:"gstPercentage",sx:{height:40,width:150},onChange:this.addGst,className:"select",style:{width:140},children:[Object(h.jsx)("option",{value:1,id:"Exempted",children:"Exempted 0.0%"}),Object(h.jsx)("option",{value:2,id:"GST 0.0%",children:"GST 0.0%"}),Object(h.jsx)("option",{value:3,id:"IGST 0.0%",children:"IGST 0.0%"}),Object(h.jsx)("option",{value:4,id:"GST 0.25%",children:"GST 0.25%"}),Object(h.jsx)("option",{value:5,id:"IGST 0.25%",children:"IGST 0.25%"}),Object(h.jsx)("option",{value:6,id:"GST 3.0%",children:"GST 3.0%"}),Object(h.jsx)("option",{value:7,id:"IGST 3.0%",children:"IGST 3.0%"}),Object(h.jsx)("option",{value:8,id:"GST 5.0%",children:"GST 5.0%"}),Object(h.jsx)("option",{value:9,id:"IGST 5.0%",children:"IGST 5.0%"}),Object(h.jsx)("option",{value:10,id:"GST 12.0%",children:"GST 12.0%"}),Object(h.jsx)("option",{value:11,id:"IGST 12.0%",children:"IGST 12.0%"}),Object(h.jsx)("option",{value:12,id:"GST 18.0%",children:"GST 18.0%"}),Object(h.jsx)("option",{value:13,id:"IGST 18.0%",children:"IGST 18.0%"}),Object(h.jsx)("option",{value:14,id:"GST 28.0%",children:"GST 28.0%"}),Object(h.jsx)("option",{value:15,id:"IGST 28.0%",children:"IGST 28.0%"})]})]})]}),Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Quantity"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(W.a,{id:"quantityInput","aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100},onChange:this.calculatePrice,disabled:""===this.state.selectedValues}),Object(h.jsxs)("select",{labelId:"punit",id:"punit",sx:{height:40,width:100},onChange:this.gramPrice,style:{marginLeft:"10px"},className:"select",disabled:""===this.state.Quantity,children:[this.state.fetchData.map((function(e){return"pkt"===e.units?Object(h.jsx)("option",{value:5,id:"pkt",children:"pkt"}):t.state.fetchData.map((function(e){return"kg"===e.units?Object(h.jsx)("option",{value:1,id:"kg",children:"kg"}):t.state.fetchData.map((function(t){return"liter"===t.units?Object(h.jsx)("option",{value:2,id:"liter",children:"liter"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("option",{value:5,id:"pkt",children:"pkt"}),Object(h.jsx)("option",{value:1,id:"kg",children:"kg"}),Object(h.jsx)("option",{value:2,id:"liter",children:"liter"})]})}))}))})),this.state.fetchData.map((function(e){return"pkt"===e.units?Object(h.jsx)(h.Fragment,{}):t.state.fetchData.map((function(e){return"kg"===e.units?Object(h.jsx)("option",{value:3,id:"gram",children:"gram"}):t.state.fetchData.map((function(t){return"liter"===t.units?Object(h.jsx)("option",{value:4,id:"ml",children:"ml"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("option",{value:3,id:"gram",children:"gram"}),Object(h.jsx)("option",{value:4,id:"ml",children:"ml"})]})}))}))}))]})]})]}),Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Total Price"}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{disabled:!0,id:"outlined-adornment-weight",value:1===this.state.fetchData.length?this.state.quantityPrice:"",endAdornment:Object(h.jsx)(T.a,{position:"end",children:"Rs"}),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100}})})]}),Object(h.jsx)("div",{className:"wholesale_subheader",children:Object(h.jsx)("div",{className:"wholesale_sub_heading",v:!0,children:Object(h.jsxs)(k.a,{color:"success",variant:"contained","aria-label":"add an alarm",size:"medium",onClick:this.addProduct,children:[Object(h.jsx)(P.b,{}),"Add"]})})})]}),Object(h.jsx)("div",{className:"b_mainwrap",style:{overflowX:"auto",margin:"2% 0%"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortPid,children:[i?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Product Id"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductName,children:[n?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Product Name"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductPrice,children:[l?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Product Price"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductGst,children:[c?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"GST %"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductQuantity,children:[r?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Quantity"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductTotal,children:[o?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Total Price"]}),Object(h.jsx)("th",{className:"table_head"})]})}),Object(h.jsx)("tbody",{id:"container_table_body",children:this.state.billingproducts.map((function(e,a){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{component:"th",scope:"row",style:{border:"none"},children:a+1}),Object(h.jsxs)("td",{children:["PID",e.billProductId]}),Object(h.jsx)("td",{children:e.billProductName}),Object(h.jsx)("td",{children:e.billProductPrice}),Object(h.jsxs)("td",{children:[e.billProductGst,"%"]}),Object(h.jsxs)("td",{children:[e.billQuantity,e.billUnits]}),Object(h.jsx)("td",{children:e.billTotalPrice}),Object(h.jsx)("td",{sx:{width:100},children:Object(h.jsx)(Q.a,{variant:"contained",size:"small",color:"error",onClick:function(){return t.alertMsg(a)},children:Object(h.jsx)(y.a,{})})})]},a+1)}))})]})}),0===this.state.pageTotal?"":Object(h.jsxs)("div",{div:!0,className:"tht",children:[Object(h.jsx)("div",{className:"last_footer"}),Object(h.jsxs)("div",{className:"last_footer_payment",children:[Object(h.jsxs)("div",{className:"lfp_sub",children:[Object(h.jsx)("h3",{style:{paddingRight:"10px"},children:"Advance Payment"}),Object(h.jsx)(D.a,{variant:"outlined",size:"small",id:"outlined-basic",type:"number",sx:{width:150},onChange:this.payment,value:this.state.advancePayment})]}),Object(h.jsxs)("div",{className:"lfp_sub",children:[Object(h.jsx)("h3",{style:{paddingRight:"10px"},children:"Balance Payment"}),Object(h.jsx)(D.a,{disabled:!0,variant:"outlined",size:"small",id:"outlined-basic",type:"number",sx:{width:150},value:this.state.balancePayment})]}),Object(h.jsxs)("div",{className:"lfp_sub",children:[Object(h.jsx)("h3",{style:{paddingRight:"10px"},children:"Total Price"}),Object(h.jsx)(D.a,{disabled:!0,value:this.state.pageTotal,variant:"outlined",size:"small",id:"outlined-basic",type:"number",sx:{width:150}})]})]}),Object(h.jsxs)("div",{className:"b_footer",id:"totalPriceHTML",style:{marginBottom:"20px"},children:[Object(h.jsx)(K,{products:this.state.billingproducts,id:"totalPriceHTML"}),Object(h.jsx)("button",{className:"css-button-rounded--blue",type:"submit",onClick:this.confirmBill,children:"Print"})]})]})]}),null===e?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("div",{className:"A4pageToPrint",children:[Object(h.jsx)("div",{className:"A4printHeader",children:Object(h.jsx)("div",{className:"A4LogoName",children:Object(h.jsx)("h3",{children:"Billing "})})}),Object(h.jsx)("div",{className:"A4printBranchName",children:Object(h.jsxs)("h4",{style:{paddingBottom:"1%"},children:["Bill no:",localStorage.getItem("billNo")]})}),Object(h.jsxs)("div",{className:"A4printCompanyhName",children:[Object(h.jsxs)("h4",{style:{paddingTop:"1%"},children:["Company name:",s]}),Object(h.jsxs)("h4",{children:["Bill Date:",a.getDate(),"/",a.getMonth(),"/",a.getFullYear()]}),Object(h.jsxs)("h4",{style:{paddingBottom:"1%"},children:["Bill Time:",a.getHours(),".",a.getMinutes(),".",a.getSeconds()]})]}),Object(h.jsxs)("table",{className:"printBillDetali",style:{borderBottom:"1px solid black"},children:[Object(h.jsxs)("tr",{className:"printBillTR",style:{padding:"1% 0%"},children:[Object(h.jsx)("th",{children:"Si no"}),Object(h.jsx)("th",{children:"Product Id"}),Object(h.jsx)("th",{children:"Product Name"}),Object(h.jsx)("th",{children:"Product Price"}),Object(h.jsx)("th",{children:"GST%"}),Object(h.jsx)("th",{children:"Quantity"}),Object(h.jsx)("th",{children:"Price"})]}),e.map((function(t,e){return Object(h.jsxs)("tr",{className:"printBillTD",children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.billProductId}),Object(h.jsx)("td",{children:t.billProductName}),Object(h.jsx)("td",{children:t.billWholesalePrice}),Object(h.jsx)("td",{children:t.billProductGst}),Object(h.jsxs)("td",{children:[t.billQuantity,t.billUnits]}),Object(h.jsx)("td",{children:t.billTotalPrice})]})}))]}),Object(h.jsxs)("div",{className:"A4last_head",children:[Object(h.jsxs)("div",{className:"A4Desc",children:[Object(h.jsx)("h4",{children:"Description:"}),Object(h.jsx)("p",{style:{padding:"1%"},children:this.state.description})]}),Object(h.jsxs)("div",{className:"A4tandc",children:[Object(h.jsx)("h4",{children:"Terms  & Condition:"}),Object(h.jsx)("p",{style:{padding:"1%"},children:this.state.tandc})]})]}),Object(h.jsxs)("div",{className:"A4printTotal",children:[Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["GST:",parseFloat(this.state.TotalGst).toFixed(2),"%"]}),Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["SGST:",parseFloat(this.state.TotalGst/2).toFixed(2),"%"]}),Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["CGST:",parseFloat(this.state.TotalGst/2).toFixed(2),"%"]}),Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["Advance Payment:",this.state.advancePayment]}),Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["balance Payment:",this.state.balancePayment]}),Object(h.jsxs)("h2",{style:{padding:"3px 0%"},children:["Total:",this.state.pageTotal]})]}),Object(h.jsx)("div",{className:"printEnd",children:Object(h.jsx)("p",{children:"Thank You! Vist Again!"})})]}),Object(h.jsx)("div",{className:"confirm_hide",id:"confirm_hide",children:Object(h.jsx)("div",{className:"confirmBill",children:Object(h.jsxs)("div",{className:"confirmBill_back",children:[Object(h.jsx)("div",{className:"confirmBill_head",children:Object(h.jsx)("h1",{children:"Print Bill"})}),Object(h.jsx)("div",{className:"confirmBill_menu",children:Object(h.jsxs)("div",{className:"confirmBill_button",children:[Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.updateBill,children:"Print Bill"}),Object(h.jsx)("button",{style:{margin:"10px 0px"},className:"css-button-rounded--red",onClick:this.confirmBillBack,children:"Back"})]})})]})})})]})}}]),a}(s.Component),K=function(t){var e=t.products;return Object(h.jsxs)("h3",{children:["Total:",e.reduce((function(t,e){return t+e.billTotalPrice}),0)]})},H=U,J=(a(110),a(228)),X=a(230),Z=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).onChangeValues=function(e){t.setState(Object(N.a)({},e.target.name,[e.target.value]))},t.submitvalues=function(e){var a=new FormData;a.append("branchId",t.state.branchId),a.append("userName",t.state.userName),a.append("password",t.state.password),a.append("email",t.state.email),a.append("phoneNo",t.state.phoneNo),a.append("address",t.state.address),a.append("Gst_No",t.state.Gst_No),""===t.state.branchId||""===t.state.userName||""===t.state.password||""===t.state.email||""===t.state.phoneNo?F.a.fire({title:"Please fill all the details",icon:"error"}):w()({method:"post",url:"http://billing-software.dkdeepak.com/api/addUser.php",data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){!0===t.data.includes("Duplicate entry")?F.a.fire({title:"User already Exists",icon:"error"}):F.a.fire({title:"User added Successfull",icon:"success"}).then((function(t){t.isConfirmed}))})).catch((function(t){F.a.fire({title:"Error inserting data",icon:"error"})}))},t.state={branchId:"",userName:"",password:"",email:"",Gst_No:"",phoneNo:"",address:""},t}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"nu_container",children:Object(h.jsxs)("div",{className:"nu_sub_conatiner",children:[Object(h.jsx)("div",{className:"nu_subHeader",children:Object(h.jsx)("h2",{children:"Create New Branch Id"})}),Object(h.jsx)("div",{className:"nu_main",children:Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(D.a,{label:"Branch Id",id:"branchId",name:"branchId",onChange:this.onChangeValues,sx:{m:1,width:"40ch"},InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(J.a,{})})})}})}),Object(h.jsx)("div",{children:Object(h.jsx)(D.a,{label:"Username",id:"userName",name:"userName",onChange:this.onChangeValues,sx:{m:1,width:"40ch"},InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(J.b,{})})})}})}),Object(h.jsx)("div",{children:Object(h.jsx)(D.a,{label:"Password",id:"password",name:"password",onChange:this.onChangeValues,sx:{m:1,width:"40ch"},InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(g.a,{})})})}})}),Object(h.jsx)("div",{children:Object(h.jsx)(D.a,{label:"Gst No",id:"Gst_No",name:"Gst_No",onChange:this.onChangeValues,sx:{m:1,width:"40ch"}})}),Object(h.jsx)("div",{children:Object(h.jsx)(D.a,{label:"Email",id:"email",name:"email",onChange:this.onChangeValues,sx:{m:1,width:"40ch"},InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(y.b,{})})})}})}),Object(h.jsx)("div",{children:Object(h.jsx)(D.a,{label:"Phone Number",id:"phoneNo",name:"phoneNo",onChange:this.onChangeValues,sx:{m:1,width:"40ch"},InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(x.b,{})})})}})}),Object(h.jsx)("div",{children:Object(h.jsx)(D.a,{label:"Address",id:"address",name:"address",sx:{m:1,width:"40ch"},multiline:!0,onChange:this.onChangeValues,rows:3,InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(X.a,{})})})}})}),Object(h.jsx)("div",{className:"nu_button",children:Object(h.jsx)("button",{style:{width:"100%"},className:"css-button-rounded--blue",onClick:this.submitvalues,children:"Add User"})}),Object(h.jsx)("div",{className:"nu_button",children:Object(h.jsx)(j.b,{to:"/Admin/newUser/viewUsers",children:Object(h.jsx)("button",{style:{width:"100%"},className:"css-button-rounded--green",children:"View Users"})})})]})})]})})}}]),a}(s.Component),$=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("http://billing-software.dkdeepak.com/api/getAllBranch.php").then((function(e){t.setState({fetchData:e.data})}))},t.alertMsg=function(e){F.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&F.a.fire("Deleted!","Your file has been deleted!","success"),t.deleteRow(e)}))},t.deleteRow=function(e){w()({method:"post",url:"http://billing-software.dkdeepak.com/api/deleteuser.php/?delete="+e}).then((function(t){t.status})),t.getData()},t.state={fetchData:[]},t.getData(),t}return Object(r.a)(a,[{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{className:"viewUser_container",children:[Object(h.jsx)("div",{className:"vu_header",children:Object(h.jsx)("h2",{children:"View user"})}),Object(h.jsx)("div",{className:"viewUser_mnenu",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Username"}),Object(h.jsx)("th",{className:"table_head",children:"Password"}),Object(h.jsx)("th",{className:"table_head",children:"Email"}),Object(h.jsx)("th",{className:"table_head",children:"Phone Number"}),Object(h.jsx)("th",{className:"table_head",children:"Address"}),Object(h.jsx)("th",{className:"table_head",children:" Delete"})]})}),Object(h.jsx)("tbody",{children:0===this.state.fetchData.length?Object(h.jsx)("td",{children:"No Data Found"}):this.state.fetchData.map((function(e){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{component:"th",scope:"row",children:e.userName}),Object(h.jsx)("td",{children:e.passWord}),Object(h.jsx)("td",{children:e.email}),Object(h.jsx)("td",{children:e.phoneNo}),Object(h.jsx)("td",{children:e.Address}),Object(h.jsx)("td",{sx:{width:100},children:Object(h.jsx)("button",{className:"css-button-rounded--red",onClick:function(){return t.alertMsg(e.uid)},children:"Delete"})})]},e.uid)}))})]})})]})}}]),a}(s.Component),tt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).updateValue=function(e){t.setState(Object(N.a)({},e.target.name,[e.target.value]))},t.submitValues=function(e){e.preventDefault();var a=new FormData;a.append("userName",t.state.userName),a.append("passWord",t.state.passWord),""===t.state.userName||""===t.state.passWord?F.a.fire({title:"Please all fill all the details",icon:"error"}):w()({method:"post",url:"http://billing-software.dkdeepak.com/api/loginAdmin.php",data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){var a=e.data;console.log(e.data),1===a?(window.location.reload(!1),localStorage.setItem("admin",!0),localStorage.setItem("adminName",t.state.userName)):F.a.fire({title:"Invalid Username or Password",icon:"error"})}))},t.state={userName:"",passWord:"",rvalues:"",detials:!1},t}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"login_back",children:Object(h.jsx)("div",{class:"login_card",children:localStorage.getItem("admin")?Object(h.jsx)(vt,{}):Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{className:"logo_login"}),Object(h.jsx)("h3",{class:"login_title",children:" Log in"}),Object(h.jsx)("p",{class:"or"}),Object(h.jsxs)("div",{class:"userName",children:[Object(h.jsxs)("label",{for:"Username",children:[" ",Object(h.jsx)("b",{children:"Username"})]}),Object(h.jsx)(D.a,{variant:"outlined",size:"small",name:"userName",onChange:this.updateValue})]}),Object(h.jsxs)("div",{class:"password",children:[Object(h.jsxs)("label",{for:"Password",children:[" ",Object(h.jsx)("b",{children:"Password"})]}),Object(h.jsx)(D.a,{variant:"outlined",size:"small",name:"passWord",onChange:this.updateValue})]}),Object(h.jsx)("div",{class:"login-btn",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.submitValues,children:"Login"})})]})})})})}}]),a}(s.Component),et=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.id.startsWith(e.target.value)}));t.setState({adminBilling:a}),""===e.target.value||a.length,t.setState({arrow:0})},t.onKeyDown=function(e){if(8===e.keyCode){var a=t.state.copyData.filter((function(t){return t.id.startsWith(e.target.value)}));t.setState({adminBilling:a})}},t.sortId=function(){t.setState({sortValueId:!t.state.sortValueId}),!0===t.state.sortValueId?t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(t.id)-parseInt(e.id)}))):!1===t.state.sortValueId&&t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(e.id)-parseInt(t.id)})))},t.sortName=function(){t.setState({sortvalueName:!t.state.sortvalueName}),!0===t.state.sortvalueName?t.setState(t.state.adminBilling.sort((function(t,e){return t.company_name.localeCompare(e.company_name)}))):!1===t.state.sortvalueName&&t.setState(t.state.adminBilling.sort((function(t,e){return e.company_name.localeCompare(t.company_name)})))},t.sortTotalPrice=function(){t.setState({sortTotalPrice:!t.state.sortTotalPrice}),!0===t.state.sortTotalPrice?t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(t.totalPrice)-parseInt(e.totalPrice)}))):!1===t.state.sortTotalPrice&&t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(e.totalPrice)-parseInt(t.totalPrice)})))},t.sortAdvancePrice=function(){t.setState({sortAdvancePrice:!t.state.sortAdvancePrice}),!0===t.state.sortAdvancePrice?t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(t.advancePayment)-parseInt(e.advancePayment)}))):!1===t.state.sortAdvancePrice&&t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(e.advancePayment)-parseInt(t.advancePayment)})))},t.sortBalancePrice=function(){t.setState({sortBalancePrice:!t.state.sortBalancePrice}),!0===t.state.sortBalancePrice?t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(t.balancePayment)-parseInt(e.balancePayment)}))):!1===t.state.sortBalancePrice&&t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(e.balancePayment)-parseInt(t.balancePayment)})))},t.state={adminBilling:[],copyData:[],sortValueId:!1,sortvalueName:!1,sortTotalPrice:!1,sortAdvancePrice:!1,sortBalancePrice:!1},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/fetchAdminBillCopy.php").then((function(e){t.setState({adminBilling:Object.values(e.data)}),t.setState({copyData:Object.values(e.data)})}))}},{key:"render",value:function(){var t=this.state.sortValueId,e=this.state.sortvalueName,a=this.state.sortTotalPrice,s=this.state.sortAdvancePrice,i=this.state.sortBalancePrice;return Object(h.jsxs)("div",{className:"bp_container",children:[Object(h.jsxs)("div",{className:"bp_header",children:[Object(h.jsx)("h2",{children:"Admin Bill Copy "}),Object(h.jsx)(D.a,{label:"Search",id:"Search",sx:{m:1,width:"35ch"},placeholder:"Search Bill No",type:"number",onChange:this.searchBar,onKeyDown:this.onKeyDown,size:"small",InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(x.d,{})})}})]}),Object(h.jsx)("div",{className:"adminBillcopy_menu",style:{overflow:"auto"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsxs)("th",{className:"table_head",onClick:this.sortId,children:[t?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Bill No"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortName,children:[e?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Company name"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortTotalPrice,children:[a?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Total Price"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortAdvancePrice,children:[s?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Advance Payment"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortBalancePrice,children:[i?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Balance Payment"]}),Object(h.jsx)("th",{className:"table_head",children:"Date & Time"}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{children:0===Object.values(this.state.adminBilling).length?Object(h.jsx)("td",{children:"No Data Found"}):Object.values(this.state.adminBilling).map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.totalPrice}),Object(h.jsx)("td",{children:t.advancePayment}),Object(h.jsx)("td",{children:t.balancePayment}),Object(h.jsx)("td",{children:t.time}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/Admin/AdminBillCopy/viewBill/".concat(t.id),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",style:{minWidth:70},children:"View"})})})]})}))})]})})]})}}]),a}(s.Component),at=(a(177),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).productAnalytics=function(e,a,s){w.a.get("http://billing-software.dkdeepak.com/api/fetchProductData.php/?pName="+a.text).then((function(e){t.props.history.push("/admin/allProduct/"+e.data[0].id)}))},t.downloadPDF=function(){w.a.get("http://billing-software.dkdeepak.com/api/mailBill.php/?billNo="+t.state.billNo+"&Admin=1&download=1").then((function(t){if(t.data[0].includes(".pdf")){var e=t.data[0],a="http://billing-software.dkdeepak.com/api/"+e;console.log(a),console.log(e),Object(z.saveAs)(a,t.data+".pdf")}}))},t.mail=function(){F.a.fire({title:"Mail sending",html:"Please wait until Mail sent succesfull",timer:2e4,timerProgressBar:!0,didOpen:function(){F.a.showLoading();F.a.getHtmlContainer().querySelector("b")},willClose:function(){clearInterval(undefined)}}).then((function(t){t.dismiss,F.a.DismissReason.timer})),w.a.get("http://billing-software.dkdeepak.com/api/mailBill.php/?billNo="+t.state.billNo+"&Admin=1&mail=1").then((function(e){F.a.fire("Mail succesfully sent!","Bill copy has sucessFully sent to ".concat(t.state.company_name),"success")}))},t.state={parsedData:[],getData:[],billNo:"",branchId:"",company_name:"",pageTotal:"",advancePayment:"",balancePayment:"",time:"",tandc:"",desc:""},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/ViewAdminBillCopy.php/?id="+this.props.match.params.id).then((function(e){t.setState({getData:e.data}),t.setState({billNo:Object.entries(e.data)[1][1]}),t.setState({branchId:Object.entries(e.data)[2][1]}),t.setState({company_name:Object.entries(e.data)[3][1]}),t.setState({parsedData:JSON.parse(Object.entries(e.data)[4][1])}),t.setState({pageTotal:Object.entries(e.data)[5][1]}),t.setState({advancePayment:Object.entries(e.data)[6][1]}),t.setState({balancePayment:Object.entries(e.data)[7][1]}),t.setState({desc:Object.entries(e.data)[8][1]}),t.setState({tandc:Object.entries(e.data)[9][1]}),t.setState({time:Object.entries(e.data)[10][1]}),console.log(e.data)})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"edit_bill_container",children:[Object(h.jsxs)("div",{className:"edit_bill_head",children:[Object(h.jsxs)("div",{className:"edit_bill_head_left",children:[Object(h.jsxs)("div",{className:"bill_style_row",children:[Object(h.jsxs)("h4",{style:{padding:"1.5% 0%"},children:["Bill No : ",this.state.billNo]}),Object(h.jsx)(j.b,{to:"/Admin/adminEditBillNo/".concat(this.state.billNo),children:Object(h.jsx)("button",{className:"css-button-rounded--green",style:{minWidth:80,height:30},children:" Edit "})})]}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"1.5% 0%"},children:["Date & Time : ",this.state.time]})}),Object(h.jsxs)("div",{className:"bill_style_row",children:[Object(h.jsxs)("h4",{style:{padding:"1.5% 0%"},children:["Company name : ",this.state.company_name]}),Object(h.jsx)(j.b,{to:"/Admin/analytics/companySales/".concat(this.state.company_name),children:Object(h.jsx)("button",{className:"css-button-rounded--rose",style:{minWidth:80,height:30},children:" Statistic "})})]}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"1.5% 0%"},children:["Total : ",this.state.pageTotal]})}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"1.5% 0%"},children:["Advance Payment : ",this.state.advancePayment]})}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"1.5% 0%"},children:["Balance Payment : ",this.state.balancePayment]})})]}),Object(h.jsx)("div",{className:"edit_bill_head_right ",children:Object(h.jsx)(V.b,{data:{labels:this.state.parsedData.map((function(t){return t.billProductName})),datasets:[{label:"Product List",backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4","#FF6633","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],data:this.state.parsedData.map((function(t){return"g"===t.billUnits||"ml"===t.billUnits?t.billQuantity/1e3:t.billQuantity}))}]},options:{layout:{padding:30},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",align:"center"},title:{display:!0,text:"Product Quantity",align:"center",position:"top",font:{size:16}}}}})})]}),Object(h.jsx)("div",{className:"edit_bill_menu",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Product Id"}),Object(h.jsx)("th",{className:"table_head",children:"Product Name"}),Object(h.jsx)("th",{className:"table_head",children:"Product Price"}),Object(h.jsx)("th",{className:"table_head",children:"Gst"}),Object(h.jsx)("th",{className:"table_head",children:"Quantity"}),Object(h.jsx)("th",{className:"table_head",children:"Total Price"})]})}),Object(h.jsx)("tbody",{children:this.state.parsedData.map((function(t,e){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsxs)("td",{children:["PID",t.billProductId]}),Object(h.jsx)("td",{children:t.billProductName}),Object(h.jsx)("td",{children:t.billProductPrice}),Object(h.jsx)("td",{children:t.billProductGst}),Object(h.jsxs)("td",{children:[t.billQuantity,t.billUnits]}),Object(h.jsx)("td",{children:t.billTotalPrice})]},e+1)}))})]})})]})}}]),a}(s.Component)),st=(a(111),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).state={getData:[],copyData:[],todayBill:[],todayBillTotal:0,todayFormatedTotal:0,weekBill:[],weekBillTotal:0,weekFormatedTotal:0,monthlyBill:[],monthlyBillTotal:0,monthFormatedTotal:0,branchList:[]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/fetchBillCopy.php").then((function(e){t.setState({getData:Object.values(e.data)},(function(){}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateWise.php/?today=1").then((function(e){t.setState({todayBill:Object.values(e.data)},(function(){var t=this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({todayBillTotal:t},(function(){this.setState({todayFormatedTotal:e});var t=this.state.todayBill.map((function(t){return t.branchId})).filter((function(t,e,a){return a.indexOf(t)===e}));this.setState({branchList:t},(function(){var t=this;console.log(this.state.todayBill.filter((function(e){return e.branchId===t.state.branchList[0]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)),console.log(this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0))}))}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateWise.php/?week=1").then((function(e){t.setState({weekBill:Object.values(e.data)},(function(){var t=this.state.weekBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({weekBillTotal:t},(function(){this.setState({weekFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateWise.php/?month=1").then((function(e){t.setState({monthlyBill:Object.values(e.data)},(function(){var t=this.state.monthlyBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({monthlyBillTotal:t},(function(){this.setState({monthFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{className:"Rev_container",children:[Object(h.jsx)("div",{className:"analytics_top",children:Object(h.jsxs)("div",{className:"analytics_revenue",children:[Object(h.jsx)("div",{className:"analytics_revenue_top",children:Object(h.jsx)("h2",{children:"Overall Sales in All Branch"})}),Object(h.jsxs)("div",{className:"analytics_revenue_menu",children:[Object(h.jsxs)("div",{className:"menu1 analytics_box",children:[Object(h.jsx)("h5",{children:"Today sales"}),Object(h.jsxs)("h2",{className:"revenue_h2",children:[" ",this.state.todayFormatedTotal," "]})]}),Object(h.jsxs)("div",{className:"menu2 analytics_box",children:[Object(h.jsx)("h5",{children:"Last 7 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.weekFormatedTotal})]}),Object(h.jsxs)("div",{className:"menu3 analytics_box",children:[Object(h.jsx)("h5",{children:"Last 30 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.monthFormatedTotal})]})]})]})}),Object(h.jsx)("div",{className:"Rev_bottom",children:Object(h.jsxs)("div",{className:"Rev_bottom_container",children:[Object(h.jsx)("div",{className:"Rev_bottom_top",children:Object(h.jsx)("h3",{children:"Branch wise Sales"})}),Object(h.jsx)("div",{className:"Rev_bottom_table",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"SI no"}),Object(h.jsx)("th",{className:"table_head",children:"Branch Id"}),Object(h.jsx)("th",{className:"table_head",children:"Total no of Bill"}),Object(h.jsx)("th",{className:"table_head",children:"Todays Sale"}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{children:0===this.state.branchList.length?Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:"No Bills Yet"})," "]}):this.state.branchList.map((function(e,a){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:a+1}),Object(h.jsx)("td",{children:e}),Object(h.jsx)("td",{children:t.state.todayBill.filter((function(e){return e.branchId===t.state.branchList[a]})).length}),Object(h.jsx)("td",{children:t.state.todayBill.filter((function(e){return e.branchId===t.state.branchList[a]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/Admin/analytics/reveue/".concat(e),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"view"})})})]})}))})]})})]})})]})}}]),a}(s.Component)),it=(a(178),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.company_name.startsWith(e.target.value)}));t.setState({listData:a}),""===e.target.value||a.length,t.setState({arrow:0})},t.onKeyDown=function(e){if(8===e.keyCode){var a=t.state.copyData.filter((function(t){return t.company_name.includes(e.target.value)}));t.setState({listData:a})}},t.sortId=function(){t.setState({sortValueId:!t.state.sortValueId}),!0===t.state.sortValueId?t.setState(t.state.listData.sort((function(t,e){return parseInt(t.total)-parseInt(e.total)}))):!1===t.state.sortValueId&&t.setState(t.state.listData.sort((function(t,e){return parseInt(e.total)-parseInt(t.total)})))},t.sortTotalBill=function(){t.setState({sortTotalBill:!t.state.sortTotalBill}),!0===t.state.sortTotalBill?t.setState(t.state.listData.sort((function(t,e){return parseInt(t.totalBill)-parseInt(e.totalBill)}))):!1===t.state.sortTotalBill&&t.setState(t.state.listData.sort((function(t,e){return parseInt(e.totalBill)-parseInt(t.totalBill)})))},t.sortName=function(){t.setState({sortvalueName:!t.state.sortvalueName}),!0===t.state.sortvalueName?t.setState(t.state.listData.sort((function(t,e){return t.company_name.localeCompare(e.company_name)}))):!1===t.state.sortvalueName&&t.setState(t.state.listData.sort((function(t,e){return e.company_name.localeCompare(t.company_name)})))},t.state={getData:[],copyData:[],companyList:[],listData:[],sortValueId:!1,sortvalueName:!1,sortTotalBill:!1},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/fetchBillCopy.php").then((function(e){t.setState({getData:Object.values(e.data)},(function(){var t=this.state.getData.map((function(t){return t.company_name})).filter((function(t,e,a){return a.indexOf(t)===e}));this.setState({companyList:t},(function(){var t=this,e=this.state.companyList.map((function(e,a){return t.state.getData.filter((function(e){return e.company_name===t.state.companyList[a]})).map((function(t){return t.branchId}))})),a=this.state.companyList,s=this.state.companyList.map((function(e,a){return t.state.getData.filter((function(e){return e.company_name===t.state.companyList[a]})).length})),i=e.map((function(t){return t.filter((function(t,e,a){return a.indexOf(t)===e}))})).map((function(t){return t[0]})),n=this.state.companyList.map((function(e,a){return t.state.getData.filter((function(e){return e.company_name===t.state.companyList[a]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)})),l=Object.assign.apply({},[this.state.companyList.map((function(t,e,l){return{company_name:a[e],total:n[e],branchId:i[e],totalBill:s[e]}}))]);console.log(l.sort((function(t,e){return e.total-t.total}))),this.setState({listData:l}),this.setState({copyData:l})}))}))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){var t=this.state.sortValueId,e=this.state.sortvalueName,a=this.state.sortTotalBill;return Object(h.jsxs)("div",{className:"company_sales_container",children:[Object(h.jsxs)("div",{className:"company_sales_top",children:[Object(h.jsx)("h2",{children:"Top Companys by sales"}),Object(h.jsx)(D.a,{label:"Search",id:"Search",sx:{m:1,width:"35ch"},placeholder:"Search for Company",onChange:this.searchBar,onKeyDown:this.onKeyDown,size:"small",InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(x.d,{})})}})]}),Object(h.jsx)("div",{className:"company_sales_bottom",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortName,children:[e?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Company Name"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortId,children:[t?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Total Sales"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortTotalBill,children:[a?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Total Bill"]}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{children:0===this.state.listData?Object(h.jsx)("td",{children:" No Data found"}):this.state.listData.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.total}),Object(h.jsx)("td",{children:t.totalBill}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/Admin/analytics/companySales/".concat(t.company_name),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"View Detail"})})})]})}))})]})})]})}}]),a}(s.Component)),nt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).state={getData:[],copyData:[],todayBill:[],todayBillTotal:null,todayFormatedTotal:null,weekBill:[],weekBillTotal:null,weekFormatedTotal:null,monthlyBill:[],monthlyBillTotal:null,monthFormatedTotal:null,branchList:[],datevlaue:[null,null]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/getBillDateBranchWise.php/?all=1&branchId="+this.props.match.params.branchId).then((function(e){t.setState({getData:Object.values(e.data)},(function(){console.log(this.state.getData)}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateBranchWise.php/?today=1&branchId="+this.props.match.params.branchId).then((function(e){t.setState({todayBill:Object.values(e.data)},(function(){console.log(this.state.todayBill);var t=this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({todayBillTotal:t},(function(){this.setState({todayFormatedTotal:e});var t=this.state.todayBill.map((function(t){return t.branchId})).filter((function(t,e,a){return a.indexOf(t)===e}));this.setState({branchList:t},(function(){var t=this;console.log(this.state.todayBill.filter((function(e){return e.branchId===t.state.branchList[0]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)),console.log(this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0))}))}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateBranchWise.php/?week=1&branchId="+this.props.match.params.branchId).then((function(e){t.setState({weekBill:Object.values(e.data)},(function(){var t=this.state.weekBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({weekBillTotal:t},(function(){this.setState({weekFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateBranchWise.php/?month=1&branchId="+this.props.match.params.branchId).then((function(e){t.setState({monthlyBill:Object.values(e.data)},(function(){var t=this.state.monthlyBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({monthlyBillTotal:t},(function(){this.setState({monthFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"Rev_container",children:[Object(h.jsx)("div",{className:"analytics_top",children:Object(h.jsxs)("div",{className:"analytics_revenue",children:[Object(h.jsx)("div",{className:"analytics_revenue_top",children:Object(h.jsxs)("h2",{children:["Revenue in ",this.props.match.params.branchId]})}),Object(h.jsxs)("div",{className:"analytics_revenue_menu",children:[Object(h.jsxs)("div",{className:"menu1 analytics_box",children:[Object(h.jsx)("h5",{children:"Today sales"}),Object(h.jsxs)("h2",{className:"revenue_h2",children:[" ",this.state.todayFormatedTotal," "]})]}),Object(h.jsxs)("div",{className:"menu2 analytics_box",children:[Object(h.jsx)("h5",{children:"Last 7 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.weekFormatedTotal})]}),Object(h.jsxs)("div",{className:"menu3 analytics_box",children:[Object(h.jsx)("h5",{children:"Last 30 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.monthFormatedTotal})]})]})]})}),Object(h.jsx)("div",{className:"Rev_bottom",children:Object(h.jsxs)("div",{className:"Rev_bottom_container",children:[Object(h.jsx)("div",{className:"Rev_bottom_top",children:Object(h.jsx)("h3",{children:"Today's Bill"})}),Object(h.jsx)("div",{className:"Rev_bottom_table",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"SI no"}),Object(h.jsx)("th",{className:"table_head",children:"Bill no"}),Object(h.jsx)("th",{className:"table_head",children:"Company name"}),Object(h.jsx)("th",{className:"table_head",children:"Todays Price"}),Object(h.jsx)("th",{className:"table_head",children:"Date & time"}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{id:"container_table_body",children:0===this.state.todayBill.length?Object(h.jsx)("h4",{children:"No Bill from this branch"}):this.state.todayBill.map((function(t,e){return Object(h.jsxs)("tr",{style:{margin:"20%"},children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.billNo}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.totalPrice}),Object(h.jsx)("td",{children:t.time}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/Admin/billCopy/viewBill/".concat(t.billNo),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"view"})})})]})}))})]})})]})})]})}}]),a}(s.Component),lt=(a(179),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).state={getData:[],copyData:[],todayBill:[],todayBillTotal:null,todayFormatedTotal:null,weekBill:[],weekBillTotal:null,weekFormatedTotal:null,monthlyBill:[],monthlyBillTotal:null,monthFormatedTotal:null,branchList:[],datevlaue:[null,null]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/getBillCompanyWise.php/?company_name="+this.props.match.params.company_name).then((function(e){t.setState({getData:e.data})})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getDateWiseCompanyBill.php/?today=1&company_name="+this.props.match.params.company_name).then((function(e){t.setState({todayBill:Object.values(e.data)},(function(){console.log(this.state.todayBill);var t=this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({todayBillTotal:t},(function(){this.setState({todayFormatedTotal:e});var t=this.state.todayBill.map((function(t){return t.branchId})).filter((function(t,e,a){return a.indexOf(t)===e}));this.setState({branchList:t},(function(){var t=this;console.log(this.state.todayBill.filter((function(e){return e.branchId===t.state.branchList[0]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)),console.log(this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0))}))}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getDateWiseCompanyBill.php/?week=1&company_name="+this.props.match.params.company_name).then((function(e){t.setState({weekBill:Object.values(e.data)},(function(){var t=this.state.weekBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({weekBillTotal:t},(function(){this.setState({weekFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/getDateWiseCompanyBill.php/?month=1&company_name="+this.props.match.params.company_name).then((function(e){t.setState({monthlyBill:Object.values(e.data)},(function(){var t=this.state.monthlyBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({monthlyBillTotal:t},(function(){this.setState({monthFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"cws_container",children:[Object(h.jsx)("div",{className:"analytics_top",children:Object(h.jsxs)("div",{className:"analytics_revenue",children:[Object(h.jsx)("div",{className:"analytics_revenue_top",style:{margin:"1.2%  0%"},children:Object(h.jsxs)("h2",{children:["Revenue by ",this.props.match.params.company_name]})}),Object(h.jsxs)("div",{className:"analytics_revenue_menu",children:[Object(h.jsxs)("div",{className:"menu1 analytics_box",children:[Object(h.jsx)("h5",{children:"Last 3 months sales"}),Object(h.jsxs)("h2",{className:"revenue_h2",children:[" ",this.state.todayFormatedTotal," "]})]}),Object(h.jsxs)("div",{className:"menu2 analytics_box",children:[Object(h.jsx)("h5",{children:"Last 6 months sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.weekFormatedTotal})]}),Object(h.jsxs)("div",{className:"menu3 analytics_box",children:[Object(h.jsx)("h5",{children:"Last 1 year sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.monthFormatedTotal})]})]})]})}),Object(h.jsx)("div",{className:"Rev_bottom",children:Object(h.jsxs)("div",{className:"Rev_bottom_container",children:[Object(h.jsx)("div",{className:"Rev_bottom_top",children:Object(h.jsxs)("h3",{children:["Total bill by ",this.props.match.params.company_name]})}),Object(h.jsx)("div",{className:"Rev_bottom_table",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Bill no"}),Object(h.jsx)("th",{className:"table_head",children:"Company Name"}),Object(h.jsx)("th",{className:"table_head",children:"Amount"}),Object(h.jsx)("th",{className:"table_head",children:"Date & time"}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{children:0===this.state.getData.length?Object(h.jsx)("td",{children:" No Data Found"}):this.state.getData.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.billNo}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.totalPrice}),Object(h.jsx)("td",{children:t.time}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/Admin/billCopy/viewBill/".concat(t.billNo),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"View Detail"})})})]})}))})]})})]})})]})}}]),a}(s.Component)),ct=a(244),rt=a(242),ot=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(e,a){console.log(e,a),w.a.get("http://billing-software.dkdeepak.com/api/getBillDateWise.php/?startDate="+e+"&endDate="+a+"&branchId="+t.props.match.params.branchId).then((function(s){t.setState({DataBetween:s.data},(function(){for(var s=[],i=[],n=new Date(a),l=new Date(e);n<l;){var c=n.getFullYear()+"-"+(n.getMonth()+1).toString().padStart(2,"0")+"-"+n.getDate().toString().padStart(2,"0");i.push(c),s=[].concat(Object(Y.a)(s),[new Date(n)]),n.setDate(n.getDate()+1)}for(var r=[],o=[],u=0;u<i.length;u++)o.push(i[u]),"3Month"===t.state.selectDate?o.length>=7&&(r.push(o),o=[]):"6Month"===t.state.selectDate?o.length>=14&&(r.push(o),o=[]):"1Year"===t.state.selectDate?o.length>=30&&(r.push(o),o=[]):"2Year"===t.state.selectDate?o.length>=60&&(r.push(o),o=[]):"3Year"===t.state.selectDate?o.length>=90&&(r.push(o),o=[]):"4Year"===t.state.selectDate?o.length>=120&&(r.push(o),o=[]):"5Year"===t.state.selectDate&&o.length>=150&&(r.push(o),o=[]);r.push(o)}))}))},t.changeDate=function(e){t.setState({selectDate:e.target.value},(function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0");if("1Week"===this.state.selectDate)var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()-7);else if("1Month"===this.state.selectDate)a=new Date(t.getFullYear(),t.getMonth()-1,t.getDate());else if("3Month"===this.state.selectDate)a=new Date(t.getFullYear(),t.getMonth()-3,t.getDate());else if("6Month"===this.state.selectDate)a=new Date(t.getFullYear(),t.getMonth()-6,t.getDate());else if("1Year"===this.state.selectDate)a=new Date(t.getFullYear()-1,t.getMonth(),t.getDate());else if("2Year"===this.state.selectDate)a=new Date(t.getFullYear()-2,t.getMonth(),t.getDate());else if("3Year"===this.state.selectDate)a=new Date(t.getFullYear()-3,t.getMonth(),t.getDate());else if("4Year"===this.state.selectDate)a=new Date(t.getFullYear()-4,t.getMonth(),t.getDate());else if("5Year"===this.state.selectDate)a=new Date(t.getFullYear()-5,t.getMonth(),t.getDate());var s=a.getFullYear()+"-"+(a.getMonth()+1).toString().padStart(2,"0")+"-"+a.getDate().toString().padStart(2,"0");this.getData(e,s)}))},t.state={getData:[],rawData:[],parsedData:[],dupData:[],ProductName:null,ProductTotalQuantitySale:null,ProductBalanceQuantity:null,ProductTotalRevenue:null,selectDate:"1Week",DataBetween:[],dateArray:[],label:[],barValue:[],selectedQuantity:null,selectedPrice:null,units:""},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/fetchBillCopy.php").then((function(e){t.setState({getData:Object.values(e.data)}),t.setState({dupData:Object.values(e.data)}),t.setState({rawData:e.data}),t.setState({parsedData:e.data.map((function(t){return JSON.parse(t.billedProducts)}))},(function(){for(var e=[],a=[],s=0;s<=t.state.parsedData.length-1;s++){var i=t.state.parsedData[s].filter((function(e){return e.billProductId===t.props.match.params.pid}));0===i.map((function(t){return t.billQuantity.length}))||0!==i.map((function(t){return t.billQuantity.length}))&&(console.log(),e.push(i.map((function(t){return"g"===t.billUnits||"ml"===t.billUnits?parseFloat(t.billQuantity)/1e3:parseFloat(t.billQuantity)})).reduce((function(t,e){return t+e}),0)),a.push(i.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0)))}var n=e.reduce((function(t,e){return t+e}),0),l=a.reduce((function(t,e){return t+e}),0);t.setState({ProductTotalQuantitySale:n});var c=Math.abs(l)>9999999?Math.sign(l)*(Math.abs(l)/1e7).toFixed(2)+"Cr":Math.abs(l)>99999?Math.sign(l)*(Math.abs(l)/1e5).toFixed(2)+"L":Math.abs(l)>999?Math.sign(l)*(Math.abs(l)/1e3).toFixed(1)+"k":Math.sign(l)*Math.abs(l);console.log(c),t.setState({ProductTotalRevenue:c})}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("http://billing-software.dkdeepak.com/api/fetchbalanceProduct.php/?pid="+this.props.match.params.pid).then((function(e){console.log(e.data),t.setState({ProductName:e.data.filter((function(e){return t.props.match.params.pid===e.Pid})).map((function(t){return t.productName}))[0]}),t.setState({units:e.data.filter((function(e){return t.props.match.params.pid===e.Pid})).map((function(t){return t.units}))[0]})}));var e=new Date,a=e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0"),s=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),i=s.getFullYear()+"-"+(s.getMonth()+1).toString().padStart(2,"0")+"-"+s.getDate().toString().padStart(2,"0");this.getData(a,i)}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"pa_analytics",children:[Object(h.jsxs)("div",{className:"pa_header",children:[Object(h.jsx)("div",{className:"pa_header_heading",children:Object(h.jsxs)("h2",{children:["Analytics of ",this.state.ProductName," "]})}),Object(h.jsxs)("div",{className:"pa_header_menu",children:[Object(h.jsxs)("div",{className:"box_menu",style:{backgroundColor:"#A0E7E5",minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center",padding:"1% 2%"},children:[Object(h.jsxs)("h4",{children:["Total sales of ",this.state.ProductName," "]}),Object(h.jsxs)("h2",{style:{marginTop:"5px"},children:[this.state.ProductTotalQuantitySale," ",this.state.units]})]}),Object(h.jsxs)("div",{className:"box_menu",style:{backgroundColor:"#FFAEBC",minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center",padding:"1% 2%"},children:[Object(h.jsxs)("h4",{children:["Total Revenue made by ",this.state.ProductName," "]}),Object(h.jsxs)("h2",{style:{marginTop:"5px"},children:[this.state.ProductTotalRevenue," "]})]}),Object(h.jsxs)("div",{className:"box_menu",style:{backgroundColor:"#B7A4FF",minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center",padding:"1% 2%"},children:[Object(h.jsxs)("h4",{children:["Total sales of ",this.state.ProductName," in Last ",this.state.selectDate," "]}),Object(h.jsxs)("h2",{style:{marginTop:"5px"},children:[this.state.selectedQuantity," ",this.state.units]})]}),Object(h.jsxs)("div",{className:"box_menu",style:{backgroundColor:"#A0DFA1",minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center",padding:"1% 2%"},children:[Object(h.jsxs)("h4",{children:["Total Revenue made by ",this.state.ProductName," in Last ",this.state.selectDate,"  "]}),Object(h.jsxs)("h2",{style:{marginTop:"5px"},children:[this.state.selectedPrice," "]})]})]})]}),Object(h.jsxs)("div",{className:"pa_menu",children:[Object(h.jsx)("div",{className:"pa_menu_header",children:Object(h.jsxs)(rt.a,{value:this.state.selectDate,exclusive:!0,onChange:this.changeDate,children:[Object(h.jsx)(ct.a,{value:"1Week",children:"1W"}),Object(h.jsx)(ct.a,{value:"1Month",children:"1M"}),Object(h.jsx)(ct.a,{value:"3Month",children:"3M"}),Object(h.jsx)(ct.a,{value:"6Month",children:"6M"}),Object(h.jsx)(ct.a,{value:"1Year",children:"1Y"}),Object(h.jsx)(ct.a,{value:"2Year",children:"2Y"}),Object(h.jsx)(ct.a,{value:"3Year",children:"3Y"}),Object(h.jsx)(ct.a,{value:"4Year",children:"4Y"}),Object(h.jsx)(ct.a,{value:"5Year",children:"5Y"})]})}),Object(h.jsx)("div",{className:"pa_meanu_bottom",children:0===this.state.getData.length?Object(h.jsx)(h.Fragment,{children:"NO Bill yet"}):Object(h.jsx)(V.a,{data:{labels:this.state.label,datasets:[{backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4","#FF6633","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],borderColor:["#000"],data:this.state.barValue}]},options:{layout:{padding:30},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"center",display:!1}}}})})]})]})}}]),a}(s.Component);function ut(){var t=Object(m.f)();return Object(h.jsx)("div",{children:Object(h.jsx)("a",{onClick:function(){t.goBack()},class:"back",children:"... Back to previous page"})})}var dt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(c.a)(this,a);for(var s=arguments.length,i=new Array(s),n=0;n<s;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))).goback=function(){},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){null!==document.getElementById("admin_sidewrap")?document.getElementById("admin_sidewrap").style.display="none":null!==document.getElementById("side_Nav")&&(document.getElementById("side_Nav").style.display="none"),console.log(document.referrer)}},{key:"render",value:function(){return Object(h.jsx)("div",{className:"404",children:Object(h.jsx)("div",{id:"oopss",children:Object(h.jsxs)("div",{id:"error-text",children:[Object(h.jsx)("img",{src:"https://cdn.rawgit.com/ahmedhosna95/upload/1731955f/sad404.svg",alt:"404"}),Object(h.jsx)("span",{children:"404 PAGE"}),Object(h.jsx)("p",{class:"p-a",children:". The page you were looking for could not be found"}),Object(h.jsx)("p",{class:"p-b",children:"... Back to previous page"}),Object(h.jsx)(ut,{})]})})})}}]),a}(s.Component),ht=dt,pt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("http://billing-software.dkdeepak.com/api/getAdminCustomer.php").then((function(e){t.setState({branchList:e.data})}))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.company_name.startsWith(e.target.value)}));t.setState({listData:a}),""===e.target.value||a.length,t.setState({arrow:0}),t.getData()},t.onKeyDown=function(e){if(8===e.keyCode){var a=t.state.copyData.filter((function(t){return t.company_name.includes(e.target.value)}));t.setState({listData:a})}t.getData()},t.state={branchList:[],sortValueId:!1,sortvalueName:!1,sortTotalBill:!1},t.getData(),t}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"company_sales_container",children:[Object(h.jsx)("div",{className:"company_sales_top",children:Object(h.jsx)("h2",{children:"Companys List"})}),Object(h.jsx)("div",{className:"company_sales_bottom",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Company Name"}),Object(h.jsx)("th",{className:"table_head",children:"Gst No "}),Object(h.jsx)("th",{className:"table_head",children:"Email"}),Object(h.jsx)("th",{className:"table_head",children:"Phone no"}),Object(h.jsx)("th",{className:"table_head",children:"Date & time"}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{children:0===this.state.branchList.length?Object(h.jsx)("td",{children:"NO  Data Found"}):this.state.branchList.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.Gst_no}),Object(h.jsx)("td",{children:t.email}),Object(h.jsx)("td",{children:t.phone_no}),Object(h.jsx)("td",{children:t.time}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/Admin/editCustomer/".concat(t.uid),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"Edit"})})})]})}))})]})})]})}}]),a}(s.Component),bt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).uservalue=function(t){s.setState(Object(N.a)({},t.target.name,[t.target.value]),(function(){}))},s.onSubmit=function(t){var e=new FormData;e.append("uid",s.state.uid),e.append("company_name",s.state.company_name),e.append("old_company_name",s.state.old_company_name),e.append("phone_no",s.state.phone_no),e.append("email",s.state.email),e.append("Gst_no",s.state.Gst_no),e.append("address",s.state.address),""===s.state.company_name||""===s.state.email||""===s.state.phone_no?F.a.fire({title:"Please fill all the details",icon:"error"}):w()({method:"post",url:"http://billing-software.dkdeepak.com/api/editCustomer.php",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){!0===t.data.includes("Duplicate entry")?F.a.fire({title:"Product already Exists",icon:"error"}):F.a.fire({title:"Customer Detail updated",icon:"success"}).then((function(t){t.isConfirmed}))})).catch((function(t){console.log(t),F.a.fire({title:"Error inserting data",icon:"error"})})),s.props.history.push("/Admin/viewCustomer")},s.state={getData:[],uid:"",company_name:"",phone_no:"",email:"",address:"",Gst_no:"",old_company_name:""},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/getAdminCustomer.php/?uid="+this.props.match.params.id).then((function(e){t.setState({getData:e.data}),t.setState({uid:e.data[0].uid}),t.setState({company_name:e.data[0].company_name}),t.setState({old_company_name:e.data[0].company_name}),t.setState({phone_no:e.data[0].phone_no}),t.setState({email:e.data[0].email}),t.setState({address:e.data[0].address}),t.setState({Gst_no:e.data[0].Gst_no})}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"ep_container",children:[Object(h.jsx)("div",{className:"ep_header",children:Object(h.jsx)("h2",{children:"Update Company"})}),Object(h.jsxs)("form",{className:"ep_form",children:[Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Company Name",variant:"outlined",size:"small",name:"company_name",value:this.state.company_name,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Phone No",variant:"outlined",size:"small",name:"phone_no",value:this.state.phone_no,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Email",variant:"outlined",size:"small",name:"email",value:this.state.email,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Gst_no",variant:"outlined",size:"small",name:"Gst_no",value:this.state.Gst_no,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-textarea",label:"Address",multiline:!0,name:"address",value:this.state.address,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.onSubmit,children:"Update"})})]})]})}}]),a}(i.a.Component),jt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t,s;return Object(c.a)(this,a),(t=e.call(this)).searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value.toLowerCase())}));t.setState({fetchData:a},(function(){var t=this.state.fetchData.length;t<=3&&(s.style.height="120px"),t<=2&&(s.style.height="80px"),t<=1&&(s.style.height="40px"),t>=4&&(s.style.height="160px")})),t.setState({selectedValues:e.target.value});document.getElementById("searchBar");var s=document.getElementById("searchResult");""!=e.target.value?s.style.display="block":(s.style.display="none",t.setState({fetchData:[]}),t.setState({wholesalePrice:""})),t.setState({arrow:0})},t.onKeyDown=function(e){var a=document.getElementById("searchResult");if(8===e.keyCode){var s=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:s},(function(){var t=this.state.fetchData.length;t<=3&&(a.style.height="120px"),t<=2&&(a.style.height="80px"),t<=1&&(a.style.height="40px"),t>=4&&(a.style.height="160px")}))}(38===e.keyCode&&t.state.arrow>0&&t.setState({arrow:t.state.arrow-1},(function(){a.scrollTo(0,a.scrollTop-40)})),40===e.keyCode&&t.state.arrow<t.state.fetchData.length-1&&(a.scrollTop>=3?a.scrollTo(0,a.scrollTop+40):a.scrollTo(0,a.scrollTop+2),t.setState({arrow:t.state.arrow+1},(function(){}))),13===e.keyCode)&&(void 0!==(s=t.state.fetchData[t.state.arrow])&&t.selectData(t.state.arrow,s.productName))},t.calculatePrice=function(e){var a=[];void 0===t.state.quanunit?(a=[]).push(parseInt(document.getElementById("punit").childNodes[0].value)):(a=[]).push(t.state.quanunit),console.log(t.state.quanunit),t.setState({quanunit:parseInt(a[0])},(function(){if(1===t.state.quanunit){var a=parseInt(e.target.value),s=a*t.state.wholesalePrice;t.setState({Quantity:a}),t.setState({quantityPrice:s}),t.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===t.state.quanunit){var i=parseInt(e.target.value),n=i*t.state.wholesalePrice;t.setState({Quantity:i}),t.setState({quantityPrice:n}),t.setState({punit:"liter"},(function(){console.log(t.state.punit)}))}else if(3===t.state.quanunit){var l=parseInt(e.target.value),c=t.state.wholesalePrice,r=l*parseFloat(c/1e3);t.setState({Quantity:l}),t.setState({quantityPrice:r}),t.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===t.state.quanunit){var o=parseInt(e.target.value),u=t.state.wholesalePrice,d=o*parseFloat(u/1e3);t.setState({Quantity:o}),t.setState({quantityPrice:d}),t.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===t.state.quanunit){var h=parseInt(e.target.value),p=h*t.state.wholesalePrice;t.setState({Quantity:h}),t.setState({quantityPrice:p}),t.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))},t.alertMsg=function(e){F.a.fire({title:"Are you sure?",text:"Do you want to delete this product",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&(F.a.fire("Deleted!","Your file has been deleted.","success"),t.deleteRow(e))}))},t.deleteRow=function(e){var a=Object(Y.a)(t.state.billingproducts);a.splice(e,1),t.setState({billingproducts:a},(function(){localStorage.setItem("bill",JSON.stringify(this.state.billingproducts)),this.setState({count:this.state.count+1},(function(){var t=this,e=this.state.billingproducts.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0);this.setState({pageTotal:parseFloat(e).toFixed(2)},(function(){t.setState({balancePayment:t.state.pageTotal})}))})),this.setState({count:this.state.count+1},(function(){var t=this.state.billingproducts.map((function(t){return t.billProductGst})).reduce((function(t,e){return t+e}),0)/this.state.billingproducts.length;this.setState({TotalGst:t},(function(){}))}))}))},t.addProduct=function(){if(t.setState({count:t.state.count+1},(function(){var t=this,e=this.state.billingproducts.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0);this.setState({pageTotal:parseFloat(e).toFixed(2)},(function(){t.setState({balancePayment:t.state.pageTotal})}))})),t.setState({count:t.state.count+1},(function(){var t=this.state.billingproducts.map((function(t){return t.billProductGst})).reduce((function(t,e){return t+e}),0)/this.state.billingproducts.length;this.setState({TotalGst:t},(function(){}))})),""===t.state.selectedValues)F.a.fire({title:"Empty Filed?",icon:"warning"});else{w.a.get("http://billing-software.dkdeepak.com/api/getBillNo.php").then((function(e){t.setState({getbillNo:parseInt(Object.values(e.data[0]))+1},(function(){localStorage.setItem("billNo",this.state.getbillNo)}))}));var e=Object(Y.a)(t.state.billingproducts),a=t.state.fetchData[0].id,s=t.state.fetchData[0].productName,i=(t.state.fetchData[0].totalPrice,t.state.wholesalePrice),n=t.state.GstValueinPer,l=t.state.punit,c=t.state.Quantity,r=t.state.quantityPrice;e.push({billProductId:a,billProductName:s,billQuantity:c,billUnits:l,billProductPrice:i,billProductGst:n,billTotalPrice:r}),t.setState({billingproducts:e},(function(){localStorage.setItem("bill",JSON.stringify(this.state.billingproducts))})),t.setState({selectedValues:""}),document.getElementById("quantityInput").value="",t.setState({fetchData:[]}),t.setState({quantityPrice:""}),t.setState({Quantity:""}),t.setState({wholesalePrice:""}),t.setState({withoutgst:0}),t.setState({gstType:!0}),t.setState({GstValueinPer:0},(function(){console.log(t.state.GstValueinPer)})),t.setState({quanunit:void 0}),document.getElementById("searchResult").style.display="none",document.getElementById("gstType").value=1,document.getElementById("priceInput").value=""}},t.updateBill=function(){t.setState({count:t.state.count+1},(function(){var t=this,e=this.state.billingproducts.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0);this.setState({pageTotal:parseFloat(e).toFixed(2)},(function(){t.setState({balancePayment:t.state.pageTotal})}))})),t.setState({count:t.state.count+1},(function(){var t=this.state.billingproducts.map((function(t){return t.billProductGst})).reduce((function(t,e){return t+e}),0)/this.state.billingproducts.length;this.setState({TotalGst:t},(function(){}))}));var e=new FormData;e.append("billNo",t.state.billNo),e.append("billData",JSON.stringify(t.state.billingproducts)),e.append("balancePayment",parseFloat(t.state.pageTotal).toFixed(2)-parseFloat(t.state.advancePayment).toFixed(2)),e.append("pageTotal",t.state.pageTotal),w()({method:"post",url:"http://billing-software.dkdeepak.com/api/fetchBill.php/?AdminEditBill=1",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){!0===t.data.includes("Duplicate entry")?F.a.fire({title:"Product already Exists",icon:"error"}):F.a.fire({title:"Successfully Billed",icon:"success"}).then((function(t){t.isConfirmed}))})),localStorage.removeItem("bill"),localStorage.removeItem("company_name"),t.setState({billingproducts:[]}),t.setState({pageTotal:0}),t.setState({selectedValues:""}),t.setState({Quantity:""}),t.setState({quantityPrice:0}),t.setState({description:""}),t.setState({tandc:""}),t.setState({advancePayment:0}),t.setState({balancePayment:0}),document.getElementById("searchResult").style.display="none",document.getElementById("quantityInput").value="",window.print(),t.props.history.push("/Admin/billingName")},t.editCalculatePrice=function(e){var a=e.target.value,s=t.state.editIndex,i=t.state.billingproducts[s].billProductPrice,n=t.state.billingproducts[s].billUnits;t.state.billingproducts[s].billProductName,t.state.billingproducts[s].billQuantity,t.state.billingproducts[s].billOrgQty;if("g"===n||"ml"===n)var l=parseInt(a*(i/1e3));else if("kg"===n||"liter"===n||"pkt"===n)l=a*i;t.setState((function(t){return{billingproducts:t.billingproducts.map((function(t,e){return s===e?Object.assign(t,{billTotalPrice:l}):t}))}})),t.setState((function(t){return{billingproducts:t.billingproducts.map((function(t,e){return s===e?Object.assign(t,{billQuantity:a}):t}))}})),t.setState({count:t.state.count+1},(function(){localStorage.setItem("bill",JSON.stringify(t.state.billingproducts)),t.setState({count:t.state.count+1},(function(){var t=this,e=this.state.billingproducts.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0);this.setState({pageTotal:parseFloat(e).toFixed(2)},(function(){t.setState({balancePayment:t.state.pageTotal})}))})),t.setState({count:t.state.count+1},(function(){var t=this.state.billingproducts.map((function(t){return t.billProductGst})).reduce((function(t,e){return t+e}),0)/this.state.billingproducts.length;this.setState({TotalGst:t},(function(){}))}))}))},t.gramPrice=function(e){t.setState({quanunit:parseInt(e.target.value)},(function(){if(1===t.state.quanunit){var e=t.state.Quantity,a=e*t.state.wholesalePrice;t.setState({Quantity:e}),t.setState({quantityPrice:a}),t.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===t.state.quanunit){var s=t.state.Quantity,i=s*t.state.wholesalePrice;t.setState({Quantity:s}),t.setState({quantityPrice:i}),t.setState({punit:"liter"},(function(){console.log(t.state.punit)}))}else if(3===t.state.quanunit){var n=t.state.Quantity,l=t.state.wholesalePrice,c=n*parseFloat(l/1e3);t.setState({Quantity:n}),t.setState({quantityPrice:c}),t.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===t.state.quanunit){var r=t.state.Quantity,o=t.state.wholesalePrice,u=r*parseFloat(o/1e3);t.setState({Quantity:r}),t.setState({quantityPrice:u}),t.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===t.state.quanunit){var d=t.state.Quantity,h=d*t.state.wholesalePrice;t.setState({Quantity:d}),t.setState({quantityPrice:h}),t.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))},t.defineGst=function(e){1===parseInt(e.target.value)?(t.setState({gstType:!0}),t.setState({wholesalePrice:t.state.withoutgst},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))):2===parseInt(e.target.value)&&t.setState({gstType:!1})},t.addNewProductDB=function(){var e=new FormData;e.append("productName",t.state.selectedValues),w()({method:"post",url:"http://billing-software.dkdeepak.com/api/addproduct.php",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}),t.getData(),t.refreshNewData(t.state.selectedValues)},t.refreshNewData=function(e){w.a.get("http://billing-software.dkdeepak.com/api/fetch.php").then((function(a){t.setState({copyData:a.data},(function(){var t=this.state.copyData.filter((function(t){return t.productName.includes(e)}));this.setState({fetchData:t})}))}))},t.Price=function(e){if(t.setState({withoutgst:e.target.value}),0===t.state.wholesalePrice)t.setState({wholesalePrice:e.target.value},(function(){var t=this;if(1===this.state.quanunit){var a=this.state.Quantity,s=a*this.state.wholesalePrice;this.setState({Quantity:a}),this.setState({quantityPrice:s}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var i=this.state.Quantity,n=i*this.state.wholesalePrice;this.setState({Quantity:i}),this.setState({quantityPrice:n}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var l=this.state.Quantity,c=this.state.wholesalePrice,r=l*parseFloat(c/1e3);this.setState({Quantity:l}),this.setState({quantityPrice:r}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var o=this.state.Quantity,u=this.state.wholesalePrice,d=o*parseFloat(u/1e3);this.setState({Quantity:o}),this.setState({quantityPrice:d}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var h=e.target.value,p=h*this.state.wholesalePrice;this.setState({Quantity:h}),this.setState({quantityPrice:p}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}));else if(0!==t.state.wholesalePrice)if(t.setState({wholesalePrice:e.target.value},(function(){var t=this;if(1===this.state.quanunit){var a=this.state.Quantity,s=a*this.state.wholesalePrice;this.setState({Quantity:a}),this.setState({quantityPrice:s}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var i=this.state.Quantity,n=i*this.state.wholesalePrice;this.setState({Quantity:i}),this.setState({quantityPrice:n}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var l=this.state.Quantity,c=this.state.wholesalePrice,r=l*parseFloat(c/1e3);this.setState({Quantity:l}),this.setState({quantityPrice:r}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var o=this.state.Quantity,u=this.state.wholesalePrice,d=o*parseFloat(u/1e3);this.setState({Quantity:o}),this.setState({quantityPrice:d}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var h=e.target.value,p=h*this.state.wholesalePrice;this.setState({Quantity:h}),this.setState({quantityPrice:p}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}})),1===t.state.gstPercentage){var a=0*e.target.value/100,s=parseFloat(a)+parseInt(e.target.value);t.setState({wholesalePrice:s}),t.setState({GstValueinPer:0})}else if(2===t.state.gstPercentage){var i=0*e.target.value/100,n=parseFloat(i)+parseInt(e.target.value);t.setState({wholesalePrice:n}),t.setState({GstValueinPer:0})}else if(3===t.state.gstPercentage){var l=0*e.target.value/100,c=parseFloat(l)+parseInt(e.target.value);t.setState({wholesalePrice:c}),t.setState({GstValueinPer:0})}else if(4===t.state.gstPercentage){var r=.25*e.target.value/100,o=parseFloat(r)+parseInt(e.target.value);t.setState({wholesalePrice:o}),t.setState({GstValueinPer:.25})}else if(5===t.state.gstPercentage){var u=.25*e.target.value/100,d=parseFloat(u)+parseInt(e.target.value);t.setState({wholesalePrice:d}),t.setState({GstValueinPer:.25})}else if(6===t.state.gstPercentage){var h=3*e.target.value/100,p=parseFloat(h)+parseInt(e.target.value);t.setState({wholesalePrice:p}),t.setState({GstValueinPer:3})}else if(7===t.state.gstPercentage){var b=3*e.target.value/100,j=parseFloat(b)+parseInt(e.target.value);t.setState({wholesalePrice:j}),t.setState({GstValueinPer:3})}else if(8===t.state.gstPercentage){var m=5*e.target.value/100,g=parseFloat(m)+parseInt(e.target.value);t.setState({wholesalePrice:g}),t.setState({GstValueinPer:5})}else if(9===t.state.gstPercentage){var f=5*e.target.value/100,y=parseFloat(f)+parseInt(e.target.value);t.setState({wholesalePrice:y}),t.setState({GstValueinPer:5})}else if(10===t.state.gstPercentage){var x=12*e.target.value/100,O=parseFloat(x)+parseInt(e.target.value);t.setState({wholesalePrice:O}),t.setState({GstValueinPer:12})}else if(11===t.state.gstPercentage){var v=12*e.target.value/100,S=parseFloat(v)+parseInt(e.target.value);t.setState({wholesalePrice:S}),t.setState({GstValueinPer:12})}else if(12===t.state.gstPercentage){var P=18*e.target.value/100,N=parseFloat(P)+parseInt(e.target.value);t.setState({wholesalePrice:N}),t.setState({GstValueinPer:18})}else if(13===t.state.gstPercentage){var D=18*e.target.value/100,_=parseFloat(D)+parseInt(e.target.value);t.setState({wholesalePrice:_}),t.setState({GstValueinPer:18})}else if(14===t.state.gstPercentage){var w=28*e.target.value/100,B=parseFloat(w)+parseInt(e.target.value);t.setState({wholesalePrice:B}),t.setState({GstValueinPer:28})}else if(15===t.state.gstPercentage){var F=28*e.target.value/100,I=parseFloat(F)+parseInt(e.target.value);t.setState({wholesalePrice:I}),t.setState({GstValueinPer:28})}},t.fillBill=function(e){t.setState(Object(N.a)({},e.target.name,[e.target.value]))},t.addBreakpoint=function(t){},t.addGst=function(e){parseInt(e.target.value);if(t.setState({gstPercentage:parseInt(e.target.value)}),1===parseInt(e.target.value)){var a=0*t.state.withoutgst/100,s=parseFloat(a)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:0}),t.setState({wholesalePrice:s},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(2===parseInt(e.target.value)){var i=0*t.state.withoutgst/100,n=parseFloat(i)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:0}),t.setState({wholesalePrice:n},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(3===parseInt(e.target.value)){var l=0*t.state.withoutgst/100,c=parseFloat(l)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:0}),t.setState({wholesalePrice:c},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(4===parseInt(e.target.value)){var r=.25*t.state.withoutgst/100,o=parseFloat(r)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:.25}),t.setState({wholesalePrice:o},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(5===parseInt(e.target.value)){var u=.25*t.state.withoutgst/100,d=parseFloat(u)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:.25}),t.setState({wholesalePrice:d},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(6===parseInt(e.target.value)){var h=3*t.state.withoutgst/100,p=parseFloat(h)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:3}),t.setState({wholesalePrice:p},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(7===parseInt(e.target.value)){var b=3*t.state.withoutgst/100,j=parseFloat(b)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:3}),t.setState({wholesalePrice:j},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(8===parseInt(e.target.value)){var m=5*t.state.withoutgst/100,g=parseFloat(m)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:5}),t.setState({wholesalePrice:g},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(9===parseInt(e.target.value)){var f=5*t.state.withoutgst/100,y=parseFloat(f)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:5}),t.setState({wholesalePrice:y},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(10===parseInt(e.target.value)){var x=12*t.state.withoutgst/100,O=parseFloat(x)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:12}),t.setState({wholesalePrice:O},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(11===parseInt(e.target.value)){var v=12*t.state.withoutgst/100,S=parseFloat(v)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:12}),t.setState({wholesalePrice:S},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(12===parseInt(e.target.value)){var P=18*t.state.withoutgst/100,N=parseFloat(P)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:18}),t.setState({wholesalePrice:N},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(13===parseInt(e.target.value)){var D=18*t.state.withoutgst/100,_=parseFloat(D)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:18}),t.setState({wholesalePrice:_},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(14===parseInt(e.target.value)){var w=28*t.state.withoutgst/100,B=parseFloat(w)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:28}),t.setState({wholesalePrice:B},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}else if(15===parseInt(e.target.value)){var F=28*t.state.withoutgst/100,I=parseFloat(F)+parseInt(t.state.withoutgst);t.setState({GstValueinPer:28}),t.setState({wholesalePrice:I},(function(){var t=this;if(1===this.state.quanunit){var e=this.state.Quantity,a=e*this.state.wholesalePrice;this.setState({Quantity:e}),this.setState({quantityPrice:a}),this.setState({punit:"kg"},(function(){console.log(t.state.punit)}))}else if(2===this.state.quanunit){var s=this.state.Quantity,i=s*this.state.wholesalePrice;this.setState({Quantity:s}),this.setState({quantityPrice:i}),this.setState({punit:"l"},(function(){console.log(t.state.punit)}))}else if(3===this.state.quanunit){var n=this.state.Quantity,l=this.state.wholesalePrice,c=n*parseFloat(l/1e3);this.setState({Quantity:n}),this.setState({quantityPrice:c}),this.setState({punit:"g"},(function(){console.log(t.state.punit)}))}else if(4===this.state.quanunit){var r=this.state.Quantity,o=this.state.wholesalePrice,u=r*parseFloat(o/1e3);this.setState({Quantity:r}),this.setState({quantityPrice:u}),this.setState({punit:"ml"},(function(){console.log(t.state.punit)}))}else if(5===this.state.quanunit){var d=this.state.Quantity,h=d*this.state.wholesalePrice;this.setState({Quantity:d}),this.setState({quantityPrice:h}),this.setState({punit:"pkt"},(function(){console.log(t.state.punit)}))}}))}},t.payment=function(e){t.setState({advancePayment:e.target.value});var a=t.state.pageTotal,s=e.target.value,i=parseFloat(a-s).toFixed(2);t.setState({balancePayment:i})},t.cancelBill=function(){localStorage.removeItem("company_name"),localStorage.removeItem("bill"),t.props.history.push("/Admin/billingName")},t.confirmBill=function(){var t=document.getElementById("b_container"),e=document.getElementById("confirm_hide");t.style.display="none",e.style.display="block"},t.confirmBillBack=function(){var t=document.getElementById("b_container"),e=document.getElementById("confirm_hide");t.style.display="block",e.style.display="none"},t.sortPid=function(){t.setState({sortPid:!t.state.sortPid}),!0===t.state.sortPid?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billProductId)-parseInt(e.billProductId)}))):!1===t.state.sortPid&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billProductId)-parseInt(t.billProductId)})))},t.sortProductName=function(){t.setState({sortProductName:!t.state.sortProductName}),!0===t.state.sortProductName?t.setState(t.state.billingproducts.sort((function(t,e){return t.billProductName.localeCompare(e.billProductName)}))):!1===t.state.sortProductName&&t.setState(t.state.billingproducts.sort((function(t,e){return e.billProductName.localeCompare(t.billProductName)})))},t.sortProductPrice=function(){t.setState({sortProductPrice:!t.state.sortProductPrice}),!0===t.state.sortProductPrice?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billProductPrice)-parseInt(e.billProductPrice)}))):!1===t.state.sortProductPrice&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billProductPrice)-parseInt(t.billProductPrice)})))},t.sortProductGst=function(){t.setState({sortProductGst:!t.state.sortProductGst}),!0===t.state.sortProductGst?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billProductGst)-parseInt(e.billProductGst)}))):!1===t.state.sortProductGst&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billProductGst)-parseInt(t.billProductGst)})))},t.sortProductQuantity=function(){t.setState({sortProductQuantity:!t.state.sortProductQuantity}),!0===t.state.sortProductQuantity?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billQuantity)-parseInt(e.billQuantity)}))):!1===t.state.sortProductQuantity&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billQuantity)-parseInt(t.billQuantity)})))},t.sortProductTotal=function(){t.setState({sortProductTotal:!t.state.sortProductTotal}),!0===t.state.sortProductTotal?t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(t.billTotalPrice)-parseInt(e.billTotalPrice)}))):!1===t.state.sortProductTotal&&t.setState(t.state.billingproducts.sort((function(t,e){return parseInt(e.billTotalPrice)-parseInt(t.billTotalPrice)})))},t.getIndex=function(e){t.setState({editIndex:e},(function(){}))},s=null===localStorage.getItem("bill")?[]:JSON.parse(localStorage.getItem("bill")),t.state={fetchData:[],wholesalePrice:0,Quantity:"",quanunit:void 0,gstType:!0,gstPercentage:0,GstValueinPer:0,quantityPrice:0,billingproducts:s,pageTotal:0,count:0,punit:"",getbillNo:"",description:"",tandc:"",advancePayment:0,balancePayment:0,company_name:"",GstPrice:0,withoutgst:0,TotalGst:0,customerGst:[],arrow:0,sortPid:!1,sortProductName:!1,sortProductPrice:!1,sortProductGst:!1,sortProductWholesalePrice:!1,sortProductQuantity:!1,sortProductTotal:!1,editBill:[],editIndex:""},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/fetch.php").then((function(e){t.setState({copyData:e.data})})),w.a.get("http://billing-software.dkdeepak.com/api/fetchBill.php/?Aid="+this.props.match.params.id).then((function(e){t.setState({billingproducts:JSON.parse(e.data.products)},(function(){console.log()})),t.setState({billNo:e.data.id}),t.setState({branchId:e.data.branchId}),t.setState({company_name:e.data.company_name}),t.setState({time:e.data.time}),t.setState({total:e.data.total}),t.setState({tandc:e.data.terms}),t.setState({description:e.data.description}),t.setState({advancePayment:e.data.advancePayment}),t.setState({balancePayment:e.data.balancePayment}),t.setState({pageTotal:e.data.totalPrice})}))}},{key:"selectData",value:function(t,e){var a=this,s=this.state.copyData.filter((function(t){return t.productName===e}));this.setState({fetchData:s},(function(){console.log(a.state.fetchData.map((function(t){return"kg"===t.units})))})),this.setState({selectedValues:e},(function(){document.getElementById("searchResult").style.display="none",a.setState({wholesalePrice:a.state.fetchData.filter((function(t){return t.productName===a.state.selectedValues})).map((function(t){return t.totalPrice}))}),a.setState({withoutgst:a.state.fetchData.filter((function(t){return t.productName===a.state.selectedValues})).map((function(t){return t.totalPrice}))})}))}},{key:"render",value:function(){var t=this,e=this.state.billingproducts,a=new Date,s=this.state.sortPid,i=this.state.sortProductName,n=this.state.sortProductPrice,l=this.state.sortProductGst,c=(this.state.sortProductWholesalePrice,this.state.sortProductQuantity),r=this.state.sortProductTotal;return Object(h.jsxs)("div",{className:"blur_container",children:[Object(h.jsxs)("div",{className:"b_container",id:"b_container",children:[Object(h.jsxs)("div",{className:"b_name_header_heading",children:[Object(h.jsx)("div",{children:Object(h.jsx)("h1",{children:"Editing Bill"})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"css-button-rounded--red",onClick:this.cancelBill,children:"Cancel bill"})})]}),Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(h.jsxs)("div",{className:"Wholesale_header",children:[Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Product Name"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(D.a,{id:"searchBar",variant:"outlined",size:"small",onChange:this.searchBar,onKeyDown:this.onKeyDown,value:this.state.selectedValues}),Object(h.jsx)("div",{className:"wholesale_searchResult",id:"searchResult",children:0===this.state.fetchData.length?Object(h.jsx)("p",{className:"items",children:"No Data Found"}):this.state.fetchData.map((function(e,a){return Object(h.jsx)("p",{className:"items",id:"items".concat(a)==="items".concat(t.state.arrow)?"active":"",onClick:function(){return t.selectData(e.id,e.productName)},children:e.productName},e.id)}))}),""!==this.state.selectedValues?Object(h.jsx)(k.a,{variant:"contained",style:{marginLeft:"10px"},onClick:this.addNewProductDB,children:"Add new"}):Object(h.jsx)(h.Fragment,{})]})]}),Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Price"}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{id:"priceInput","aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100},onChange:this.Price,value:""===this.state.selectedValues?"":this.state.withoutgst})}),!0===this.state.gstType?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(W.a,{id:"priceInput","aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100},onChange:this.Price,value:""===this.state.selectedValues?"":this.state.wholesalePrice})]}),Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Gst type"}),Object(h.jsxs)("select",{labelId:"gstType",id:"gstType",sx:{height:40,width:150},onChange:this.defineGst,className:"select",style:{width:140},disabled:""===this.state.selectedValues,children:[Object(h.jsx)("option",{value:1,id:"s",children:"Includes Gst"}),Object(h.jsx)("option",{value:2,id:"Excludes Gst",children:"Excludes Gst"})]}),!0===this.state.gstType?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h3",{style:{margin:" 0px 10px"},children:"Gst value"}),Object(h.jsxs)("select",{labelId:"gstPercentage",id:"gstPercentage",sx:{height:40,width:150},onChange:this.addGst,className:"select",style:{width:140},children:[Object(h.jsx)("option",{value:1,id:"Exempted",children:"Exempted 0.0%"}),Object(h.jsx)("option",{value:2,id:"GST 0.0%",children:"GST 0.0%"}),Object(h.jsx)("option",{value:3,id:"IGST 0.0%",children:"IGST 0.0%"}),Object(h.jsx)("option",{value:4,id:"GST 0.25%",children:"GST 0.25%"}),Object(h.jsx)("option",{value:5,id:"IGST 0.25%",children:"IGST 0.25%"}),Object(h.jsx)("option",{value:6,id:"GST 3.0%",children:"GST 3.0%"}),Object(h.jsx)("option",{value:7,id:"IGST 3.0%",children:"IGST 3.0%"}),Object(h.jsx)("option",{value:8,id:"GST 5.0%",children:"GST 5.0%"}),Object(h.jsx)("option",{value:9,id:"IGST 5.0%",children:"IGST 5.0%"}),Object(h.jsx)("option",{value:10,id:"GST 12.0%",children:"GST 12.0%"}),Object(h.jsx)("option",{value:11,id:"IGST 12.0%",children:"IGST 12.0%"}),Object(h.jsx)("option",{value:12,id:"GST 18.0%",children:"GST 18.0%"}),Object(h.jsx)("option",{value:13,id:"IGST 18.0%",children:"IGST 18.0%"}),Object(h.jsx)("option",{value:14,id:"GST 28.0%",children:"GST 28.0%"}),Object(h.jsx)("option",{value:15,id:"IGST 28.0%",children:"IGST 28.0%"})]})]})]}),Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Quantity"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(W.a,{id:"quantityInput","aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100},onChange:this.calculatePrice,disabled:""===this.state.selectedValues}),Object(h.jsxs)("select",{labelId:"punit",id:"punit",sx:{height:40,width:100},onChange:this.gramPrice,style:{marginLeft:"10px"},className:"select",disabled:""===this.state.Quantity,children:[this.state.fetchData.map((function(e){return"pkt"===e.units?Object(h.jsx)("option",{value:5,id:"pkt",children:"pkt"}):t.state.fetchData.map((function(e){return"kg"===e.units?Object(h.jsx)("option",{value:1,id:"kg",children:"kg"}):t.state.fetchData.map((function(t){return"liter"===t.units?Object(h.jsx)("option",{value:2,id:"liter",children:"liter"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("option",{value:5,id:"pkt",children:"pkt"}),Object(h.jsx)("option",{value:1,id:"kg",children:"kg"}),Object(h.jsx)("option",{value:2,id:"liter",children:"liter"})]})}))}))})),this.state.fetchData.map((function(e){return"pkt"===e.units?Object(h.jsx)(h.Fragment,{}):t.state.fetchData.map((function(e){return"kg"===e.units?Object(h.jsx)("option",{value:3,id:"gram",children:"gram"}):t.state.fetchData.map((function(t){return"liter"===t.units?Object(h.jsx)("option",{value:4,id:"ml",children:"ml"}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("option",{value:3,id:"gram",children:"gram"}),Object(h.jsx)("option",{value:4,id:"ml",children:"ml"})]})}))}))}))]})]})]}),Object(h.jsxs)("div",{className:"wholesale_subheader",children:[Object(h.jsx)("h3",{className:"wholesale_sub_heading",children:"Total Price"}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{disabled:!0,id:"outlined-adornment-weight",value:1===this.state.fetchData.length?this.state.quantityPrice:"",endAdornment:Object(h.jsx)(T.a,{position:"end",children:"Rs"}),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100}})})]}),Object(h.jsx)("div",{className:"wholesale_subheader",children:Object(h.jsx)("div",{className:"wholesale_sub_heading",v:!0,children:Object(h.jsxs)(k.a,{color:"success",variant:"contained","aria-label":"add an alarm",size:"medium",onClick:this.addProduct,children:[Object(h.jsx)(P.b,{}),"Add"]})})})]}),Object(h.jsxs)("div",{style:{backgroundColor:"white",padding:"10px 15px"},children:[Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsx)("h2",{style:{padding:"2% 0%"},children:"Bill Details:"})}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"2% 0%",color:"rgba(34, 34, 34, 0.815)"},children:["Bill No : ",this.state.billNo]})}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"2% 0%",color:"rgba(34, 34, 34, 0.815)"},children:["Branch Id : ",this.state.branchId]})}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"2% 0%",color:"rgba(34, 34, 34, 0.815)"},children:["Company name : ",this.state.company_name]})}),Object(h.jsx)("div",{className:"bill_style_row",children:Object(h.jsxs)("h4",{style:{padding:"2% 0%",color:"rgba(34, 34, 34, 0.815)"},children:["Date & time : ",this.state.time]})})]})]}),Object(h.jsx)("div",{className:"b_mainwrap",style:{overflowX:"auto",margin:"2% 0%"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortPid,children:[s?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Product Id"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductName,children:[i?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Product Name"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductPrice,children:[n?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Product Price"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductGst,children:[l?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"GST %"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductQuantity,children:[c?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Quantity"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortProductTotal,children:[r?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Total Price"]}),Object(h.jsx)("th",{className:"table_head"}),Object(h.jsx)("th",{className:"table_head"})]})}),Object(h.jsx)("tbody",{id:"container_table_body",children:this.state.billingproducts.map((function(e,a){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{component:"th",scope:"row",style:{border:"none"},children:a+1}),Object(h.jsxs)("td",{children:["PID",e.billProductId]}),Object(h.jsx)("td",{children:e.billProductName}),Object(h.jsx)("td",{children:e.billProductPrice}),Object(h.jsxs)("td",{children:[e.billProductGst,"%"]}),t.state.editIndex===a?Object(h.jsx)(W.a,{id:"quantityInput","aria-describedby":"outlined-weight-helper-text",inputProps:{min:"1",max:"10",step:"1"},size:"medium",type:"number",style:{width:80},value:e.billQuantity,onChange:t.editCalculatePrice,onBlur:function(){t.setState({editIndex:""})}}):Object(h.jsxs)("td",{children:[e.billQuantity,e.billUnits]}),Object(h.jsx)("td",{children:e.billTotalPrice}),Object(h.jsx)("td",{sx:{width:100},children:Object(h.jsx)(k.a,{variant:"contained",size:"small",color:"success",onClick:function(){return t.getIndex(a)},children:"Edit"})}),Object(h.jsx)("td",{sx:{width:100},children:Object(h.jsx)(Q.a,{variant:"contained",size:"small",color:"error",onClick:function(){return t.alertMsg(a)},children:Object(h.jsx)(y.a,{})})})]},a+1)}))})]})}),Object(h.jsxs)("div",{div:!0,className:"tht",children:[Object(h.jsx)("div",{className:"last_footer_payment"}),Object(h.jsxs)("div",{className:"b_footer",id:"totalPriceHTML",style:{marginBottom:"20px"},children:[Object(h.jsx)(mt,{products:this.state.billingproducts,id:"totalPriceHTML"}),Object(h.jsx)("button",{className:"css-button-rounded--blue",type:"submit",onClick:this.confirmBill,children:"Print"})]})]})]}),null===e?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("div",{className:"A4pageToPrint",children:[Object(h.jsx)("div",{className:"A4printHeader",children:Object(h.jsx)("div",{className:"A4LogoName",children:Object(h.jsx)("h3",{children:"Billing "})})}),Object(h.jsxs)("div",{className:"A4printBranchName",children:[Object(h.jsxs)("h4",{style:{paddingTop:"1%"},children:["Branch name:",localStorage.getItem("userName")]}),Object(h.jsxs)("h4",{style:{paddingBottom:"1%"},children:["Bill no:",localStorage.getItem("billNo")]})]}),Object(h.jsxs)("div",{className:"A4printCompanyhName",children:[Object(h.jsxs)("h4",{children:["Bill Date:",a.getDate(),"/",a.getMonth(),"/",a.getFullYear()]}),Object(h.jsxs)("h4",{style:{paddingBottom:"1%"},children:["Bill Time:",a.getHours(),".",a.getMinutes(),".",a.getSeconds()]})]}),Object(h.jsxs)("table",{className:"printBillDetali",style:{borderBottom:"1px solid black"},children:[Object(h.jsxs)("tr",{className:"printBillTR",style:{padding:"1% 0%"},children:[Object(h.jsx)("th",{children:"Si no"}),Object(h.jsx)("th",{children:"Product Id"}),Object(h.jsx)("th",{children:"Product Name"}),Object(h.jsx)("th",{children:"Product Price"}),Object(h.jsx)("th",{children:"GST%"}),Object(h.jsx)("th",{children:"Quantity"}),Object(h.jsx)("th",{children:"Price"})]}),e.map((function(t,e){return Object(h.jsxs)("tr",{className:"printBillTD",children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.billProductId}),Object(h.jsx)("td",{children:t.billProductName}),Object(h.jsx)("td",{children:t.billProductPrice}),Object(h.jsx)("td",{children:t.billProductGst}),Object(h.jsxs)("td",{children:[t.billQuantity,t.billUnits]}),Object(h.jsx)("td",{children:t.billTotalPrice})]})}))]}),Object(h.jsxs)("div",{className:"A4last_head",children:[Object(h.jsxs)("div",{className:"A4Desc",children:[Object(h.jsx)("h4",{children:"Description:"}),Object(h.jsx)("p",{style:{padding:"1%"},children:this.state.description})]}),Object(h.jsxs)("div",{className:"A4tandc",children:[Object(h.jsx)("h4",{children:"Terms  & Condition:"}),Object(h.jsx)("p",{style:{padding:"1%"},children:this.state.tandc})]})]}),Object(h.jsxs)("div",{className:"A4printTotal",children:[Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["GST:",parseFloat(this.state.TotalGst).toFixed(2),"%"]}),Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["SGST:",parseFloat(this.state.TotalGst/2).toFixed(2),"%"]}),Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["CGST:",parseFloat(this.state.TotalGst/2).toFixed(2),"%"]}),Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["Advance Payment:",this.state.advancePayment]}),Object(h.jsxs)("p",{style:{padding:"3px 0%"},children:["balance Payment:",this.state.balancePayment]}),Object(h.jsxs)("h2",{style:{padding:"3px 0%"},children:["Total:",this.state.pageTotal]})]}),Object(h.jsx)("div",{className:"printEnd",children:Object(h.jsx)("p",{children:"Thank You! Vist Again!"})})]}),Object(h.jsx)("div",{className:"confirm_hide",id:"confirm_hide",children:Object(h.jsx)("div",{className:"confirmBill",children:Object(h.jsxs)("div",{className:"confirmBill_back",children:[Object(h.jsx)("div",{className:"confirmBill_head",children:Object(h.jsx)("h1",{children:"Print Bill"})}),Object(h.jsx)("div",{className:"confirmBill_menu",children:Object(h.jsxs)("div",{className:"confirmBill_button",children:[Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.updateBill,children:"Print Bill"}),Object(h.jsx)("button",{style:{margin:"10px 0px"},className:"css-button-rounded--red",onClick:this.confirmBillBack,children:"Back"})]})})]})})})]})}}]),a}(s.Component),mt=function(t){var e=t.products;return Object(h.jsxs)("h3",{children:["Total:",e.reduce((function(t,e){return t+e.billTotalPrice}),0).toFixed(2)]})},gt=jt,ft=(a(180),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).setValue=function(e){t.setState({billNo:e.target.value})},t.submitValues=function(e){""===t.state.billNo&&(e.preventDefault(),F.a.fire({icon:"error",title:"Invalid Bill No..."}),t.setState({billNo:""}))},t.state={billNo:""},t}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"ebn_container",children:Object(h.jsxs)("div",{className:"ebn_back",children:[Object(h.jsx)("div",{className:"ebn_header",children:Object(h.jsx)("h2",{children:"Enter a Bill No"})}),Object(h.jsxs)("form",{className:"editpage_container",children:[Object(h.jsx)("div",{children:Object(h.jsx)(D.a,{fullWidth:!0,label:"Bill No",id:"fullWidth",type:"number",inputProps:{min:"0",step:"1"},name:"billNo",value:this.state.billNo,onChange:this.setValue})}),Object(h.jsx)("div",{className:"ebn_button",children:Object(h.jsx)(j.b,{to:"/Admin/adminEditBillNo/".concat(this.state.billNo),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",type:"submit",onClick:this.submitValues,children:"Edit"})})})]})]})})}}]),a}(s.Component)),yt=(s.Component,a(181),s.Component,function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.id.startsWith(e.target.value)}));t.setState({adminBilling:a}),""===e.target.value||a.length,t.setState({arrow:0})},t.onKeyDown=function(e){if(8===e.keyCode){var a=t.state.copyData.filter((function(t){return t.id.startsWith(e.target.value)}));t.setState({adminBilling:a})}},t.sortId=function(){t.setState({sortValueId:!t.state.sortValueId}),!0===t.state.sortValueId?t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(t.id)-parseInt(e.id)}))):!1===t.state.sortValueId&&t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(e.id)-parseInt(t.id)})))},t.sortName=function(){t.setState({sortvalueName:!t.state.sortvalueName}),!0===t.state.sortvalueName?t.setState(t.state.adminBilling.sort((function(t,e){return t.company_name.localeCompare(e.company_name)}))):!1===t.state.sortvalueName&&t.setState(t.state.adminBilling.sort((function(t,e){return e.company_name.localeCompare(t.company_name)})))},t.sortTotalPrice=function(){t.setState({sortTotalPrice:!t.state.sortTotalPrice}),!0===t.state.sortTotalPrice?t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(t.totalPrice)-parseInt(e.totalPrice)}))):!1===t.state.sortTotalPrice&&t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(e.totalPrice)-parseInt(t.totalPrice)})))},t.sortAdvancePrice=function(){t.setState({sortAdvancePrice:!t.state.sortAdvancePrice}),!0===t.state.sortAdvancePrice?t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(t.advancePayment)-parseInt(e.advancePayment)}))):!1===t.state.sortAdvancePrice&&t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(e.advancePayment)-parseInt(t.advancePayment)})))},t.sortBalancePrice=function(){t.setState({sortBalancePrice:!t.state.sortBalancePrice}),!0===t.state.sortBalancePrice?t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(t.balancePayment)-parseInt(e.balancePayment)}))):!1===t.state.sortBalancePrice&&t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(e.balancePayment)-parseInt(t.balancePayment)})))},t.clearPay=function(e,a,s,i,n){t.setState({tmpId:e}),t.setState({tmpCompanyName:a}),t.setState({tmpBalancePayment:s}),t.setState({finishedBalancePayment:s}),t.setState({maxValue:s}),t.setState({tmpadvancepayment:i}),t.setState({newAdvancePayment:i}),t.setState({tmpTotalPrice:n}),document.getElementById("hide-container").style.display="none",document.getElementById("show-updatepayment").style.display="flex"},t.inputPay=function(e){parseInt(e.target.value)>parseInt(t.state.maxValue)?(F.a.fire("Error","Amount should not more than Pending payment","error"),document.getElementById("payBox").value=t.state.tmpBalancePayment):""===e.target.value||NaN===e.target.value?t.setState({tmpBalancePayment:0},(function(){t.setState({finishedBalancePayment:parseInt(t.state.tmpTotalPrice)-(parseInt(t.state.tmpadvancepayment)+parseInt(t.state.tmpBalancePayment))},(function(){t.setState({newAdvancePayment:parseInt(t.state.tmpTotalPrice)-parseInt(t.state.finishedBalancePayment)})}))})):t.setState({tmpBalancePayment:parseInt(e.target.value)},(function(){t.setState({finishedBalancePayment:parseInt(t.state.tmpTotalPrice)-(parseInt(t.state.tmpadvancepayment)+parseInt(t.state.tmpBalancePayment))},(function(){t.setState({newAdvancePayment:parseInt(t.state.tmpTotalPrice)-parseInt(t.state.finishedBalancePayment)})}))}))},t.updatedPay=function(e){w.a.get("http://billing-software.dkdeepak.com/api/updateBalPay.php/?id="+t.state.tmpId+"&balancePay="+t.state.finishedBalancePayment+"&advancePay="+t.state.newAdvancePayment),document.getElementById("hide-container").style.display="block",document.getElementById("show-updatepayment").style.display="none"},t.hidePopUp=function(t){t.preventDefault(),document.getElementById("hide-container").style.display="block",document.getElementById("show-updatepayment").style.display="none"},t.state={adminBilling:[],copyData:[],sortValueId:!1,sortvalueName:!1,sortTotalPrice:!1,sortAdvancePrice:!1,sortBalancePrice:!1,tmpId:"",tmpCompanyName:"",tmpBalancePayment:"",finishedBalancePayment:"",tmpadvancepayment:"",newAdvancePayment:"",tmpTotalPrice:"",maxValue:""},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("http://billing-software.dkdeepak.com/api/fetchAdminBillCopy.php").then((function(e){t.setState({adminBilling:Object.values(e.data)},(function(){t.setState(t.state.adminBilling.sort((function(t,e){return parseInt(e.balancePayment)-parseInt(t.balancePayment)})))})),t.setState({adminBilling:t.state.adminBilling.filter((function(t){return parseInt(t.balancePayment)>0}))}),t.setState({copyData:Object.values(e.data)})}))}},{key:"render",value:function(){var t=this,e=this.state.sortValueId,a=this.state.sortvalueName,s=this.state.sortTotalPrice,i=this.state.sortAdvancePrice,n=this.state.sortBalancePrice;return Object(h.jsxs)("div",{className:"bp_container",children:[Object(h.jsxs)("div",{className:"hide-container",id:"hide-container",children:[Object(h.jsxs)("div",{className:"bp_header",children:[Object(h.jsx)("h2",{children:"Pending Payment"}),Object(h.jsx)(D.a,{label:"Search",id:"Search",sx:{m:1,width:"35ch"},placeholder:"Search Bill No",type:"number",onChange:this.searchBar,onKeyDown:this.onKeyDown,size:"small",InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(x.d,{})})}})]}),Object(h.jsx)("div",{className:"adminBillcopy_menu",style:{overflow:"auto"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsxs)("th",{className:"table_head",onClick:this.sortId,children:[e?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Bill No"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortName,children:[a?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Company name"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortTotalPrice,children:[s?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Total Price"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortAdvancePrice,children:[i?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Advance Payment"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortBalancePrice,children:[n?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Balance Payment"]}),Object(h.jsx)("th",{className:"table_head",children:"Date & Time"}),Object(h.jsx)("th",{className:"table_head",children:"Edit"}),Object(h.jsx)("th",{className:"table_head",children:"View"})]})}),Object(h.jsx)("tbody",{children:0===Object.values(this.state.adminBilling).length?Object(h.jsx)("td",{children:"No Data Found"}):Object.values(this.state.adminBilling).map((function(e,a){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e.id}),Object(h.jsx)("td",{children:e.company_name}),Object(h.jsx)("td",{children:e.totalPrice}),Object(h.jsx)("td",{children:e.advancePayment}),Object(h.jsx)("td",{children:e.balancePayment}),Object(h.jsx)("td",{children:e.time}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{className:"css-button-rounded--green",onClick:function(){t.clearPay(e.id,e.company_name,e.balancePayment,e.advancePayment,e.totalPrice)},children:"Update Payment"})}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/Admin/AdminBillCopy/viewBill/".concat(e.id),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",style:{minWidth:70},children:"View"})})})]})}))})]})})]}),Object(h.jsx)("div",{className:"show-updatepayment",id:"show-updatepayment",children:Object(h.jsxs)("div",{className:"show-updatepayment-bg",children:[Object(h.jsx)("button",{onClick:this.hidePopUp,className:"css-button-rounded--red",style:{padding:".5%",minWidth:0,minHeight:0,position:"relative"},children:"X"}),Object(h.jsxs)("form",{id:"updatePay-form",className:"updatePay-form",children:[Object(h.jsxs)("h2",{style:{padding:"10px 30px"},children:["You are updating Payment for ",this.state.tmpCompanyName," and Bill No is ",this.state.tmpId]}),Object(h.jsxs)("h3",{style:{padding:"10px 0px"},children:[" Total : ",this.state.tmpTotalPrice]}),Object(h.jsxs)("h3",{style:{padding:"10px 0px"},children:["Recived Payment : ",this.state.newAdvancePayment]}),Object(h.jsxs)("h3",{style:{padding:"10px 0px"},children:["pending Payment : ",this.state.finishedBalancePayment]}),Object(h.jsx)(D.a,{id:"payBox",type:"number",label:"Pending Payment",variant:"outlined",size:"small",name:"Another_paymeny",style:{margin:"10px 0px",width:250},inputProps:{min:"0",max:this.state.tmpBalancePayment,step:"1"},onChange:this.inputPay,placeholder:"Pending payment is ".concat(this.state.tmpBalancePayment)}),Object(h.jsx)("button",{onClick:this.updatedPay,className:"css-button-rounded--green",children:"Update Pay"})]})]})})]})}}]),a}(s.Component)),xt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{children:"EditCredit"})}}]),a}(s.Component),Ot=xt,vt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).hamburgerMenu=function(){t.setState({hamburger:!t.state.hamburger})},t.state={hamburger:!0,userName:localStorage.getItem("adminName")},t}return Object(r.a)(a,[{key:"Logout",value:function(){F.a.fire({title:"Are you Want to Logout?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Logout!"}).then((function(t){t.isConfirmed&&(F.a.fire({title:"Logout!",icon:"success"}),localStorage.removeItem("admin"),localStorage.removeItem("adminName"),localStorage.removeItem("branchId"),window.location.reload(!1))}))}},{key:"render",value:function(){return console.log(this.state.userName),console.log(window.location.pathname),Object(h.jsx)(j.a,{children:localStorage.getItem("admin")?Object(h.jsx)("div",{className:"admin_home",children:Object(h.jsxs)("div",{className:"admin_container",children:[this.state.hamburger?Object(h.jsxs)("div",{className:"admin_sidewrap",id:"admin_sidewrap",children:[Object(h.jsxs)("div",{className:"admin_sideTop",children:[Object(h.jsx)("div",{className:"nav_logo",children:Object(h.jsx)("div",{className:"mav_logo_name",children:Object(h.jsx)("h4",{children:" Billing "})})}),Object(h.jsx)("div",{className:"Hamburger",children:Object(h.jsx)(Q.a,{onClick:this.hamburgerMenu,style:{color:"white"},children:this.state.hamburger?Object(h.jsx)(g.b,{size:28}):Object(h.jsx)(f.a,{})})})]}),Object(h.jsx)("div",{className:"admin_sidewrap_main",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)(j.b,{to:"/Admin",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(d.a,{size:25}),Object(h.jsx)("p",{children:"Analytics"})]})})}),Object(h.jsx)(j.b,{to:"/Admin/new_products",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(y.c,{size:25}),Object(h.jsx)("p",{children:"Product"})]})})}),Object(h.jsx)(j.b,{to:"/Admin/billingName",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(x.c,{size:25}),Object(h.jsx)("p",{children:" Billing"})]})})}),Object(h.jsx)(j.b,{to:"/Admin/company_register",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(O.c,{size:25}),Object(h.jsx)("p",{children:"Resgister Customer"})]})})}),Object(h.jsx)(j.b,{to:"/Admin/AdminBillCopy",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(v.a,{size:25}),Object(h.jsx)("p",{children:"Bill Copy"})]})})}),Object(h.jsx)(j.b,{to:"/Admin/creditColoum",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(y.e,{size:25}),Object(h.jsx)("p",{children:"Credit"})]})})})]})}),Object(h.jsx)("div",{className:"admin_side_footer",children:Object(h.jsxs)(Q.a,{onClick:this.Logout,size:"small",style:{color:"white",height:30},children:[Object(h.jsx)(S.a,{})," ",Object(h.jsx)("h4",{children:"Logout"})]})})]}):Object(h.jsxs)("div",{className:"side_Nav",id:"side_Nav",children:[Object(h.jsx)("div",{className:"side_nav_top",children:Object(h.jsx)("div",{className:"Hamburger",children:Object(h.jsx)(Q.a,{color:"primary",style:{color:"white"},"aria-label":"upload picture",component:"span",onClick:this.hamburgerMenu,children:this.state.hamburger?Object(h.jsx)(g.b,{size:28}):Object(h.jsx)(f.a,{})})})}),Object(h.jsx)("div",{className:"admin_nav_main",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)(j.b,{to:"/Admin",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(d.a,{size:25})})})}),Object(h.jsx)(j.b,{to:"/Admin/new_products",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(y.c,{size:25})})})}),Object(h.jsx)(j.b,{to:"/Admin/billingName",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(x.c,{size:25})})})}),Object(h.jsx)(j.b,{to:"/Admin/company_register",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(O.c,{size:25})})})}),Object(h.jsx)(j.b,{to:"/Admin/AdminBillCopy",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"sidewrap_group",children:Object(h.jsx)(v.a,{size:25})})})}),Object(h.jsx)(j.b,{to:"/Admin/updateStock",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"sidewrap_group",children:Object(h.jsx)(P.a,{size:25})})})}),Object(h.jsx)(j.b,{to:"/Admin/creditColoum",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"sidewrap_group",children:Object(h.jsx)(y.e,{size:25})})})})]})}),Object(h.jsx)("div",{className:"admin_nav_footer",children:Object(h.jsx)(Q.a,{onClick:this.Logout,size:"small",style:{color:"white",background:"black",height:30},children:Object(h.jsx)(S.a,{})})})]}),Object(h.jsx)("div",{className:"admin_mainwrap",children:Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{exact:!0,path:"/Admin",component:q}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/analytics/revenue",component:st}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/analytics/companySales",component:it}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/analytics/companySales/:company_name",component:lt}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/analytics/reveue/:branchId",component:nt}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/update_price/edit/:id",component:G}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/new_products",component:M}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/allProduct/:pid",component:ot}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/new_products/addnew",component:E}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/billCopy/viewBill/:billNo",component:L}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/billingName/billing/:cmpName",component:H}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/billingName",component:C}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/adminEditBillNo/:id",component:gt}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/adminEditBillNo",component:ft}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/newUser",component:Z}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/newUser/viewUsers",component:$}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/company_register",component:I}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/viewCustomer",component:pt}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/editCustomer/:id",component:bt}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/AdminBillCopy",component:et}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/AdminBillCopy/viewBill/:id",component:at}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/creditColoum",component:yt}),Object(h.jsx)(m.a,{exact:!0,path:"/Admin/creditColoum/:billNo",component:Ot}),Object(h.jsx)(m.a,{component:ht})]})})]})}):Object(h.jsx)(tt,{})})}}]),a}(s.Component),St=(a(182),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t,s;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("https://gnindiamart.com/api/fetch.php").then((function(e){t.setState({dupData:e.data})})),w.a.get("https:/gnindiamart.com/api/fetchBalanceProduct.php/?branchId="+localStorage.getItem("userName")).then((function(e){t.setState({stockDetial:e.data});var a=t.state.stockDetial.map((function(t){return t.Pid})),s=t.state.dupData.filter((function(t){return a.includes(t.id)}));t.setState({copyData:s})})),w.a.get("https://gnindiamart.com/api/fetchusers.php/?branchId="+localStorage.getItem("userName")).then((function(e){t.setState({userDetails:e.data[0]}),t.setState({uGst_no:Object.values(t.state.userDetails)[7]})}))},t.sortPrice=function(){t.setState({sortPrice:!t.state.sortPrice}),1==t.state.sortPrice?t.setState(t.state.billingproducts.sort((function(t,e){return t.billProductPrice-e.billProductPrice}))):0==t.state.sortPrice&&t.setState(t.state.billingproducts.sort((function(t,e){return e.billProductPrice-t.billProductPrice})))},t.sortTotalPrice=function(){t.setState({sortTotalPrice:!t.state.sortTotalPrice}),1==t.state.sortTotalPrice?t.setState(t.state.billingproducts.sort((function(t,e){return t.billTotalPrice-e.billTotalPrice}))):0==t.state.sortTotalPrice&&t.setState(t.state.billingproducts.sort((function(t,e){return e.billTotalPrice-t.billTotalPrice})))},t.sortQuantity=function(){t.setState({sortQuantity:!t.state.sortQuantity}),1==t.state.sortQuantity?t.setState(t.state.billingproducts.sort((function(t,e){return t.billQuantity-e.billQuantity}))):0==t.state.sortQuantity&&t.setState(t.state.billingproducts.sort((function(t,e){return e.billQuantity-t.billQuantity})))},t.sortName=function(){t.setState({sortProductName:!t.state.sortProductName}),1==t.state.sortProductName?t.setState(t.state.billingproducts.sort((function(t,e){return t.billProductName.localeCompare(e.billProductName)}))):0==t.state.sortProductName&&t.setState(t.state.billingproducts.sort((function(t,e){return e.billProductName.localeCompare(t.billProductName)})))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value.toLowerCase())}));t.setState({fetchData:a},(function(){var t=this.state.fetchData.length;t<=3&&(s.style.height="120px"),t<=2&&(s.style.height="80px"),t<=1&&(s.style.height="40px"),t>=4&&(s.style.height="160px")})),t.setState({selectedValues:e.target.value});document.getElementById("searchBar");var s=document.getElementById("searchResult");""!=e.target.value?s.style.display="block":s.style.display="none",t.setState({arrow:0})},t.onKeyDown=function(e){var a=document.getElementById("searchResult");if(8===e.keyCode){var s=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:s},(function(){var t=this.state.fetchData.length;t<=3&&(a.style.height="120px"),t<=2&&(a.style.height="80px"),t<=1&&(a.style.height="40px"),t>=4&&(a.style.height="160px")}))}(38===e.keyCode&&t.state.arrow>0&&t.setState({arrow:t.state.arrow-1},(function(){a.scrollTo(0,a.scrollTop-40)})),40===e.keyCode&&t.state.arrow<t.state.fetchData.length-1&&(a.scrollTop>=3?a.scrollTo(0,a.scrollTop+40):a.scrollTo(0,a.scrollTop+2),t.setState({arrow:t.state.arrow+1},(function(){}))),13===e.keyCode)&&(void 0!==(s=t.state.fetchData[t.state.arrow])&&t.selectData(t.state.arrow,s.productName))},t.calculatePrice=function(e){var a=[];void 0===t.state.quanunit?(a=[]).push(parseInt(document.getElementById("punit").childNodes[0].value)):(a=[]).push(t.state.quanunit),t.setState({quanunit:parseInt(a[0])},(function(){if(1===t.state.quanunit){var a=e.target.value,s=a*t.state.fetchData[0].totalPrice;t.setState({Quantity:a}),t.setState({quantityPrice:s}),t.setState({punit:"kg"})}else if(2===t.state.quanunit){var i=e.target.value,n=i*t.state.fetchData[0].totalPrice;t.setState({Quantity:i}),t.setState({quantityPrice:n}),t.setState({punit:"liter"})}else if(3===t.state.quanunit){var l=e.target.value,c=t.state.fetchData[0].totalPrice,r=parseInt(l*(c/1e3));t.setState({Quantity:l}),t.setState({quantityPrice:r}),t.setState({punit:"g"})}else if(4===t.state.quanunit){var o=e.target.value,u=t.state.fetchData[0].totalPrice,d=parseInt(o*(u/1e3));t.setState({Quantity:o}),t.setState({quantityPrice:d}),t.setState({punit:"ml"})}else if(5===t.state.quanunit){var h=e.target.value,p=h*t.state.fetchData[0].totalPrice;t.setState({Quantity:h}),t.setState({quantityPrice:p}),t.setState({punit:"pkt"})}}))},t.alertMsg=function(e){F.a.fire({title:"Are you sure?",text:"Do you want to delete this product!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&F.a.fire("Deleted!","Your file has been deleted.","success"),t.deleteRow(e)}))},t.deleteRow=function(e){var a=t.state.billingproducts[e].billProductName,s=t.state.billingproducts[e].billQuantity,i=t.state.billingproducts[e].billUnits,n=t.state.stockDetial.map((function(t){return t.productName})).indexOf(a),l=t.state.stockDetial[n];if("kg"===i||"liter"===i||"pkt"===i){var c=parseFloat(l.quantity)+parseFloat(s);l.quantity=c;var r=new FormData;r.append("id",l.id),r.append("quantity",l.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:r,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}else if("g"===i||"ml"===i){var o=s/1e3,u=parseFloat(l.quantity)+parseFloat(o);l.quantity=u;var d=new FormData;d.append("id",l.id),d.append("quantity",l.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:d,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}var h=Object(Y.a)(t.state.billingproducts);h.splice(e,1),t.setState({billingproducts:h},(function(){localStorage.setItem("cbill",JSON.stringify(this.state.billingproducts))}))},t.addProduct=function(){var e=t.state.fetchData[0].productName,a=t.state.Quantity,s=t.state.punit,i=t.state.stockDetial.map((function(t){return t.productName})).indexOf(e),n=t.state.stockDetial[i];if("kg"===s||"liter"===s||"pkt"===s){var l=parseFloat(n.quantity)-parseFloat(a);n.quantity=l;var c=new FormData;c.append("id",n.id),c.append("quantity",n.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:c,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}else if("g"===s||"ml"===s){var r=a/1e3,o=parseFloat(n.quantity)-parseFloat(r);n.quantity=o;var u=new FormData;u.append("id",n.id),u.append("quantity",n.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:u,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}if(t.setState({count:t.state.count+1},(function(){var t=this.state.billingproducts.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0);this.setState({pageTotal:t},(function(){}))})),""===t.state.selectedValues)F.a.fire({title:"Empty Filed?",icon:"warning"});else{w.a.get("https://gnindiamart.com/api/getBillNo.php").then((function(e){t.setState({getbillNo:parseInt(Object.values(e.data[0]))+1},(function(){localStorage.setItem("billNo",this.state.getbillNo)}))}));var d=Object(Y.a)(t.state.billingproducts),h=t.state.fetchData[0].id,p=t.state.fetchData[0].productName,b=t.state.fetchData[0].totalPrice,j=t.state.fetchData[0].gst,m=t.state.punit,g=t.state.Quantity,f=t.state.Quantity,y=t.state.quantityPrice;d.push({billProductId:h,billProductName:p,billQuantity:g,billUnits:m,billOrgQty:f,billProductPrice:b,billProductGst:j,billTotalPrice:y}),t.setState({billingproducts:d},(function(){localStorage.setItem("cbill",JSON.stringify(this.state.billingproducts))})),t.setState({selectedValues:""}),document.getElementById("quantityInput").value="",document.getElementById("punit").defaultvalue=1,t.setState({fetchData:[]}),t.setState({quantityPrice:""}),t.setState({Quantity:""}),t.setState({quanunit:void 0}),document.getElementById("searchResult").style.display="none"}},t.updateBill=function(){var e=new FormData;e.append("branchId",localStorage.getItem("branchId")),e.append("company_name",t.props.match.params.cName),e.append("billNo",null),e.append("billData",JSON.stringify(t.state.billingproducts)),e.append("pageTotal",t.state.pageTotal),e.append("cid",localStorage.getItem("cid")),w()({method:"post",url:"https://gnindiamart.com/api/getBill.php",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){1==t.data.includes("Duplicate entry")?F.a.fire({title:"Product already Exists",icon:"error"}):F.a.fire({title:"Bill Printed",icon:"success"}).then((function(t){t.isConfirmed}))})),localStorage.removeItem("cbill"),localStorage.removeItem("company_name"),t.setState({billingproducts:[]}),t.setState({pageTotal:0}),t.setState({selectedValues:""}),t.setState({Quantity:""}),t.setState({quantityPrice:0}),document.getElementById("searchResult").style.display="none",window.print(),t.props.history.push("/user")},t.gramPrice=function(e){t.setState({quanunit:parseInt(e.target.value)},(function(){if(1===t.state.quanunit){var e=t.state.Quantity,a=e*t.state.fetchData[0].totalPrice;t.setState({Quantity:e}),t.setState({quantityPrice:a}),t.setState({punit:"kg"})}else if(2===t.state.quanunit){var s=t.state.Quantity,i=s*t.state.fetchData[0].totalPrice;t.setState({Quantity:s}),t.setState({quantityPrice:i}),t.setState({punit:"liter"})}else if(3===t.state.quanunit){var n=t.state.Quantity,l=t.state.fetchData[0].totalPrice,c=parseInt(n*(l/1e3));t.setState({Quantity:n}),t.setState({quantityPrice:c}),t.setState({punit:"g"})}else if(4===t.state.quanunit){var r=t.state.Quantity,o=t.state.fetchData[0].totalPrice,u=parseInt(r*(o/1e3));t.setState({Quantity:r}),t.setState({quantityPrice:u}),t.setState({punit:"ml"})}else if(5===t.state.quanunit){var d=t.state.Quantity,h=d*t.state.fetchData[0].totalPrice;t.setState({Quantity:d}),t.setState({quantityPrice:h}),t.setState({punit:"pkt"})}}))},t.cancelBill=function(){var e=JSON.parse(localStorage.getItem("cbill"));if(null!==e)for(var a=0;a<e.length;a++){var s=t.state.billingproducts[a].billProductName,i=t.state.billingproducts[a].billQuantity,n=t.state.billingproducts[a].billUnits,l=t.state.stockDetial.map((function(t){return t.productName})).indexOf(s),c=t.state.stockDetial[l];if("kg"===n||"liter"===n||"pkt"===n){var r=parseFloat(c.quantity)+parseFloat(i);c.quantity=r;var o=new FormData;o.append("id",c.id),o.append("quantity",c.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:o,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}else if("g"===n||"ml"===n){var u=i/1e3,d=parseFloat(c.quantity)+parseFloat(u);c.quantity=d;var h=new FormData;h.append("id",c.id),h.append("quantity",c.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:h,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}}localStorage.removeItem("company_name"),localStorage.removeItem("cbill"),t.props.history.push("/user")},t.confirmBill=function(){var t=document.getElementById("b_container"),e=document.getElementById("confirm_hide");t.style.display="none",e.style.display="block"},t.confirmBillBack=function(){var t=document.getElementById("b_container"),e=document.getElementById("confirm_hide");t.style.display="block",e.style.display="none"},s=null==localStorage.getItem("cbill")?[]:JSON.parse(localStorage.getItem("cbill")),t.state={fetchData:[],copyData:[],selectedValues:"",Quantity:"",quanunit:void 0,quantityPrice:0,billingproducts:s,sortProductName:!1,sortPrice:!1,sortQuantity:!1,sortTotalPrice:!1,pageTotal:0,count:0,punit:"",stockDetial:[],dupData:[],getbillNo:"",arrow:0,userDetails:[],uGst_no:""},t.getData(),t.selectData=t.selectData.bind(Object(R.a)(t)),t}return Object(r.a)(a,[{key:"selectData",value:function(t,e){var a=this.state.copyData.filter((function(t){return t.productName.includes(e)}));this.setState({fetchData:a}),this.setState({selectedValues:e},(function(){})),document.getElementById("searchResult").style.display="none"}},{key:"render",value:function(){var t=this,e=this.state.sortProductName,a=this.state.sortPrice,s=this.state.sortQuantity,i=this.state.sortTotalPrice,n=this.props.match.params.cName;localStorage.setItem("company_name",n);var l=this.state.billingproducts,c=new Date;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"b_container",id:"b_container",children:[Object(h.jsxs)("div",{className:"b_name_header_heading",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"Billing"}),Object(h.jsxs)("h3",{children:["Company name : ",n]})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:"css-button-rounded--red",onClick:this.cancelBill,children:"Cancel bill"})})]}),Object(h.jsxs)("div",{className:"b_header",children:[Object(h.jsxs)("div",{className:"b_subheader",children:[Object(h.jsx)("h3",{children:"Product Name"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(D.a,{id:"searchBar",variant:"outlined",size:"small",onChange:this.searchBar,onKeyDown:this.onKeyDown,value:this.state.selectedValues}),Object(h.jsx)("div",{className:"searchResult",id:"searchResult",children:0===this.state.fetchData.length?Object(h.jsx)("p",{className:"items",children:"No Data Found"}):this.state.fetchData.map((function(e,a){return Object(h.jsx)("p",{className:"items ",id:"items".concat(a)==="items".concat(t.state.arrow)?"active":"",onClick:function(){return t.selectData(a,e.productName)},children:e.productName},a)}))})]})]}),Object(h.jsxs)("div",{className:"b_subheader",children:[Object(h.jsx)("h3",{children:"Quantity"}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{id:"quantityInput","aria-describedby":"outlined-weight-helper-text",inputProps:{min:"0",step:"1"},size:"small",type:"number",style:{width:100},onChange:this.calculatePrice,disabled:""===this.state.selectedValues})})]}),Object(h.jsx)("div",{className:"b_subheader",children:Object(h.jsx)("div",{children:Object(h.jsxs)("select",{labelId:"punit",id:"punit",sx:{height:40,width:100},onChange:this.gramPrice,disabled:""===this.state.Quantity,className:"select_unit",children:[this.state.fetchData.map((function(e){return"pkt"===e.units?Object(h.jsx)("option",{className:"select-items",value:5,id:"pkt",children:"pkt"}):t.state.fetchData.map((function(t){return"kg"===t.units?Object(h.jsx)("option",{value:1,id:"kg",children:"kg"}):Object(h.jsx)("option",{value:2,id:"liter",children:"liter"})}))})),this.state.fetchData.map((function(e){return"pkt"===e.units?Object(h.jsx)(h.Fragment,{}):t.state.fetchData.map((function(t){return"kg"===t.units?Object(h.jsx)("option",{value:3,id:"gram",children:"gram"}):Object(h.jsx)("option",{value:4,id:"ml",children:"ml"})}))}))]})})}),Object(h.jsxs)("div",{className:"b_subheader",children:[Object(h.jsx)("h3",{children:"Price"}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{disabled:!0,id:"outlined-adornment-weight",value:1===this.state.fetchData.length?this.state.quantityPrice:"",endAdornment:Object(h.jsx)(T.a,{position:"end",children:"Rs"}),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100}})})]}),Object(h.jsx)("div",{className:"b_subheader",children:Object(h.jsx)("div",{children:1===this.state.fetchData.length&&""!==this.state.Quantity?Object(h.jsxs)(k.a,{color:"success",variant:"contained","aria-label":"add an alarm",size:"medium",onClick:this.addProduct,children:[Object(h.jsx)(P.b,{}),"Add"]}):Object(h.jsxs)(k.a,{color:"success",disabled:!0,variant:"contained","aria-label":"add an alarm",size:"medium",onClick:this.addProduct,children:[Object(h.jsx)(P.b,{}),"Add"]})})})]}),Object(h.jsx)("div",{className:"b_mainwrap",style:{margin:"2% 0%",overflow:"auto"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Product Id"}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortName,children:[e?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Product Name"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortPrice,children:[a?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Product Price"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortQuantity,children:[s?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Quantity"]}),Object(h.jsxs)("th",{className:"table_head",onClick:this.sortTotalPrice,children:[i?Object(h.jsx)(x.e,{size:15}):Object(h.jsx)(x.a,{size:15}),"Total Price"]}),Object(h.jsx)("th",{className:"table_head"})]})}),Object(h.jsx)("tbody",{className:"container_table_body",children:this.state.billingproducts.map((function(e,a){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{component:"th",scope:"row",style:{border:"none"},children:a+1}),Object(h.jsxs)("td",{children:["PID",e.billProductId]}),Object(h.jsx)("td",{children:e.billProductName}),Object(h.jsx)("td",{children:e.billProductPrice}),Object(h.jsxs)("td",{children:[e.billQuantity,e.billUnits]}),Object(h.jsx)("td",{children:e.billTotalPrice}),Object(h.jsx)("td",{sx:{width:100},children:Object(h.jsx)(Q.a,{variant:"contained",size:"small",color:"error",onClick:function(){return t.alertMsg(a)},children:Object(h.jsx)(y.a,{})})})]},a+1)}))})]})}),0===this.state.pageTotal?"":Object(h.jsxs)("div",{className:"b_footer",id:"totalPriceHTML",children:[Object(h.jsx)(Pt,{products:this.state.billingproducts,id:"totalPriceHTML"}),Object(h.jsx)("button",{className:"css-button-rounded--blue",type:"submit",onClick:this.confirmBill,children:"Print"})]})]}),null===l?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("div",{className:"pageToPrint",children:[Object(h.jsx)("div",{className:"printHeader",style:{borderTop:"1px soild black",borderBottom:"1px solid black",padding:"1% 0%"}}),Object(h.jsxs)("div",{className:"printcustomerName",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:[Object(h.jsxs)("p",{children:["Customer Name: ",n]}),Object(h.jsxs)("p",{children:["Bill Date:",c.getDate(),"/",c.getMonth(),"/",c.getFullYear()]}),Object(h.jsxs)("p",{children:["Bill Time:",c.getHours(),".",c.getMinutes(),".",c.getSeconds()]})]}),Object(h.jsxs)("div",{className:"printBranchName",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:[Object(h.jsxs)("p",{children:["Branch name:",localStorage.getItem("userName")]}),Object(h.jsxs)("p",{children:["Bill no:",localStorage.getItem("billNo")]})]}),Object(h.jsxs)("table",{className:"printBillDetali",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:[Object(h.jsxs)("tr",{className:"printBillTR",children:[Object(h.jsx)("th",{children:"Si no"}),Object(h.jsx)("th",{children:"product"}),Object(h.jsx)("th",{children:"Quantity"}),Object(h.jsx)("th",{children:"price"})]}),l.map((function(t,e){return Object(h.jsxs)("tr",{className:"printBillTD",children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.billProductName}),Object(h.jsxs)("td",{children:[t.billQuantity,t.billUnits]}),Object(h.jsx)("td",{children:parseFloat(t.billTotalPrice).toFixed(2)})]})}))]}),Object(h.jsxs)("div",{className:"printTotal",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:[Object(h.jsx)("p",{children:"Includes Gst"}),Object(h.jsxs)("h4",{children:["Total:",this.state.pageTotal]})]}),Object(h.jsx)("div",{className:"printEnd",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:Object(h.jsx)("p",{children:"Thank You! Vist Again!"})})]}),Object(h.jsx)("div",{className:"confirm_hide",id:"confirm_hide",children:Object(h.jsx)("div",{className:"confirmBill",children:Object(h.jsxs)("div",{className:"confirmBill_back",children:[Object(h.jsx)("div",{className:"confirmBill_head",children:Object(h.jsx)("h1",{children:"Print Bill"})}),Object(h.jsxs)("div",{className:"confirmBill_menu",children:[Object(h.jsx)("div",{className:"confirmBill_menu_button"}),Object(h.jsxs)("div",{className:"confirmBill_button",children:[Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.updateBill,children:"Print Bill"}),Object(h.jsx)("button",{style:{margin:"10px 0px"},className:"css-button-rounded--red",onClick:this.confirmBillBack,children:"Back"})]})]})]})})})]})}}]),a}(s.Component)),Pt=function(t){var e=t.products;return Object(h.jsxs)("h3",{children:["Total:",e.reduce((function(t,e){return t+e.billTotalPrice}),0)]})},Nt=St,Dt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).updateValue=function(e){t.setState(Object(N.a)({},e.target.name,[e.target.value]))},t.submitValues=function(e){e.preventDefault();var a=new FormData;a.append("userName",t.state.userName),a.append("passWord",t.state.passWord),""===t.state.userName||""===t.state.passWord?F.a.fire({title:"Please all fill all the details",icon:"error"}):w()({method:"post",url:"https://gnindiamart.com/api/login.php",data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(e){var a=e.data;console.log(e.data),0===a?F.a.fire({title:"Invalid Username or Password",icon:"error"}):(localStorage.setItem("user",!0),localStorage.setItem("userName",t.state.userName),window.location.reload(!1))}))},t.state={userName:"",passWord:"",rvalues:""},t}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"login_back",children:Object(h.jsx)("div",{class:"login_card",children:localStorage.getItem("user")?Object(h.jsx)(Nt,{}):Object(h.jsxs)("form",{children:[Object(h.jsx)("div",{className:"logo_login"}),Object(h.jsx)("h3",{class:"login_title",children:" Log in"}),Object(h.jsx)("p",{class:"or"}),Object(h.jsxs)("div",{class:"userName",children:[Object(h.jsxs)("label",{for:"Username",children:[" ",Object(h.jsx)("b",{children:"Username"})]}),Object(h.jsx)(D.a,{variant:"outlined",size:"small",name:"userName",onChange:this.updateValue})]}),Object(h.jsxs)("div",{class:"password",children:[Object(h.jsxs)("label",{for:"Password",children:[" ",Object(h.jsx)("b",{children:"Password"})]}),Object(h.jsx)(D.a,{variant:"outlined",size:"small",name:"passWord",onChange:this.updateValue})]}),Object(h.jsx)("div",{class:"login-btn",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.submitValues,children:"Login"})})]})})})}}]),a}(s.Component),_t=a(235),wt=(a(183),a(184),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).changeValue=function(e){t.setState(Object(N.a)({},e.target.name,[e.target.value]))},t.submitValues=function(e){if(e.preventDefault(),""===t.state.company_name||""===t.state.phone_no||""===t.state.email)F.a.fire({title:"please fill all the details",icon:"error"});else{var a=new FormData;a.append("branchId",localStorage.getItem("branchId")),a.append("company_name",t.state.company_name),a.append("phone_no",t.state.phone_no),a.append("email",t.state.email),a.append("Gst_no",t.state.Gst_no),w()({method:"post",url:"https://gnindiamart.com/api/addNewCompany.php",data:a,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){1==t.data.includes("Duplicate entry")?F.a.fire({title:"Company already Exists",icon:"error"}):F.a.fire({title:"Company Added",icon:"success"}).then((function(t){t.isConfirmed}))})),t.setState({company_name:""}),t.setState({phone_no:""}),t.setState({email:""}),t.setState({Gst_no:""})}},t.state={company_name:"",phone_no:"",email:"",Gst_no:""},t}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"reg_container",id:"reg_container",children:Object(h.jsxs)("div",{className:"reg_background",id:"reg_background",children:[Object(h.jsx)("div",{className:"reg_header_name",children:Object(h.jsx)("h2",{children:"Register new user"})}),Object(h.jsx)("div",{children:Object(h.jsxs)("form",{className:"reg_form",children:[Object(h.jsx)("div",{className:"reg_grp",children:Object(h.jsx)(D.a,{id:"company_name",value:this.state.company_name,name:"company_name",label:"company name",variant:"outlined",required:!0,onChange:this.changeValue})}),Object(h.jsx)("div",{className:"reg_grp",children:Object(h.jsx)(D.a,{id:"phone_no",value:this.state.phone_no,name:"phone_no",label:"Phone number",variant:"outlined",required:!0,onChange:this.changeValue,type:"number",inputProps:{min:"0",step:"1"}})}),Object(h.jsx)("div",{className:"reg_grp",children:Object(h.jsx)(D.a,{id:"email",value:this.state.email,name:"email",label:"email",variant:"outlined",required:!0,onChange:this.changeValue})}),Object(h.jsx)("div",{className:"reg_grp",children:Object(h.jsx)(D.a,{id:"Gst_no",value:this.state.Gst_no,name:"Gst_no",label:"Gst no",variant:"outlined",onChange:this.changeValue})}),Object(h.jsx)("div",{className:"reg_grp",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",type:"submit",variant:"contained",onClick:this.submitValues,children:"Add Customer"})}),Object(h.jsx)("div",{className:"reg_grp",children:Object(h.jsx)(j.b,{to:"/user/viewCustomer",children:Object(h.jsx)("button",{className:"css-button-rounded--green",children:"View Customer"})})})]})})]})})}}]),a}(s.Component)),Bt=(a(185),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("https://gnindiamart.com/api/getCompanyName.php/?bName="+localStorage.getItem("userName")).then((function(e){t.setState({copyData:e.data})}))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.company_name.includes(e.target.value.toLowerCase())}));t.setState({fetchData:a},(function(){var t=this.state.fetchData.length;t<=3&&(s.style.height="120px"),t<=2&&(s.style.height="80px"),t<=1&&(s.style.height="40px"),t>=4&&(s.style.height="160px")})),t.setState({selectedValues:e.target.value});document.getElementById("searchBar");var s=document.getElementById("searchResult");""!=e.target.value?s.style.display="block":(s.style.display="none",t.setState({fetchData:[]})),t.getData(),t.setState({arrow:0})},t.onKeyDown=function(e){var a=document.getElementById("searchResult");if(8===e.keyCode){var s=t.state.copyData.filter((function(t){return t.company_name.includes(e.target.value)}));t.setState({fetchData:s},(function(){var t=this.state.fetchData.length;t<=3&&(a.style.height="120px"),t<=2&&(a.style.height="80px"),t<=1&&(a.style.height="40px"),t>=4&&(a.style.height="160px")}))}(38===e.keyCode&&t.state.arrow>0&&t.setState({arrow:t.state.arrow-1},(function(){a.scrollTo(0,a.scrollTop-40)})),40===e.keyCode&&t.state.arrow<t.state.fetchData.length-1&&(a.scrollTop>=3?a.scrollTo(0,a.scrollTop+40):a.scrollTo(0,a.scrollTop+2),t.setState({arrow:t.state.arrow+1},(function(){}))),13===e.keyCode)&&(void 0!==(s=t.state.fetchData[t.state.arrow])&&t.selectData(s.cid,s.company_name));t.getData()},t.newuser=function(){t.setState({NewUser:!t.state.NewUser},(function(){var e=document.getElementById("reg_container"),a=document.getElementById("reg_background");null!==a&&(e.style.margin="0%",a.style.boxShadow="none"),t.getData()}))},t.submitName=function(){localStorage.setItem("cid",t.state.fetchData[0].cid)},t.state={fetchData:[],copyData:[],selectedValues:"",NewUser:!0,arrow:0},t.getData(),t}return Object(r.a)(a,[{key:"selectData",value:function(t,e){var a=this,s=this.state.copyData.filter((function(t){return t.company_name===e}));this.setState({fetchData:s},(function(){localStorage.setItem("cid",a.state.fetchData[0].cid)})),this.setState({selectedValues:e}),document.getElementById("searchResult").style.display="none",this.getData()}},{key:"render",value:function(){var t=this,e=this.state.NewUser;return Object(h.jsxs)("div",{className:"billingName_container",children:[null===localStorage.getItem("company_name")?Object(h.jsx)(h.Fragment,{}):Object(h.jsx)(h.Fragment,{children:this.props.history.push("/user/billingName/billing/".concat(localStorage.getItem("company_name")))}),e?Object(h.jsxs)("div",{className:"billingName_header",children:[Object(h.jsx)("div",{className:"billingName_header_button",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.newuser,children:"New user"})}),Object(h.jsx)("div",{className:"billingName_newuserForm",children:Object(h.jsxs)("div",{className:"billName_row",children:[Object(h.jsx)("div",{className:"billName_row_name",children:Object(h.jsx)("h2",{children:"Company Name "})}),Object(h.jsxs)("div",{className:"billName_row_box",children:[Object(h.jsx)(D.a,{id:"searchBar",variant:"outlined",size:"small",onChange:this.searchBar,onKeyDown:this.onKeyDown,value:this.state.selectedValues}),Object(h.jsx)("div",{className:"searchResult",id:"searchResult",children:0===this.state.fetchData.length?Object(h.jsx)("p",{className:"items",children:"No Data Found"}):this.state.fetchData.map((function(e,a){return Object(h.jsx)("p",{className:"items",id:"items".concat(a)==="items".concat(t.state.arrow)?"active":"",onClick:function(){return t.selectData(e.cid,e.company_name)},children:e.company_name},a)}))})]}),Object(h.jsx)("div",{className:"billName_row_button",children:1!==this.state.fetchData.length?Object(h.jsx)(k.a,{type:"button",variant:"contained",className:"css-button-rounded--blue",disable:!0,onClick:this.submitName,disabled:!0,children:" Next"}):Object(h.jsx)(j.b,{to:"/user/billingName/billing/".concat(this.state.selectedValues),children:Object(h.jsx)("button",{className:"css-button-rounded--green",onClick:this.submitName,children:"Next"})})})]})})]}):Object(h.jsxs)("div",{className:"billingName_header",children:[Object(h.jsx)("div",{className:"billingName_header_button",children:Object(h.jsx)("button",{className:"css-button-rounded--red",onClick:this.newuser,children:"Hide"})}),Object(h.jsx)("div",{className:"billName_row",children:Object(h.jsx)(wt,{})})]})]})}}]),a}(s.Component)),Ft=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(e,a){console.log(e,a),w.a.get("https://gnindiamart.com/api/getBillDateWise.php/?startDate="+e+"&endDate="+a+"&branchId="+localStorage.getItem("branchId")).then((function(s){t.setState({DataBetween:s.data},(function(){for(var s=[],i=[],n=new Date(a),l=new Date(e);n<l;){var c=n.getFullYear()+"-"+(n.getMonth()+1).toString().padStart(2,"0")+"-"+n.getDate().toString().padStart(2,"0");i.push(c),s=[].concat(Object(Y.a)(s),[new Date(n)]),n.setDate(n.getDate()+1)}for(var r=[],o=[],u=0;u<i.length;u++)o.push(i[u]),"3M"==t.state.selectDate?o.length>=7&&(r.push(o),o=[]):"6M"==t.state.selectDate?o.length>=14&&(r.push(o),o=[]):"1Y"==t.state.selectDate?o.length>=30&&(r.push(o),o=[]):"2Y"==t.state.selectDate?o.length>=60&&(r.push(o),o=[]):"3Y"==t.state.selectDate?o.length>=90&&(r.push(o),o=[]):"4Y"==t.state.selectDate?o.length>=120&&(r.push(o),o=[]):"5Y"==t.state.selectDate&&o.length>=150&&(r.push(o),o=[]);r.push(o),t.setState({dateArray:i},(function(){for(var e=[],a=[],s=function(s){for(var i=function(a){var i=t.state.getData.filter((function(t){return t.time.includes(r[s][a])}));e.push(i)},n=0;n<r[s].length;n++)i(n);a.push(e),e=[]},i=0;i<r.length;i++)s(i);var n=Object.assign({},{date:r,data:a});if("1W"===t.state.selectDate||"1M"===t.state.selectDate){for(var l=[],c=0;c<n.date[0].length;c++){var o=n.data[0][c].map((function(t){return parseFloat(t.totalPrice)})).reduce((function(t,e){return t+e}),0);l.push(o)}t.setState({label:n.date[0]}),t.setState({barValue:l})}else if("3M"===t.state.selectDate||"6M"===t.state.selectDate||"1Y"===t.state.selectDate||"2Y"===t.state.selectDate||"3Y"===t.state.selectDate||"4Y"===t.state.selectDate||"5Y"===t.state.selectDate){for(var u=[],d=[],h=[],p=[],b=0;b<n.date.length;b++){var j=n.date[b].length;u.push(n.date[b][0]+" to "+n.date[b][j-1]);for(var m=0;m<n.data[b].length;m++){var g=n.data[b][m].map((function(t){return parseFloat(t.totalPrice)})).reduce((function(t,e){return t+e}),0);p.push(g)}h.push(p),p=[];var f=h[b].reduce((function(t,e){return t+e}),0);d.push(f)}t.setState({label:u}),t.setState({barValue:d})}}))}))}))},t.state={getData:[],topCompany:[],copyData:[],todayBill:[],todayBillTotal:null,todayFormatedTotal:null,weekBill:[],weekBillTotal:null,weekFormatedTotal:null,monthlyBill:[],monthlyBillTotal:null,monthFormatedTotal:null,branchList:[],listData:[],ProductName:null,ProductTotalQuantitySale:null,ProductBalanceQuantity:null,ProductTotalRevenue:null,selectDate:"1W",DataBetween:[],dateArray:[],label:[],barValue:[]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/fetchBillCopy.php/?bName="+localStorage.getItem("branchId")).then((function(e){t.setState({getData:Object.values(e.data)},(function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0"),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()-7),s=a.getFullYear()+"-"+(a.getMonth()+1).toString().padStart(2,"0")+"-"+a.getDate().toString().padStart(2,"0");this.getData(e,s)}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/getBillDateBranchWise.php/?today=1&branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({todayBill:Object.values(e.data)},(function(){var t=this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({todayBillTotal:t},(function(){this.setState({todayFormatedTotal:e});var t=this.state.todayBill.map((function(t){return t.branchId})).filter((function(t,e,a){return a.indexOf(t)==e}));this.setState({branchList:t},(function(){var t=this;console.log(this.state.todayBill.filter((function(e){return e.branchId===t.state.branchList[0]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)),console.log(this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0))}))}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/getBillDateBranchWise.php/?week=1&branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({weekBill:Object.values(e.data)},(function(){var t=this.state.weekBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({weekBillTotal:t},(function(){this.setState({weekFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/getBillDateBranchWise.php/?month=1&branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({monthlyBill:Object.values(e.data)},(function(){var t=this.state.monthlyBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({monthlyBillTotal:t},(function(){this.setState({monthFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/fetchBillCopy.php/?bName="+localStorage.getItem("branchId")).then((function(e){t.setState({topCompany:Object.values(e.data)},(function(){var t=this.state.topCompany.map((function(t){return t.company_name})).filter((function(t,e,a){return a.indexOf(t)==e}));this.setState({companyList:t},(function(){var t=this,e=this.state.companyList.map((function(e,a){return t.state.topCompany.filter((function(e){return e.company_name===t.state.companyList[a]})).map((function(t){return t.branchId}))})),a=this.state.companyList,s=this.state.companyList.map((function(e,a){return t.state.topCompany.filter((function(e){return e.company_name===t.state.companyList[a]})).length})),i=e.map((function(t){return t.filter((function(t,e,a){return a.indexOf(t)===e}))})).map((function(t){return t[0]})),n=this.state.companyList.map((function(e,a){return t.state.topCompany.filter((function(e){return e.company_name===t.state.companyList[a]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)})),l=Object.assign.apply({},[this.state.companyList.map((function(t,e,l){return{company_name:a[e],total:n[e],branchId:i[e],totalBill:s[e]}}))]);l.sort((function(t,e){return e.total-t.total}));var c=l.slice(0,7);this.setState({listData:c})}))}))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"analytics_container",children:[Object(h.jsx)("div",{className:"analytics_header",children:Object(h.jsx)("h1",{children:" Analytics"})}),Object(h.jsxs)("div",{className:"analytics_menu",children:[Object(h.jsx)("div",{className:"analytics_top",children:Object(h.jsxs)("div",{className:"analytics_revenue",children:[Object(h.jsxs)("div",{className:"analytics_revenue_top",children:[Object(h.jsx)("h3",{children:"Overall Sales"}),Object(h.jsx)(j.b,{to:"/user/analytics/revenue",children:Object(h.jsx)("button",{className:"css-button-sliding-to-left--sky",children:"View detial"})})]}),Object(h.jsxs)("div",{className:"analytics_revenue_menu",children:[Object(h.jsxs)("div",{className:"menu1 analytics_box",children:[Object(h.jsx)("h3",{children:"Today sales"}),Object(h.jsxs)("h2",{className:"revenue_h2",children:[" ",this.state.todayFormatedTotal," "]})]}),Object(h.jsxs)("div",{className:"menu2 analytics_box",children:[Object(h.jsx)("h3",{children:"Last 7 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.weekFormatedTotal})]}),Object(h.jsxs)("div",{className:"menu3 analytics_box",children:[Object(h.jsx)("h3",{children:"Last 30 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.monthFormatedTotal})]})]})]})}),Object(h.jsxs)("div",{className:"analytics_bottom",children:[Object(h.jsxs)("div",{className:"analytics_bar",children:[Object(h.jsxs)("div",{className:"analytics_bar_top",children:[Object(h.jsx)("h3",{children:"Bar Graph"}),Object(h.jsx)(j.b,{to:"/user/analytics/barGraph",children:Object(h.jsx)("button",{className:"css-button-sliding-to-left--sky",children:"View detial"})})]}),Object(h.jsx)("div",{className:"bar_menu_bottom",children:0===this.state.getData.length?Object(h.jsx)(h.Fragment,{children:"NO Bill yet"}):Object(h.jsx)(V.a,{data:{labels:this.state.label,datasets:[{backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4","#FF6633","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],borderColor:["#000"],data:this.state.barValue}]},options:{layout:{padding:30},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"center",display:!1}}}})})]}),Object(h.jsxs)("div",{className:"analytics_sales",children:[Object(h.jsxs)("div",{className:"analytics_sales_top",children:[Object(h.jsx)("h3",{children:"Customer Sales"}),Object(h.jsx)(j.b,{to:"/user/analytics/companyWise",children:Object(h.jsx)("button",{className:"css-button-sliding-to-left--sky",children:"View detial"})})]}),Object(h.jsx)("div",{className:"analytics_sales_bottom",children:Object(h.jsxs)("table",{className:"analytics_table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"analytics_tablehead",children:"Si No"}),Object(h.jsx)("th",{className:"analytics_tablehead",children:"Company Name"}),Object(h.jsx)("th",{className:"analytics_tablehead",children:"Total Sales"})]})}),Object(h.jsx)("tbody",{children:this.state.listData.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.total})]})}))})]})})]})]})]})]})}}]),a}(s.Component),It=(a(112),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("https://gnindiamart.com/api/fetch.php").then((function(e){t.setState({copyData:e.data})})),w.a.get("https://gnindiamart.com/api/fetchBalanceProduct.php/?branchId="+localStorage.getItem("userName")).then((function(e){t.setState({balanceProduct:e.data})}))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:a},(function(){var t=this.state.fetchData.length;t<=3&&(s.style.height="120px"),t<=2&&(s.style.height="80px"),t<=1&&(s.style.height="40px"),t>=4&&(s.style.height="160px")})),t.setState({selectedValues:e.target.value});document.getElementById("searchBar");var s=document.getElementById("searchResult");""!=e.target.value?s.style.display="block":s.style.display="none",t.getData(),t.setState({arrow:0})},t.onKeyDown=function(e){var a=document.getElementById("searchResult");if(8===e.keyCode){var s=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:s},(function(){var t=this.state.fetchData.length;t<=3&&(a.style.height="120px"),t<=2&&(a.style.height="80px"),t<=1&&(a.style.height="40px"),t>=4&&(a.style.height="160px")}))}(38===e.keyCode&&t.state.arrow>0&&t.setState({arrow:t.state.arrow-1},(function(){a.scrollTo(0,a.scrollTop-40)})),40===e.keyCode&&t.state.arrow<t.state.fetchData.length-1&&(a.scrollTop>=3?a.scrollTo(0,a.scrollTop+40):a.scrollTo(0,a.scrollTop+2),t.setState({arrow:t.state.arrow+1},(function(){}))),13===e.keyCode)&&(void 0!==(s=t.state.fetchData[t.state.arrow])&&t.selectData(t.state.arrow,s.productName))},t.onChangeValue=function(e){t.setState({Quantity:e.target.value})},t.addProduct=function(){var e=[],a=t.state.fetchData[0].productName,s=t.state.fetchData[0].id,i=t.state.fetchData[0].units,n=t.state.balanceProduct.map((function(t){return t.productName})).indexOf(a),l=t.state.Quantity;if(-1===n){var c=new FormData;c.append("Pid",s),c.append("branchId",localStorage.getItem("userName")),c.append("productName",a),c.append("quantity",l),c.append("units",i),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:c,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){})),e.push(c),t.getData(),t.setState({Quantity:""}),t.setState({selectedValues:""}),t.setState({fetchData:[]})}else if(n>=0){var r=t.state.balanceProduct[n],o=parseFloat(r.quantity)+parseFloat(l);r.quantity=o;var u=new FormData;u.append("id",r.id),u.append("quantity",r.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:u,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){})),e.push(u),t.getData(),t.setState({Quantity:""}),t.setState({selectedValues:""}),t.setState({fetchData:[]})}localStorage.setItem("balProduct",e),document.getElementById("searchBar").value="",document.getElementById("quantityInput").value=""},t.state={fetchData:[],copyData:[],balanceProduct:[],selectedValues:"",Quantity:"",arrow:0},t.getData(),t}return Object(r.a)(a,[{key:"selectData",value:function(t,e){var a=this.state.copyData.filter((function(t){return t.productName.includes(e)}));this.setState({fetchData:a}),this.setState({selectedValues:e}),document.getElementById("searchResult").style.display="none"}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"b_container",children:[Object(h.jsxs)("div",{className:"b_name_header",style:{display:"flex",justifyContent:"space-between"},children:[Object(h.jsx)("h2",{children:"Update Product"}),Object(h.jsx)(j.b,{to:"/user/update_product/receiveProduct",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"Receive Product"})})]}),Object(h.jsx)("div",{style:{overflowX:"auto"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Product Id"}),Object(h.jsx)("th",{className:"table_head",children:"Product Name"}),Object(h.jsx)("th",{className:"table_head",children:"Quantity"})]})}),Object(h.jsx)("tbody",{children:0===this.state.balanceProduct.length?Object(h.jsx)("td",{children:"No Data Found"}):this.state.balanceProduct.map((function(t,e){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{component:"th",scope:"row",children:e+1}),Object(h.jsxs)("td",{children:["PID",t.Pid]}),Object(h.jsx)("td",{children:t.productName}),Object(h.jsxs)("td",{children:[t.quantity,t.units]})]},e+1)}))})]})})]})}}]),a}(s.Component)),kt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("https://gnindiamart.com/api/waitingstock.php/?branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({copyData:e.data},(function(){console.log(t.state.copyData)}))}))},t.addDb=function(e){w.a.get("https://gnindiamart.com/api/addstocktostore.php/?id="+e),t.getData(),window.location.reload(!1)},t.state={fetchData:[],copyData:[],balanceProduct:[],selectedValues:"",Quantity:"",arrow:0},t.getData(),t}return Object(r.a)(a,[{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{className:"b_container",children:[Object(h.jsx)("div",{className:"b_name_header",style:{display:"flex",justifyContent:"space-between"},children:Object(h.jsx)("h2",{children:"Accept Order"})}),Object(h.jsx)("div",{style:{overflowX:"auto"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Product Id"}),Object(h.jsx)("th",{className:"table_head",children:"Product Name"}),Object(h.jsx)("th",{className:"table_head",children:"Quantity"}),Object(h.jsx)("th",{className:"table_head",children:"Accept"})]})}),Object(h.jsx)("tbody",{children:0===this.state.copyData.length?Object(h.jsx)("td",{children:"No Data Found"}):this.state.copyData.map((function(e,a){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{component:"th",scope:"row",children:a+1}),Object(h.jsxs)("td",{children:["PID",e.Pid]}),Object(h.jsx)("td",{children:e.ProductName}),Object(h.jsxs)("td",{children:[e.ProductQuantity," ",e.ProductUnits]}),Object(h.jsx)("td",{children:Object(h.jsx)("button",{className:"css-button-rounded--green",style:{minHeight:0,minWidth:40},onClick:function(){t.addDb(e.id)},children:"Accept"})})]},a+1)}))})]})})]})}}]),a}(s.Component),Ct=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).searchBarBill=function(e){var a=t.state.copyData.filter((function(t){return t.billNo.startsWith(e.target.value)}));t.setState({dupData:a}),""===e.target.value||a.length,t.setState({arrow:0})},t.onKeyDownBill=function(e){if(8===e.keyCode){var a=t.state.copyData.filter((function(t){return t.billNo.startsWith(e.target.value)}));t.setState({dupData:a})}},t.searchBarProduct=function(e){var a=t.state.copyDataStockDetails.filter((function(t){return t.productName.startsWith(e.target.value)}));t.setState({stockDetails:a}),""===e.target.value||a.length,t.setState({arrow:0})},t.onKeyDownProduct=function(e){if(8===e.keyCode){var a=t.state.copyDataStockDetails.filter((function(t){return t.productName.startsWith(e.target.value)}));t.setState({stockDetails:a})}},t.state={stockDetails:[],copyDataStockDetails:[],getData:[],rawData:[],dupData:[],copyData:[]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/fetchBalanceProduct.php/?branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({stockDetails:e.data}),t.setState({copyDataStockDetails:e.data})})),w.a.get("https://gnindiamart.com/api/fetchBillCopy.php/?bName="+localStorage.getItem("branchId")).then((function(e){t.setState({getData:Object.values(e.data)}),t.setState({dupData:Object.values(e.data)}),t.setState({copyData:Object.values(e.data)}),t.setState({rawData:e.data})})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"bcpa_container",children:[Object(h.jsx)("div",{className:"bcpa_header",children:Object(h.jsx)("h2",{children:"Bill copy & Product Analytics"})}),Object(h.jsxs)("div",{className:"bcpa_main",children:[Object(h.jsx)("div",{className:"bcpa_left",children:Object(h.jsxs)("div",{className:"bcpa_left_main",children:[Object(h.jsxs)("div",{className:"bcpa_left_mainHead",children:[Object(h.jsx)("h3",{children:"Bill Copy"}),Object(h.jsx)(D.a,{label:"Search",id:"Search",sx:{m:1,width:"25ch"},placeholder:"Search Bill No",inputProps:{min:"0",step:"1"},type:"number",onChange:this.searchBarBill,onKeyDown:this.onKeyDownBill,size:"small",InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(x.d,{})})}})]}),Object(h.jsx)("div",{children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table1_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table1_head",children:"SI no"}),Object(h.jsx)("th",{className:"table1_head",children:"Bill No"}),Object(h.jsx)("th",{className:"table1_head",children:"Company Name"}),Object(h.jsx)("th",{className:"table1_head",children:"Total Price"}),Object(h.jsx)("th",{className:"table1_head",children:"Date & Time"}),Object(h.jsx)("th",{className:"table1_head",children:"Action"})]})}),Object(h.jsx)("tbody",{id:"container_table_body",children:0===this.state.dupData.length?Object(h.jsx)("td",{children:"No Data Found"}):this.state.dupData.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"table1_data",children:e+1}),Object(h.jsx)("td",{className:"table1_data",children:t.billNo}),Object(h.jsx)("td",{className:"table1_data",children:t.company_name}),Object(h.jsx)("td",{className:"table1_data",children:t.totalPrice}),Object(h.jsx)("td",{className:"table1_data",children:t.time}),Object(h.jsx)(j.b,{to:"/user/viewBill/".concat(t.billNo),children:Object(h.jsx)("td",{className:"table1_data",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",style:{minWidth:80,minHeight:40},children:"View Bill"})})})]})}))})]})})]})}),Object(h.jsx)("div",{className:"bcpa_right",children:Object(h.jsxs)("div",{className:"bcpa_right_main",children:[Object(h.jsxs)("div",{className:"bcpa_right_mainHead",children:[Object(h.jsx)("h3",{children:"Product Analytics"}),Object(h.jsx)(D.a,{label:"Search",id:"Search",sx:{m:1,width:"20ch"},placeholder:"Search product",onChange:this.searchBarProduct,onKeyDown:this.onKeyDownProduct,size:"small",InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(x.d,{})})}})]}),Object(h.jsx)("div",{style:{overflowX:"auto"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table1_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table1_head",children:"SI no"}),Object(h.jsx)("th",{className:"table1_head",children:"Product Name"}),Object(h.jsx)("th",{className:"table1_head",children:"Action"})]})}),Object(h.jsx)("tbody",{id:"table_body",children:0===this.state.stockDetails.length?Object(h.jsx)("td",{children:"No Data Found"}):this.state.stockDetails.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.productName}),Object(h.jsx)(j.b,{to:"/user/product/".concat(localStorage.getItem("branchId"),"/").concat(t.Pid),children:Object(h.jsx)("td",{children:Object(h.jsx)("button",{className:"css-button-rounded--blue",style:{minHeight:0,minWidth:0},children:"Analytics"})})})]})}))})]})})]})})]})]})}}]),a}(s.Component),qt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(e,a){console.log(e,a),w.a.get("https://gnindiamart.com/api/getBillDateWise.php/?startDate="+e+"&endDate="+a+"&branchId="+t.props.match.params.branchId).then((function(s){t.setState({DataBetween:s.data},(function(){for(var s=[],i=[],n=new Date(a),l=new Date(e);n<l;){var c=n.getFullYear()+"-"+(n.getMonth()+1).toString().padStart(2,"0")+"-"+n.getDate().toString().padStart(2,"0");i.push(c),s=[].concat(Object(Y.a)(s),[new Date(n)]),n.setDate(n.getDate()+1)}for(var r=[],o=[],u=0;u<i.length;u++)o.push(i[u]),"3M"==t.state.selectDate?o.length>=7&&(r.push(o),o=[]):"6M"==t.state.selectDate?o.length>=14&&(r.push(o),o=[]):"1Y"==t.state.selectDate?o.length>=30&&(r.push(o),o=[]):"2Y"==t.state.selectDate?o.length>=60&&(r.push(o),o=[]):"3Y"==t.state.selectDate?o.length>=90&&(r.push(o),o=[]):"4Y"==t.state.selectDate?o.length>=120&&(r.push(o),o=[]):"5Y"==t.state.selectDate&&o.length>=150&&(r.push(o),o=[]);r.push(o),t.setState({dateArray:i},(function(){for(var e=[],a=[],s=function(s){for(var i=function(a){var i=t.state.getData.filter((function(t){return t.time.includes(r[s][a])}));e.push(i)},n=0;n<r[s].length;n++)i(n);a.push(e),e=[]},i=0;i<r.length;i++)s(i);var n=Object.assign({},{date:r,data:a});if(console.log(n.data[0][4]),"1W"===t.state.selectDate||"1M"===t.state.selectDate){for(var l=[],c=0;c<n.date[0].length;c++){var o=n.data[0][c].map((function(e){return JSON.parse(e.billedProducts).filter((function(e){return e.billProductId===t.props.match.params.pid})).map((function(t){return parseFloat("g"===t.billUnits||"ml"===t.billUnits?t.billQuantity/1e3:t.billQuantity)})).reduce((function(t,e){return t+e}),0)})).reduce((function(t,e){return t+e}),0);l.push(o)}t.setState({label:n.date[0]}),t.setState({barValue:l})}else if("3M"===t.state.selectDate||"6M"===t.state.selectDate||"1Y"===t.state.selectDate||"2Y"===t.state.selectDate||"3Y"===t.state.selectDate||"4Y"===t.state.selectDate||"5Y"===t.state.selectDate){for(var u=[],d=[],h=[],p=[],b=0;b<n.date.length;b++){var j=n.date[b].length;u.push(n.date[b][0]+" to "+n.date[b][j-1]);for(var m=0;m<n.data[b].length;m++){var g=n.data[b][m].map((function(e){return JSON.parse(e.billedProducts).filter((function(e){return e.billProductId===t.props.match.params.pid})).map((function(t){return parseFloat("g"===t.billUnits||"ml"===t.billUnits?t.billQuantity/1e3:t.billQuantity)})).reduce((function(t,e){return t+e}),0)})).reduce((function(t,e){return t+e}),0);p.push(g)}h.push(p),p=[];var f=h[b].reduce((function(t,e){return t+e}),0);d.push(f)}t.setState({label:u}),t.setState({barValue:d})}}))}))}))},t.changeDate=function(e){t.setState({selectDate:e.target.value},(function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0");if("1W"==this.state.selectDate)var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()-7);else if("1M"==this.state.selectDate)a=new Date(t.getFullYear(),t.getMonth()-1,t.getDate());else if("3M"==this.state.selectDate)a=new Date(t.getFullYear(),t.getMonth()-3,t.getDate());else if("6M"==this.state.selectDate)a=new Date(t.getFullYear(),t.getMonth()-6,t.getDate());else if("1Y"==this.state.selectDate)a=new Date(t.getFullYear()-1,t.getMonth(),t.getDate());else if("2Y"==this.state.selectDate)a=new Date(t.getFullYear()-2,t.getMonth(),t.getDate());else if("3Y"==this.state.selectDate)a=new Date(t.getFullYear()-3,t.getMonth(),t.getDate());else if("4Y"==this.state.selectDate)a=new Date(t.getFullYear()-4,t.getMonth(),t.getDate());else if("5Y"==this.state.selectDate)a=new Date(t.getFullYear()-5,t.getMonth(),t.getDate());var s=a.getFullYear()+"-"+(a.getMonth()+1).toString().padStart(2,"0")+"-"+a.getDate().toString().padStart(2,"0");this.getData(e,s)}))},t.state={getData:[],rawData:[],parsedData:[],dupData:[],ProductName:null,ProductTotalQuantitySale:null,ProductBalanceQuantity:null,ProductTotalRevenue:null,selectDate:"1W",DataBetween:[],dateArray:[],label:[],barValue:[]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/fetchBillCopy.php/?bName="+this.props.match.params.branchId).then((function(e){t.setState({getData:Object.values(e.data)}),t.setState({dupData:Object.values(e.data)}),t.setState({rawData:e.data}),t.setState({parsedData:e.data.map((function(t){return JSON.parse(t.billedProducts)}))},(function(){for(var e=[],a=[],s=0;s<=t.state.parsedData.length-1;s++){var i=t.state.parsedData[s].filter((function(e){return e.billProductId===t.props.match.params.pid}));0==i.map((function(t){return t.billQuantity.length}))||0!==i.map((function(t){return t.billQuantity.length}))&&(console.log(),e.push(i.map((function(t){return"g"===t.billUnits||"ml"===t.billUnits?parseFloat(t.billQuantity)/1e3:parseFloat(t.billQuantity)})).reduce((function(t,e){return t+e}),0)),a.push(i.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0)))}var n=e.reduce((function(t,e){return t+e}),0),l=a.reduce((function(t,e){return t+e}),0);t.setState({ProductTotalQuantitySale:n}),t.setState({ProductTotalRevenue:l})}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/fetchbalanceProduct.php/?branchId="+this.props.match.params.branchId+"&pid="+this.props.match.params.pid).then((function(e){t.setState({ProductBalanceQuantity:e.data.map((function(t){return t.quantity}))}),t.setState({ProductName:e.data.map((function(t){return t.productName}))})}));var e=new Date,a=e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0"),s=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),i=s.getFullYear()+"-"+(s.getMonth()+1).toString().padStart(2,"0")+"-"+s.getDate().toString().padStart(2,"0");this.getData(a,i)}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"pa_analytics",children:[Object(h.jsxs)("div",{className:"pa_header",children:[Object(h.jsx)("div",{className:"pa_header_heading",children:Object(h.jsxs)("h2",{children:["Product Analytics of ",this.state.ProductName," "]})}),Object(h.jsxs)("div",{className:"pa_header_menu",children:[Object(h.jsxs)("div",{className:"box_menu",style:{backgroundColor:"#A0E7E5",minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center",padding:"1% 2%"},children:[Object(h.jsxs)("h4",{children:["Total sales of ",this.state.ProductName," in ",this.props.match.params.branchId]}),Object(h.jsxs)("h2",{style:{marginTop:"5px"},children:[this.state.ProductTotalQuantitySale," Kg"]})]}),Object(h.jsxs)("div",{className:"box_menu",style:{backgroundColor:"#FFAEBC",minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center",padding:"1% 2%"},children:[Object(h.jsxs)("h4",{children:["Total Revenue made by ",this.state.ProductName," in ",this.props.match.params.branchId]}),Object(h.jsxs)("h2",{style:{marginTop:"5px"},children:[this.state.ProductTotalRevenue," Rs"]})]}),Object(h.jsxs)("div",{className:"box_menu",style:{backgroundColor:"#B4F8C8",minHeight:120,display:"flex",flexDirection:"column",justifyContent:"center",padding:"1% 2%"},children:[Object(h.jsxs)("h4",{children:["Balance ",this.state.ProductName," left in ",this.props.match.params.branchId]}),Object(h.jsxs)("h2",{style:{marginTop:"5px"},children:[this.state.ProductBalanceQuantity," kg"]})]})]})]}),Object(h.jsxs)("div",{className:"pa_menu",children:[Object(h.jsx)("div",{className:"pa_menu_header",children:Object(h.jsxs)(rt.a,{value:this.state.selectDate,exclusive:!0,onChange:this.changeDate,children:[Object(h.jsx)(ct.a,{value:"1W",children:"1W"}),Object(h.jsx)(ct.a,{value:"1M",children:"1M"}),Object(h.jsx)(ct.a,{value:"3M",children:"3M"}),Object(h.jsx)(ct.a,{value:"6M",children:"6M"}),Object(h.jsx)(ct.a,{value:"1Y",children:"1Y"}),Object(h.jsx)(ct.a,{value:"2Y",children:"2Y"}),Object(h.jsx)(ct.a,{value:"3Y",children:"3Y"}),Object(h.jsx)(ct.a,{value:"4Y",children:"4Y"}),Object(h.jsx)(ct.a,{value:"5Y",children:"5Y"})]})}),Object(h.jsx)("div",{className:"pa_meanu_bottom",children:0===this.state.getData.length?Object(h.jsx)("td",{children:"NO Data yet"}):Object(h.jsx)(V.a,{data:{labels:this.state.label,datasets:[{backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4","#FF6633","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],borderColor:["#000"],data:this.state.barValue}]},options:{layout:{padding:30},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"center",display:!1}}}})})]})]})}}]),a}(s.Component),Qt=(a(186),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).setValue=function(e){t.setState({billNo:e.target.value})},t.submitValues=function(e){""===t.state.billNo&&(e.preventDefault(),F.a.fire({icon:"error",title:"Invalid Bill No..."}),t.setState({billNo:""}))},t.state={billNo:""},t}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsx)("div",{className:"ebn_container",children:Object(h.jsxs)("div",{className:"ebn_back",children:[Object(h.jsx)("div",{className:"ebn_header",children:Object(h.jsx)("h2",{children:"Enter a Bill No"})}),Object(h.jsxs)("form",{className:"editpage_container",children:[Object(h.jsx)("div",{children:Object(h.jsx)(D.a,{fullWidth:!0,label:"Bill No",id:"fullWidth",type:"number",inputProps:{min:"0",step:"1"},name:"billNo",value:this.state.billNo,onChange:this.setValue})}),Object(h.jsx)("div",{className:"ebn_button",children:Object(h.jsx)(j.b,{to:"/user/billNo/edit/".concat(this.state.billNo),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",type:"submit",onClick:this.submitValues,children:"Edit"})})})]})]})})}}]),a}(s.Component)),Tt=(a(187),function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("https://gnindiamart.com/api/fetch.php").then((function(e){t.setState({dupData:e.data})})),t.getStock()},t.getStock=function(){w.a.get("https://gnindiamart.com/api/fetchBalanceProduct.php/?branchId="+localStorage.getItem("userName")).then((function(e){t.setState({stockDetial:e.data});var a=t.state.stockDetial.map((function(t){return t.Pid})),s=t.state.dupData.filter((function(t){return a.includes(t.id)}));t.setState({copyData:s})}))},t.alertMsg=function(e){F.a.fire({title:"Are you sure?",text:"Do you wnat to delete this product!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&F.a.fire("Deleted!","Your file has been deleted.","success"),t.deleteRow(e)}))},t.deleteRow=function(e){var a=t.state.parsedData[e].billProductName,s=t.state.parsedData[e].billQuantity,i=t.state.parsedData[e].billUnits,n=t.state.stockDetial.map((function(t){return t.productName})).indexOf(a),l=t.state.stockDetial[n];if("kg"===i||"liter"===i){var c=parseFloat(l.quantity)+parseFloat(s);l.quantity=c;var r=new FormData;r.append("id",l.id),r.append("quantity",l.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:r,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}else if("g"===i||"ml"===i){var o=s/1e3,u=parseFloat(l.quantity)+parseFloat(o);l.quantity=u;var d=new FormData;d.append("id",l.id),d.append("quantity",l.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:d,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}var h=Object(Y.a)(t.state.parsedData);h.splice(e,1),t.setState({parsedData:h}),t.setState({count:t.state.count+1},(function(){var t=this.state.parsedData.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0);this.setState({pageTotal:t},(function(){}))}))},t.updateBill=function(){for(var e=Object(Y.a)(t.state.parsedData),a=[],s=0;s<e.length;s++){var i=e[s].billProductId,n=e[s].billProductName,l=e[s].billProductPrice,c=e[s].billProductGst,r=e[s].billUnits,o=e[s].billQuantity,u=e[s].billQuantity,d=e[s].billTotalPrice;a.push({billProductId:i,billProductName:n,billQuantity:o,billUnits:r,billOrgQty:u,billProductPrice:l,billProductGst:c,billTotalPrice:d})}t.setState({count:t.state.count+1},(function(){var t=this.state.parsedData.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0);this.setState({pageTotal:t},(function(){}))}));var h=new FormData;h.append("billNo",t.props.match.params.id),h.append("branchId",t.state.billNo),h.append("billData",JSON.stringify(a)),h.append("pageTotal",t.state.pageTotal),w()({method:"post",url:"https://gnindiamart.com/api/fetchBill.php",data:h,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){F.a.fire({title:"Product Edited Sucessfully",icon:"success"})})),localStorage.removeItem("bill"),localStorage.removeItem("total"),window.print(),t.props.history.push("/user/billNo")},t.getIndex=function(e){t.setState({editIndex:e},(function(){}))},t.editCalculatePrice=function(e){var a=e.target.value,s=t.state.editIndex,i=t.state.parsedData[s].billProductPrice,n=t.state.parsedData[s].billUnits,l=t.state.parsedData[s].billProductName,c=(t.state.parsedData[s].billQuantity,t.state.parsedData[s].billOrgQty),r=t.state.stockDetial.map((function(t){return t.productName})).indexOf(l),o=t.state.stockDetial[r];if(a>c){if("g"===n||"ml"===n){var u=(a-c)/1e3,d=parseFloat(o.quantity)-parseFloat(u),h=new FormData;h.append("id",o.id),h.append("quantity",d),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:h,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}else if("kg"===n||"liter"===n||"pkt"===n){var p=a-c,b=parseFloat(o.quantity)-parseFloat(p),j=new FormData;j.append("id",o.id),j.append("quantity",b),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:j,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}}else if(a<c)if("g"===n||"ml"===n){var m=(c-a)/1e3,g=parseFloat(o.quantity)+parseFloat(m),f=new FormData;f.append("id",o.id),f.append("quantity",g),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:f,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}else if("kg"===n||"liter"===n||"pkt"===n){var y=c-a,x=parseFloat(o.quantity)+parseFloat(y),O=new FormData;O.append("id",o.id),O.append("quantity",x),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:O,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}if("g"===n||"ml"===n)var v=parseInt(a*(i/1e3));else if("kg"===n||"liter"===n||"pkt"===n)v=a*i;t.setState((function(t){return{parsedData:t.parsedData.map((function(t,e){return s===e?Object.assign(t,{billTotalPrice:v}):t}))}})),t.setState((function(t){return{parsedData:t.parsedData.map((function(t,e){return s===e?Object.assign(t,{billQuantity:a}):t}))}})),t.setState({count:t.state.count+1},(function(){localStorage.setItem("bill",JSON.stringify(t.state.parsedData))}))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:a},(function(){var t=this.state.fetchData.length;t<=3&&(s.style.height="120px"),t<=2&&(s.style.height="80px"),t<=1&&(s.style.height="40px"),t>=4&&(s.style.height="160px")})),t.setState({selectedValues:e.target.value});document.getElementById("searchBar");var s=document.getElementById("searchResult");""!=e.target.value?s.style.display="block":s.style.display="none",t.setState({arrow:0})},t.onKeyDown=function(e){var a=document.getElementById("searchResult");if(8===e.keyCode){var s=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:s},(function(){var t=this.state.fetchData.length;t<=3&&(a.style.height="120px"),t<=2&&(a.style.height="80px"),t<=1&&(a.style.height="40px"),t>=4&&(a.style.height="160px")}))}(38===e.keyCode&&t.state.arrow>0&&t.setState({arrow:t.state.arrow-1},(function(){a.scrollTo(0,a.scrollTop-40)})),40===e.keyCode&&t.state.arrow<t.state.fetchData.length-1&&(a.scrollTop>=3?a.scrollTo(0,a.scrollTop+40):a.scrollTo(0,a.scrollTop+2),t.setState({arrow:t.state.arrow+1},(function(){}))),13===e.keyCode)&&(void 0!==(s=t.state.fetchData[t.state.arrow])&&t.selectData(t.state.arrow,s.productName))},t.calculatePrice=function(e){var a=[];void 0===t.state.quanunit?(a=[]).push(parseInt(document.getElementById("punit").childNodes[0].value)):(a=[]).push(t.state.quanunit),t.setState({quanunit:parseInt(a[0])},(function(){if(1===t.state.quanunit){var a=e.target.value,s=a*t.state.fetchData[0].totalPrice;t.setState({Quantity:a}),t.setState({quantityPrice:s}),t.setState({punit:"kg"})}else if(2===t.state.quanunit){var i=e.target.value,n=i*t.state.fetchData[0].totalPrice;t.setState({Quantity:i}),t.setState({quantityPrice:n}),t.setState({punit:"liter"})}else if(3===t.state.quanunit){var l=e.target.value,c=t.state.fetchData[0].totalPrice,r=parseFloat(c/1e3),o=parseInt(l*r);t.setState({Quantity:l}),t.setState({quantityPrice:o}),t.setState({punit:"g"})}else if(4===t.state.quanunit){var u=e.target.value,d=t.state.fetchData[0].totalPrice,h=parseFloat(d/1e3),p=parseInt(u*h);t.setState({Quantity:u}),t.setState({quantityPrice:p}),t.setState({punit:"ml"})}else if(5===t.state.quanunit){var b=e.target.value,j=b*t.state.fetchData[0].totalPrice;t.setState({Quantity:b}),t.setState({quantityPrice:j}),t.setState({punit:"pkt"})}}))},t.addProduct=function(){var e=t.state.fetchData[0].productName,a=t.state.Quantity,s=t.state.punit,i=t.state.stockDetial.map((function(t){return t.productName})).indexOf(e),n=t.state.stockDetial[i];if("kg"===s||"liter"===s){var l=parseFloat(n.quantity)-parseFloat(a);n.quantity=l;var c=new FormData;c.append("id",n.id),c.append("quantity",n.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:c,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}else if("g"===s||"ml"===s){var r=a/1e3,o=parseFloat(n.quantity)-parseFloat(r);n.quantity=o;var u=new FormData;u.append("id",n.id),u.append("quantity",n.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:u,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}if(t.setState({count:t.state.count+1},(function(){var t=this.state.parsedData.map((function(t){return t.billTotalPrice})).reduce((function(t,e){return t+e}),0);this.setState({pageTotal:t},(function(){}))})),""===t.state.selectedValues)F.a.fire({title:"Empty Filed?",icon:"warning"});else{w.a.get("https://gnindiamart.com/api/getBillNo.php").then((function(e){t.setState({getbillNo:parseInt(Object.values(e.data[0]))+1},(function(){localStorage.setItem("billNo",this.state.getbillNo)}))}));var d=Object(Y.a)(t.state.parsedData),h=t.state.fetchData[0].id,p=t.state.fetchData[0].productName,b=t.state.fetchData[0].totalPrice,j=t.state.fetchData[0].gst,m=t.state.punit,g=t.state.Quantity,f=t.state.Quantity,y=t.state.quantityPrice;d.push({billProductId:h,billProductName:p,billQuantity:g,billUnits:m,billOrgQty:f,billProductPrice:b,billProductGst:j,billTotalPrice:y}),t.setState({parsedData:d},(function(){localStorage.setItem("bill",JSON.stringify(this.state.parsedData))})),t.setState({selectedValues:""}),localStorage.setItem("bill",JSON.stringify(t.state.parsedData)),localStorage.setItem("total",JSON.stringify(t.state.pageTotal)),document.getElementById("quantityInput").value="",t.setState({fetchData:[]}),t.setState({quantityPrice:""}),t.setState({Quantity:""}),document.getElementById("searchResult").style.display="none"}},t.gramPrice=function(e){t.setState({quanunit:parseInt(e.target.value)},(function(){if(1===t.state.quanunit){var e=t.state.Quantity,a=e*t.state.fetchData[0].totalPrice;t.setState({Quantity:e}),t.setState({quantityPrice:a}),t.setState({punit:"kg"})}else if(2===t.state.quanunit){var s=t.state.Quantity,i=s*t.state.fetchData[0].totalPrice;t.setState({Quantity:s}),t.setState({quantityPrice:i}),t.setState({punit:"liter"})}else if(3===t.state.quanunit){var n=t.state.Quantity,l=t.state.fetchData[0].totalPrice,c=parseFloat(l/1e3),r=parseInt(n*c);t.setState({Quantity:n}),t.setState({quantityPrice:r}),t.setState({punit:"g"})}else if(4===t.state.quanunit){var o=t.state.Quantity,u=t.state.fetchData[0].totalPrice,d=parseFloat(u/1e3),h=parseInt(o*d);t.setState({Quantity:o}),t.setState({quantityPrice:h}),t.setState({punit:"ml"})}else if(5===t.state.quanunit){var p=t.state.Quantity,b=p*t.state.fetchData[0].totalPrice;t.setState({Quantity:p}),t.setState({quantityPrice:b}),t.setState({punit:"liter"})}}))},t.cancelBill=function(){w.a.get("https://gnindiamart.com/api/fetchBalanceProduct.php/?branchId="+localStorage.getItem("userName")).then((function(e){t.setState({stockDetial:e.data},(function(){console.log(t.state.stockDetial);var e=JSON.parse(localStorage.getItem("bill"));if(null!==e)for(var a=0;a<e.length;a++)if(t.state.parsedData[a].billOrgQty!==t.state.parsedData[a].billQuantity){var s=t.state.parsedData[a].billProductName,i=t.state.parsedData[a].billOrgQty,n=t.state.parsedData[a].billQuantity,l=t.state.parsedData[a].billUnits;console.log(t.state.parsedData),console.log(t.state.stockDetial);var c=t.state.stockDetial.map((function(t){return t.productName})).indexOf(s),r=t.state.stockDetial[c];if(console.log(r),n>i){if(b=n-i,"kg"===l||"liter"===l||"pkt"===l){var o=parseFloat(r.quantity)+parseFloat(b);console.log(r.quantity),r.quantity=o,console.log(o),console.log(b);var u=new FormData;u.append("id",r.id),u.append("quantity",r.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:u,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}else if("g"===l||"ml"===l){var d=b/1e3,h=parseFloat(r.quantity)+parseFloat(d);r.quantity=h;var p=new FormData;p.append("id",r.id),p.append("quantity",r.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:p,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}}else if(n<i){var b;if(b=i-n,"kg"===l||"liter"===l||"pkt"===l){var j=parseFloat(r.quantity)-parseFloat(b);console.log(r.quantity),r.quantity=j,console.log(j),console.log(b);var m=new FormData;m.append("id",r.id),m.append("quantity",r.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:m,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}else if("g"===l||"ml"===l){var g=b/1e3,f=parseFloat(r.quantity)-parseFloat(g);r.quantity=f;var y=new FormData;y.append("id",r.id),y.append("quantity",r.quantity),w()({method:"post",url:"https://gnindiamart.com/api/updateBalanceProduct.php",data:y,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){}))}}}localStorage.removeItem("bill"),t.props.history.push("/user/billNo")}))}))},t.confirmBill=function(){var t=document.getElementById("eb"),e=document.getElementById("confirm_hide");t.style.display="none",e.style.display="block"},t.confirmBillBack=function(){var t=document.getElementById("eb"),e=document.getElementById("confirm_hide");t.style.display="block",e.style.display="none"},t.state={fetchData:[],copyData:[],cookieData:[],parsedData:[],getData:[],billNo:"",branchId:"",company_name:"",pageTotal:"",time:"",count:0,editIndex:"",quantityPrice:"",Quantity:"",selectedValues:"",copyBillingProducts:[],dupData:[],stockDetial:[],punit:"",unData:[],getbillNo:"",arrow:0},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/fetchBill.php/?id="+this.props.match.params.id+"&bName="+localStorage.getItem("branchId")).then((function(e){t.setState({getData:e.data}),t.setState({billNo:Object.entries(e.data)[0][1]}),t.setState({company_name:Object.entries(e.data)[1][1]}),t.setState({branchId:Object.entries(e.data)[2][1]}),t.setState({cookieData:JSON.parse(Object.entries(e.data)[3][1])},(function(){return null===localStorage.getItem("bill")?localStorage.setItem("bill",JSON.stringify(t.state.cookieData)):""})),t.setState({parsedData:JSON.parse(localStorage.getItem("bill"))}),t.setState({pageTotal:Object.entries(e.data)[4][1]}),t.setState({time:Object.entries(e.data)[5][1]}),t.getData()})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"selectData",value:function(t,e){var a=this.state.copyData.filter((function(t){return t.productName.includes(e)}));this.setState({fetchData:a}),this.setState({selectedValues:e}),document.getElementById("searchResult").style.display="none"}},{key:"render",value:function(){var t=this,e=(this.state.sortValueId,this.state.sortvalueName,this.state.sortvaluePrice,this.state.sortvalueUnits,this.state.sortvaluegst,JSON.parse(localStorage.getItem("bill"))),a=new Date;return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"admin_mainwrap",children:[0===this.state.parsedData.length?Object(h.jsx)("h1",{style:{margin:"2%"},children:"Not have access to edit this bill"}):Object(h.jsxs)("div",{className:"eb",id:"eb",children:[Object(h.jsx)("div",{className:"ebns_container",children:Object(h.jsxs)("div",{className:"ebn_details",children:[Object(h.jsxs)("div",{children:[" ",Object(h.jsxs)("h4",{children:["Bill no : ",this.state.billNo]})]}),Object(h.jsxs)("div",{children:[" ",Object(h.jsxs)("h4",{children:["Branch id : ",this.state.branchId]})]}),Object(h.jsxs)("div",{children:[" ",Object(h.jsxs)("h4",{children:["company Name : ",this.state.company_name]})]}),Object(h.jsxs)("div",{children:[" ",Object(h.jsxs)("h4",{children:["Billed Date : ",this.state.time]})]})]})}),Object(h.jsxs)("div",{className:"b_header",style:{padding:"1%"},children:[Object(h.jsxs)("div",{className:"b_subheader",children:[Object(h.jsx)("h3",{children:"Product Name"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(D.a,{id:"searchBar",variant:"outlined",size:"small",onChange:this.searchBar,onKeyDown:this.onKeyDown,value:this.state.selectedValues}),Object(h.jsx)("div",{className:"searchResult",id:"searchResult",children:0===this.state.fetchData.length?Object(h.jsx)("p",{className:"items",children:"No Data Found"}):this.state.fetchData.map((function(e,a){return Object(h.jsx)("p",{className:"items",id:"items".concat(a)==="items".concat(t.state.arrow)?"active":"",onClick:function(){return t.selectData(e.id,e.productName)},children:e.productName},e.id)}))})]})]}),Object(h.jsxs)("div",{className:"b_subheader",children:[Object(h.jsx)("h3",{children:"Quantity"}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{id:"quantityInput","aria-describedby":"outlined-weight-helper-text",inputProps:{min:"0",step:"1"},size:"small",type:"number",style:{width:100},onChange:this.calculatePrice,disabled:""===this.state.selectedValues})})]}),Object(h.jsx)("div",{className:"b_subheader",children:Object(h.jsx)("div",{children:Object(h.jsxs)("select",{labelId:"punit",id:"punit",sx:{height:40,width:140},onChange:this.gramPrice,disabled:""===this.state.Quantity,className:"select_unit",children:[this.state.fetchData.map((function(e){return"pkt"===e.units?Object(h.jsx)("option",{value:5,id:"pkt",children:"pkt"}):t.state.fetchData.map((function(t){return"kg"===t.units?Object(h.jsx)("option",{value:1,id:"kg",children:"kg"}):Object(h.jsx)("option",{value:2,id:"liter",children:"liter"})}))})),this.state.fetchData.map((function(e){return"pkt"===e.units?Object(h.jsx)(h.Fragment,{}):t.state.fetchData.map((function(t){return"kg"===t.units?Object(h.jsx)("option",{value:3,id:"gram",children:"gram"}):Object(h.jsx)("option",{value:4,id:"ml",children:"ml"})}))}))]})})}),Object(h.jsxs)("div",{className:"b_subheader",children:[Object(h.jsx)("h3",{children:"Price"}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,{disabled:!0,id:"outlined-adornment-weight",value:1===this.state.fetchData.length?this.state.quantityPrice:"",endAdornment:Object(h.jsx)(T.a,{position:"end",children:"Rs"}),"aria-describedby":"outlined-weight-helper-text",inputProps:{"aria-label":"weight"},size:"small",type:"number",style:{width:100}})})]}),Object(h.jsx)("div",{className:"b_subheader",children:Object(h.jsx)("div",{children:Object(h.jsxs)(k.a,{color:"success",variant:"contained","aria-label":"add an alarm",size:"medium",onClick:this.addProduct,children:[Object(h.jsx)(P.b,{}),"Add"]})})})]}),Object(h.jsx)("div",{className:"b_mainwrap",style:{width:"95%",margin:"1% auto",overflow:"auto"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{className:"table_head",children:"Si No"}),Object(h.jsx)("td",{className:"table_head",children:"Product Id"}),Object(h.jsx)("td",{className:"table_head",children:"Product Name"}),Object(h.jsx)("td",{className:"table_head",children:"Product Price"}),Object(h.jsx)("td",{className:"table_head",children:"Quantity"}),Object(h.jsx)("td",{className:"table_head",children:"Total Price"}),Object(h.jsx)("td",{className:"table_head"}),Object(h.jsx)("td",{className:"table_head"})]})}),Object(h.jsx)("tbody",{children:this.state.parsedData.map((function(e,a){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{component:"th",scope:"row",style:{border:"none"},children:a+1}),Object(h.jsxs)("td",{children:["PID",e.billProductId]}),Object(h.jsx)("td",{children:e.billProductName}),Object(h.jsx)("td",{children:e.billProductPrice}),t.state.editIndex===a?Object(h.jsx)(W.a,{id:"quantityInput","aria-describedby":"outlined-weight-helper-text",inputProps:{min:"1",max:"10",step:"1"},size:"medium",type:"number",style:{width:80},value:e.billQuantity,onChange:t.editCalculatePrice,onBlur:function(){t.setState({editIndex:""})}}):Object(h.jsxs)("td",{children:[e.billQuantity,e.billUnits]}),Object(h.jsx)("td",{children:e.billTotalPrice}),Object(h.jsx)("td",{sx:{width:100},children:Object(h.jsx)(k.a,{variant:"contained",size:"small",color:"success",onClick:function(){return t.getIndex(a)},children:"Edit"})}),Object(h.jsx)("td",{sx:{width:100},children:Object(h.jsx)(Q.a,{variant:"contained",size:"small",color:"error",onClick:function(){return t.alertMsg(a)},children:Object(h.jsx)(y.a,{})})})]},a+1)}))})]})}),0===this.state.pageTotal?"":Object(h.jsxs)("div",{className:"b_footer_editBill",id:"totalPriceHTML",children:[Object(h.jsx)("div",{className:"b_footer_total",children:Object(h.jsxs)("h3",{children:[" ",Object(h.jsx)(Mt,{products:this.state.parsedData,id:"totalPriceHTML"})]})}),Object(h.jsxs)("div",{className:"b_footer_button",children:[Object(h.jsx)("button",{className:"css-button-rounded--red",onClick:this.cancelBill,children:"Cancel bill"}),Object(h.jsx)("button",{className:"css-button-rounded--blue",type:"submit",onClick:this.confirmBill,children:"Print"})]})]})]}),null===e?Object(h.jsx)(h.Fragment,{}):Object(h.jsxs)("div",{className:"pageToPrint",children:[Object(h.jsx)("div",{className:"printHeader",style:{borderTop:"1px soild black",borderBottom:"1px solid black",padding:"1% 0%"}}),Object(h.jsxs)("div",{className:"printcustomerName",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:[Object(h.jsxs)("p",{children:["Customer Name: ",this.state.company_name]}),Object(h.jsxs)("p",{children:["Bill Date:",a.getDate(),"/",a.getMonth(),"/",a.getFullYear()]}),Object(h.jsxs)("p",{children:["Bill Time:",a.getHours(),".",a.getMinutes(),".",a.getSeconds()]})]}),Object(h.jsxs)("div",{className:"printBranchName",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:[Object(h.jsxs)("p",{children:["Branch name:",localStorage.getItem("userName")]}),Object(h.jsxs)("p",{children:["Bill no:",this.state.billNo]})]}),Object(h.jsxs)("table",{className:"printBillDetali",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:[Object(h.jsxs)("tr",{className:"printBillTR",children:[Object(h.jsx)("th",{children:"Si no"}),Object(h.jsx)("th",{children:"product"}),Object(h.jsx)("th",{children:"Quantity"}),Object(h.jsx)("th",{children:"price"})]}),e.map((function(t,e){return Object(h.jsxs)("tr",{className:"printBillTD",children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.billProductName}),Object(h.jsxs)("td",{children:[t.billQuantity,t.billUnits]}),Object(h.jsx)("td",{children:parseFloat(t.billTotalPrice).toFixed(2)})]})}))]}),Object(h.jsxs)("div",{className:"printTotal",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:[Object(h.jsx)("p",{children:"Includes Gst"}),Object(h.jsxs)("h4",{children:["Total:",localStorage.getItem("total")]})]}),Object(h.jsx)("div",{className:"printEnd",style:{borderBottom:"1px solid black",padding:".5% 0%"},children:Object(h.jsx)("p",{children:"Thank You! Vist Again!"})})]}),Object(h.jsx)("div",{className:"confirm_hide",id:"confirm_hide",children:Object(h.jsx)("div",{className:"confirmBill",children:Object(h.jsxs)("div",{className:"confirmBill_back",children:[Object(h.jsx)("div",{className:"confirmBill_head",children:Object(h.jsx)("h1",{children:"Print Bill"})}),Object(h.jsx)("div",{className:"confirmBill_menu",children:Object(h.jsxs)("div",{className:"confirmBill_button",children:[Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.updateBill,children:"Print Bill"}),Object(h.jsx)("button",{style:{margin:"10px 0px"},className:"css-button-rounded--red",onClick:this.confirmBillBack,children:"Back"})]})})]})})})]})})}}]),a}(s.Component)),Mt=function(t){var e=t.products;return Object(h.jsxs)("h3",{children:["Total:",e.reduce((function(t,e){return t+e.billTotalPrice}),0)]})},At=Tt,Et=(a(188),Object(A.a)("input")({display:"none"})),Gt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("https://gnindiamart.com/api/fetch.php").then((function(e){t.setState({dupData:e.data})})),w.a.get("https://gnindiamart.com/api/fetchBalanceProduct.php/?branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({stockDetial:e.data});var a=t.state.stockDetial.map((function(t){return t.Pid})),s=t.state.dupData.filter((function(t){return a.includes(t.id)}));t.setState({copyData:s})})),w.a.get("https://gnindiamart.com/api/getWastage.php/?bName="+localStorage.getItem("branchId")).then((function(e){t.setState({wastage:e.data})}))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:a},(function(){var t=this.state.fetchData.length;t<=3&&(s.style.height="120px"),t<=2&&(s.style.height="80px"),t<=1&&(s.style.height="40px"),t>=4&&(s.style.height="160px")})),t.setState({selectedValues:e.target.value});document.getElementById("searchBar");var s=document.getElementById("searchResult");""!=e.target.value?s.style.display="block":s.style.display="none",t.getData(),t.setState({arrow:0})},t.onKeyDown=function(e){var a=document.getElementById("searchResult");if(8===e.keyCode){var s=t.state.copyData.filter((function(t){return t.productName.includes(e.target.value)}));t.setState({fetchData:s},(function(){var t=this.state.fetchData.length;t<=3&&(a.style.height="120px"),t<=2&&(a.style.height="80px"),t<=1&&(a.style.height="40px"),t>=4&&(a.style.height="160px")}))}(38===e.keyCode&&t.state.arrow>0&&t.setState({arrow:t.state.arrow-1},(function(){a.scrollTo(0,a.scrollTop-40)})),40===e.keyCode&&t.state.arrow<t.state.fetchData.length-1&&(a.scrollTop>=3?a.scrollTo(0,a.scrollTop+40):a.scrollTo(0,a.scrollTop+2),t.setState({arrow:t.state.arrow+1},(function(){}))),13===e.keyCode)&&(void 0!==(s=t.state.fetchData[t.state.arrow])&&t.selectData(t.state.arrow,s.productName))},t.uploadHandler=function(e){t.setState({image:e.target.files[0]})},t.calculatePrice=function(e){t.setState({Quantity:e.target.value})},t.gramPrice=function(e){t.setState({quanunit:e.target.value}),1===t.state.quanunit?t.setState({punit:"kg"}):2===t.state.quanunit?t.setState({punit:"liter"}):3===t.state.quanunit?t.setState({punit:"g"}):4===t.state.quanunit?t.setState({punit:"ml"}):5===t.state.quanunit&&t.setState({punit:"pkt"})},t.addProduct=function(){if(""===t.state.Quantity)F.a.fire({title:"Empty Filed?",icon:"warning"});else{var e=new FormData;e.append("branchId",localStorage.getItem("branchId")),e.append("productName",t.state.fetchData[0].productName),e.append("id",t.state.fetchData[0].id),e.append("quantity",t.state.Quantity),e.append("punit",t.state.punit),e.append("image",t.state.image),w()({method:"post",url:"https://gnindiamart.com/api/addWastage.php",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){F.a.fire({title:"Updated",icon:"success"})})),t.setState({fetchData:[]}),t.setState({selectedValues:""}),t.setState({Quantity:""}),document.getElementById("quantityInput").value="",t.setState({punit:""}),document.getElementById("punit").defaultvalue=1,t.setState({image:null})}},t.state={fetchData:[],copyData:[],selectedValues:"",Quantity:"",quanunit:1,quantityPrice:0,billingproducts:[],punit:"",stockDetial:[],dupData:[],image:null,wastage:[],arrow:0},t.getData(),t.selectData=t.selectData.bind(Object(R.a)(t)),t}return Object(r.a)(a,[{key:"selectData",value:function(t,e){var a=this.state.copyData.filter((function(t){return t.productName.includes(e)}));this.setState({fetchData:a}),this.setState({selectedValues:e}),document.getElementById("searchResult").style.display="none"}},{key:"render",value:function(){var t,e=this;return Object(h.jsxs)("div",{className:"b_container",children:[Object(h.jsx)("div",{className:"b_name_header",children:Object(h.jsx)("h1",{children:"Wastage Update"})}),Object(h.jsxs)("div",{className:"b_header",style:{marginTop:"5%"},children:[Object(h.jsxs)("div",{className:"b_subheader",children:[Object(h.jsx)("h3",{className:"w_sub_h3",children:"Product Name"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(D.a,{id:"searchBar",variant:"outlined",size:"small",onChange:this.searchBar,onKeyDown:this.onKeyDown,value:this.state.selectedValues}),Object(h.jsx)("div",{className:"searchResult",id:"searchResult",children:0===this.state.fetchData.length?Object(h.jsx)("p",{className:"items",children:"No Data Found"}):this.state.fetchData.map((function(t,a){return Object(h.jsx)("p",{className:"items",id:"items".concat(a)==="items".concat(e.state.arrow)?"active":"",onClick:function(){return e.selectData(t.id,t.productName)},children:t.productName},t.id)}))})]})]}),Object(h.jsxs)("div",{className:"b_subheader",children:[Object(h.jsx)("h3",{className:"w_sub_h3",children:"Image proof"}),Object(h.jsxs)("label",{htmlFor:"contained-button-file",children:[Object(h.jsx)(Et,{accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:this.uploadHandler}),Object(h.jsx)(Q.a,{variant:"contained",component:"span",style:{backgroundColor:"#516BEB",color:"black"},children:Object(h.jsx)(O.a,{})}),Object(h.jsx)("p",{children:null===this.state.image?"":"image selected"})]})]}),Object(h.jsxs)("div",{className:"b_subheader",children:[Object(h.jsx)("h3",{className:"w_sub_h3",children:" Wastage quantity"}),Object(h.jsx)("div",{children:Object(h.jsx)(W.a,(t={id:"quantityInput","aria-describedby":"outlined-weight-helper-text",inputProps:{min:"0",max:"10",step:"1"},size:"small",type:"number"},Object(N.a)(t,"inputProps",{min:"0",step:"1"}),Object(N.a)(t,"style",{width:100}),Object(N.a)(t,"onChange",this.calculatePrice),Object(N.a)(t,"disabled",1!==this.state.fetchData.length),t))})]}),Object(h.jsx)("div",{className:"b_subheader",children:Object(h.jsx)("div",{children:Object(h.jsxs)("select",{labelId:"punit",id:"punit",sx:{height:40,width:140},onChange:this.gramPrice,disabled:""===this.state.Quantity,className:"select_unit",children:[this.state.fetchData.map((function(t){return"pkt"===t.units?Object(h.jsx)("option",{value:5,id:"pkt",children:"pkt"}):e.state.fetchData.map((function(t){return"kg"===t.units?Object(h.jsx)("option",{value:1,id:"kg",children:"kg"}):Object(h.jsx)("option",{value:2,id:"liter",children:"liter"})}))})),this.state.fetchData.map((function(t){return"pkt"===t.units?Object(h.jsx)(h.Fragment,{}):e.state.fetchData.map((function(t){return"kg"===t.units?Object(h.jsx)("option",{value:3,id:"gram",children:"gram"}):Object(h.jsx)("option",{value:4,id:"ml",children:"ml"})}))}))]})})}),Object(h.jsx)("div",{className:"b_subheader",children:Object(h.jsx)("div",{children:1===this.state.fetchData.length&&""!==this.state.Quantity?Object(h.jsxs)("button",{className:"css-button-rounded--blue",onClick:this.addProduct,children:[Object(h.jsx)(P.b,{}),"upload"]}):Object(h.jsxs)("button",{disabled:!0,className:"css-button-rounded--blue",onClick:this.addProduct,children:[Object(h.jsx)(P.b,{}),"upload"]})})})]}),Object(h.jsx)("div",{style:{overflow:"auto"},children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Product Id"}),Object(h.jsx)("th",{className:"table_head",children:"Product Name"}),Object(h.jsx)("th",{className:"table_head",children:"Wastage Quantity"}),Object(h.jsx)("th",{className:"table_head"})]})}),Object(h.jsx)("tbody",{children:this.state.wastage.length<=0?Object(h.jsx)("tr",{children:Object(h.jsx)("td",{children:"Nodata"})}):Object(h.jsx)(h.Fragment,{children:this.state.wastage.map((function(t,e){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{component:"th",scope:"row",children:e+1}),Object(h.jsxs)("td",{children:["PID",t.Pid]}),Object(h.jsx)("td",{children:t.productName}),Object(h.jsxs)("td",{children:[t.quantity,t.units]})]},e+1)}))})})]})})]})}}]),a}(s.Component),Vt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).state={getData:[],copyData:[],todayBill:[],todayBillTotal:null,todayFormatedTotal:null,weekBill:[],weekBillTotal:null,weekFormatedTotal:null,monthlyBill:[],monthlyBillTotal:null,monthFormatedTotal:null,branchList:[],datevlaue:[null,null]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/getBillDateBranchWise.php/?all=1&branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({getData:Object.values(e.data)},(function(){console.log(this.state.getData)}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/getBillDateBranchWise.php/?today=1&branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({todayBill:Object.values(e.data)},(function(){console.log(this.state.todayBill);var t=this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({todayBillTotal:t},(function(){this.setState({todayFormatedTotal:e});var t=this.state.todayBill.map((function(t){return t.branchId})).filter((function(t,e,a){return a.indexOf(t)==e}));this.setState({branchList:t},(function(){var t=this;console.log(this.state.todayBill.filter((function(e){return e.branchId===t.state.branchList[0]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)),console.log(this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0))}))}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/getBillDateBranchWise.php/?week=1&branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({weekBill:Object.values(e.data)},(function(){var t=this.state.weekBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({weekBillTotal:t},(function(){this.setState({weekFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/getBillDateBranchWise.php/?month=1&branchId="+localStorage.getItem("branchId")).then((function(e){t.setState({monthlyBill:Object.values(e.data)},(function(){var t=this.state.monthlyBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({monthlyBillTotal:t},(function(){this.setState({monthFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"Rev_container",children:[Object(h.jsx)("div",{className:"analytics_top",children:Object(h.jsxs)("div",{className:"analytics_revenue",children:[Object(h.jsx)("div",{className:"analytics_revenue_top",children:Object(h.jsx)("h2",{children:"Revenue "})}),Object(h.jsxs)("div",{className:"analytics_revenue_menu",children:[Object(h.jsxs)("div",{className:"menu1 analytics_box",children:[Object(h.jsx)("h3",{children:"Today sales"}),Object(h.jsxs)("h2",{className:"revenue_h2",children:[" ",this.state.todayFormatedTotal," "]})]}),Object(h.jsxs)("div",{className:"menu2 analytics_box",children:[Object(h.jsx)("h3",{children:"Last 7 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.weekFormatedTotal})]}),Object(h.jsxs)("div",{className:"menu3 analytics_box",children:[Object(h.jsx)("h3",{children:"Last 30 days sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.monthFormatedTotal})]})]})]})}),Object(h.jsx)("div",{className:"Rev_bottom",children:Object(h.jsxs)("div",{className:"Rev_bottom_container",children:[Object(h.jsx)("div",{className:"Rev_bottom_top",children:Object(h.jsx)("h3",{children:"Today's Bill"})}),Object(h.jsx)("div",{className:"Rev_bottom_table",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"SI no"}),Object(h.jsx)("th",{className:"table_head",children:"Bill no"}),Object(h.jsx)("th",{className:"table_head",children:"Company name"}),Object(h.jsx)("th",{className:"table_head",children:"Todays Price"}),Object(h.jsx)("th",{className:"table_head",children:"Date  & time"}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{id:"container_table_body",children:0===this.state.todayBill.length?Object(h.jsx)("td",{children:"No Bill from this branch"}):this.state.todayBill.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.billNo}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.totalPrice}),Object(h.jsx)("td",{children:t.time}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/user/viewBill/".concat(t.billNo),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"view"})})})]})}))})]})})]})})]})}}]),a}(s.Component),zt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(e,a){console.log(e,a),w.a.get("https://gnindiamart.com/api/getBillDateWise.php/?startDate="+e+"&endDate="+a+"&branchId="+localStorage.getItem("branchId")).then((function(s){t.setState({DataBetween:s.data},(function(){for(var s=[],i=[],n=new Date(a),l=new Date(e);n<l;){var c=n.getFullYear()+"-"+(n.getMonth()+1).toString().padStart(2,"0")+"-"+n.getDate().toString().padStart(2,"0");i.push(c),s=[].concat(Object(Y.a)(s),[new Date(n)]),n.setDate(n.getDate()+1)}for(var r=[],o=[],u=0;u<i.length;u++)o.push(i[u]),"3M"==t.state.selectDate?o.length>=7&&(r.push(o),o=[]):"6M"==t.state.selectDate?o.length>=14&&(r.push(o),o=[]):"1Y"==t.state.selectDate?o.length>=30&&(r.push(o),o=[]):"2Y"==t.state.selectDate?o.length>=60&&(r.push(o),o=[]):"3Y"==t.state.selectDate?o.length>=90&&(r.push(o),o=[]):"4Y"==t.state.selectDate?o.length>=120&&(r.push(o),o=[]):"5Y"==t.state.selectDate&&o.length>=150&&(r.push(o),o=[]);r.push(o),t.setState({dateArray:i},(function(){for(var e=[],a=[],s=function(s){for(var i=function(a){var i=t.state.getData.filter((function(t){return t.time.includes(r[s][a])}));e.push(i)},n=0;n<r[s].length;n++)i(n);a.push(e),e=[]},i=0;i<r.length;i++)s(i);var n=Object.assign({},{date:r,data:a});if("1W"===t.state.selectDate||"1M"===t.state.selectDate){for(var l=[],c=0;c<n.date[0].length;c++){var o=n.data[0][c].map((function(t){return parseFloat(t.totalPrice)})).reduce((function(t,e){return t+e}),0);l.push(o)}t.setState({label:n.date[0]}),t.setState({barValue:l})}else if("3M"===t.state.selectDate||"6M"===t.state.selectDate||"1Y"===t.state.selectDate||"2Y"===t.state.selectDate||"3Y"===t.state.selectDate||"4Y"===t.state.selectDate||"5Y"===t.state.selectDate){for(var u=[],d=[],h=[],p=[],b=0;b<n.date.length;b++){var j=n.date[b].length;u.push(n.date[b][0]+" to "+n.date[b][j-1]);for(var m=0;m<n.data[b].length;m++){var g=n.data[b][m].map((function(t){return parseFloat(t.totalPrice)})).reduce((function(t,e){return t+e}),0);p.push(g)}h.push(p),p=[];var f=h[b].reduce((function(t,e){return t+e}),0);d.push(f)}t.setState({label:u}),t.setState({barValue:d})}}))}))}))},t.changeDate=function(e){t.setState({selectDate:e.target.value},(function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getDate().toString().padStart(2,"0");if("1W"==this.state.selectDate)var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()-7);else if("1M"==this.state.selectDate)a=new Date(t.getFullYear(),t.getMonth()-1,t.getDate());else if("3M"==this.state.selectDate)a=new Date(t.getFullYear(),t.getMonth()-3,t.getDate());else if("6M"==this.state.selectDate)a=new Date(t.getFullYear(),t.getMonth()-6,t.getDate());else if("1Y"==this.state.selectDate)a=new Date(t.getFullYear()-1,t.getMonth(),t.getDate());else if("2Y"==this.state.selectDate)a=new Date(t.getFullYear()-2,t.getMonth(),t.getDate());else if("3Y"==this.state.selectDate)a=new Date(t.getFullYear()-3,t.getMonth(),t.getDate());else if("4Y"==this.state.selectDate)a=new Date(t.getFullYear()-4,t.getMonth(),t.getDate());else if("5Y"==this.state.selectDate)a=new Date(t.getFullYear()-5,t.getMonth(),t.getDate());var s=a.getFullYear()+"-"+(a.getMonth()+1).toString().padStart(2,"0")+"-"+a.getDate().toString().padStart(2,"0");this.getData(e,s)}))},t.state={getData:[],rawData:[],parsedData:[],dupData:[],ProductName:null,ProductTotalQuantitySale:null,ProductBalanceQuantity:null,ProductTotalRevenue:null,selectDate:"1W",DataBetween:[],dateArray:[],label:[],barValue:[]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/fetchBillCopy.php/?bName="+localStorage.getItem("branchId")).then((function(e){t.setState({getData:Object.values(e.data)})})).catch((function(t){console.log(t)})).then((function(){}));var e=new Date,a=e.getFullYear()+"-"+(e.getMonth()+1).toString().padStart(2,"0")+"-"+e.getDate().toString().padStart(2,"0"),s=new Date(e.getFullYear(),e.getMonth(),e.getDate()-7),i=s.getFullYear()+"-"+(s.getMonth()+1).toString().padStart(2,"0")+"-"+s.getDate().toString().padStart(2,"0");this.getData(a,i)}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"pa_analytics",children:[Object(h.jsx)("div",{className:"pa_header",children:Object(h.jsx)("div",{className:"pa_header_heading",children:Object(h.jsxs)("h2",{children:["Sales Analytics of  ",localStorage.getItem("branchId")]})})}),Object(h.jsxs)("div",{className:"pa_menu",children:[Object(h.jsx)("div",{className:"pa_menu_header",children:Object(h.jsxs)(rt.a,{value:this.state.selectDate,exclusive:!0,onChange:this.changeDate,children:[Object(h.jsx)(ct.a,{value:"1W",children:"1W"}),Object(h.jsx)(ct.a,{value:"1M",children:"1M"}),Object(h.jsx)(ct.a,{value:"3M",children:"3M"}),Object(h.jsx)(ct.a,{value:"6M",children:"6M"}),Object(h.jsx)(ct.a,{value:"1Y",children:"1Y"}),Object(h.jsx)(ct.a,{value:"2Y",children:"2Y"}),Object(h.jsx)(ct.a,{value:"3Y",children:"3Y"}),Object(h.jsx)(ct.a,{value:"4Y",children:"4Y"}),Object(h.jsx)(ct.a,{value:"5Y",children:"5Y"})]})}),Object(h.jsx)("div",{className:"pa_meanu_bottom",children:0===this.state.getData.length?Object(h.jsx)(h.Fragment,{children:"NO Bill yet"}):Object(h.jsx)(V.a,{data:{labels:this.state.label,datasets:[{backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4","#FF6633","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],borderColor:["#000"],data:this.state.barValue}]},options:{layout:{padding:30},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",align:"center",display:!1}}}})})]})]})}}]),a}(s.Component),Lt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.company_name.startsWith(e.target.value)}));t.setState({listData:a}),""===e.target.value||a.length,t.setState({arrow:0})},t.onKeyDown=function(e){if(8===e.keyCode){var a=t.state.copyData.filter((function(t){return t.company_name.includes(e.target.value)}));t.setState({listData:a})}},t.state={getData:[],copyData:[],companyList:[],listData:[]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/fetchBillCopy.php/?bName="+localStorage.getItem("branchId")).then((function(e){t.setState({getData:Object.values(e.data)},(function(){var t=this.state.getData.map((function(t){return t.company_name})).filter((function(t,e,a){return a.indexOf(t)==e}));this.setState({companyList:t},(function(){var t=this,e=this.state.companyList.map((function(e,a){return t.state.getData.filter((function(e){return e.company_name===t.state.companyList[a]})).map((function(t){return t.branchId}))})),a=this.state.companyList,s=this.state.companyList.map((function(e,a){return t.state.getData.filter((function(e){return e.company_name===t.state.companyList[a]})).length})),i=e.map((function(t){return t.filter((function(t,e,a){return a.indexOf(t)===e}))})).map((function(t){return t[0]})),n=this.state.companyList.map((function(e,a){return t.state.getData.filter((function(e){return e.company_name===t.state.companyList[a]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)})),l=Object.assign.apply({},[this.state.companyList.map((function(t,e,l){return{company_name:a[e],total:n[e],branchId:i[e],totalBill:s[e]}}))]);console.log(l.sort((function(t,e){return e.total-t.total}))),this.setState({listData:l}),this.setState({copyData:l})}))}))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"company_sales_container",children:[Object(h.jsxs)("div",{className:"company_sales_top",children:[Object(h.jsx)("h2",{children:"Top Company"}),Object(h.jsx)(D.a,{label:"Search",id:"Search",sx:{m:1,width:"35ch"},placeholder:"Search for Company",onChange:this.searchBar,onKeyDown:this.onKeyDown,size:"small",InputProps:{startAdornment:Object(h.jsx)(T.a,{position:"start",children:Object(h.jsx)(x.d,{})})}})]}),Object(h.jsx)("div",{className:"company_sales_bottom",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Company Name"}),Object(h.jsx)("th",{className:"table_head",children:"Branch Name"}),Object(h.jsx)("th",{className:"table_head",children:"Total Sales"}),Object(h.jsx)("th",{className:"table_head",children:"Total Bill"}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{children:0===this.state.listData.length?Object(h.jsx)("td",{children:"No Data Found"}):this.state.listData.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.branchId}),Object(h.jsx)("td",{children:t.total}),Object(h.jsx)("td",{children:t.totalBill}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/user/analytics/companyWise/".concat(t.company_name),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"View Detail"})})})]})}))})]})})]})}}]),a}(s.Component),Yt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).state={getData:[],copyData:[],todayBill:[],todayBillTotal:null,todayFormatedTotal:null,weekBill:[],weekBillTotal:null,weekFormatedTotal:null,monthlyBill:[],monthlyBillTotal:null,monthFormatedTotal:null,branchList:[],datevlaue:[null,null]},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/getBillCompanyWise.php/?company_name="+this.props.match.params.company_name).then((function(e){t.setState({getData:e.data})})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/getDateWiseCompanyBill.php/?today=1&company_name="+this.props.match.params.company_name).then((function(e){t.setState({todayBill:Object.values(e.data)},(function(){console.log(this.state.todayBill);var t=this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({todayBillTotal:t},(function(){this.setState({todayFormatedTotal:e});var t=this.state.todayBill.map((function(t){return t.branchId})).filter((function(t,e,a){return a.indexOf(t)==e}));this.setState({branchList:t},(function(){var t=this;console.log(this.state.todayBill.filter((function(e){return e.branchId===t.state.branchList[0]})).map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0)),console.log(this.state.todayBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0))}))}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/getDateWiseCompanyBill.php/?week=1&company_name="+this.props.match.params.company_name).then((function(e){t.setState({weekBill:Object.values(e.data)},(function(){var t=this.state.weekBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({weekBillTotal:t},(function(){this.setState({weekFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){})),w.a.get("https://gnindiamart.com/api/getDateWiseCompanyBill.php/?month=1&company_name="+this.props.match.params.company_name).then((function(e){t.setState({monthlyBill:Object.values(e.data)},(function(){var t=this.state.monthlyBill.map((function(t){return parseInt(t.totalPrice)})).reduce((function(t,e){return t+e}),0),e=Math.abs(t)>9999999?Math.sign(t)*(Math.abs(t)/1e7).toFixed(2)+"Cr":Math.abs(t)>99999?Math.sign(t)*(Math.abs(t)/1e5).toFixed(2)+"L":Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t);this.setState({monthlyBillTotal:t},(function(){this.setState({monthFormatedTotal:e})}))}))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"cws_container",children:[Object(h.jsx)("div",{className:"analytics_top",children:Object(h.jsxs)("div",{className:"analytics_revenue",children:[Object(h.jsx)("div",{className:"analytics_revenue_top",style:{margin:"1.2%  0%"},children:Object(h.jsxs)("h3",{children:["Revenue by ",this.props.match.params.company_name]})}),Object(h.jsxs)("div",{className:"analytics_revenue_menu",children:[Object(h.jsxs)("div",{className:"menu1 analytics_box",children:[Object(h.jsx)("h3",{children:"Last 3 months sales"}),Object(h.jsxs)("h2",{className:"revenue_h2",children:[" ",this.state.todayFormatedTotal," "]})]}),Object(h.jsxs)("div",{className:"menu2 analytics_box",children:[Object(h.jsx)("h3",{children:"Last 6 months sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.weekFormatedTotal})]}),Object(h.jsxs)("div",{className:"menu3 analytics_box",children:[Object(h.jsx)("h3",{children:"Last 1 year sales"}),Object(h.jsx)("h2",{className:"revenue_h2",children:this.state.monthFormatedTotal})]})]})]})}),Object(h.jsx)("div",{className:"Rev_bottom",children:Object(h.jsxs)("div",{className:"Rev_bottom_container",children:[Object(h.jsx)("div",{className:"Rev_bottom_top",children:Object(h.jsxs)("h3",{children:["Total bill by ",this.props.match.params.company_name]})}),Object(h.jsx)("div",{className:"Rev_bottom_table",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Bill no"}),Object(h.jsx)("th",{className:"table_head",children:"Company Name"}),Object(h.jsx)("th",{className:"table_head",children:"Branch Name"}),Object(h.jsx)("th",{className:"table_head",children:"Amount"}),Object(h.jsx)("th",{className:"table_head",children:"Date & time"}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{children:0===this.state.getData.length?Object(h.jsx)("td",{children:"No Data Found"}):this.state.getData.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.billNo}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.branchId}),Object(h.jsx)("td",{children:t.totalPrice}),Object(h.jsx)("td",{children:t.time}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/user/viewBill/".concat(t.billNo),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"View Detail"})})})]})}))})]})})]})})]})}}]),a}(s.Component),Rt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).downloadPDF=function(){w.a.get("https://gnindiamart.com/api/mailBill.php/?billNo="+t.state.billNo+"&user=1&download=1").then((function(t){if(t.data[0].includes(".pdf")){var e=t.data[0],a="https://gnindiamart.com/api/"+e;console.log(a),console.log(e),Object(z.saveAs)(a,t.data+".pdf")}}))},t.mail=function(){F.a.fire({title:"Mail sending",html:"Please wait until Mail sent succesfull",timer:2e4,timerProgressBar:!0,didOpen:function(){F.a.showLoading();F.a.getHtmlContainer().querySelector("b")},willClose:function(){clearInterval(undefined)}}).then((function(t){t.dismiss,F.a.DismissReason.timer})),w.a.get("https://gnindiamart.com/api/mailBill.php/?billNo="+t.state.billNo+"&user=1&mail=1").then((function(e){F.a.fire("Mail succesfully sent!","Bill copy has sucessFully sent to ".concat(t.state.company_name),"success")}))},t.state={parsedData:[],getData:[],billNo:"",company_name:"",branchId:"",pageTotal:"",time:""},t}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/ViewBillCopy.php/?id="+this.props.match.params.billNo).then((function(e){t.setState({getData:e.data}),t.setState({billNo:Object.entries(e.data)[0][1]}),t.setState({company_name:Object.entries(e.data)[1][1]}),t.setState({branchId:Object.entries(e.data)[2][1]}),t.setState({parsedData:JSON.parse(Object.entries(e.data)[3][1])}),t.setState({pageTotal:Object.entries(e.data)[4][1]}),t.setState({time:Object.entries(e.data)[5][1]}),console.log(t.state.parsedData.map((function(t){return"g"===t.billUnits||"ml"===t.billUnits?t.billQuantity/1e3:t.billQuantity})))})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"edit_bill_container",children:[Object(h.jsxs)("div",{className:"edit_bill_head",children:[Object(h.jsxs)("div",{className:"edit_bill_head_left",children:[Object(h.jsx)("h2",{style:{padding:"2% 0%"},children:Object(h.jsx)("u",{children:"Bill Details:"})}),Object(h.jsxs)("h4",{style:{padding:"2% 0%"},children:["Bill No : ",this.state.billNo]}),Object(h.jsxs)("h4",{style:{padding:"2% 0%"},children:["Branch Id : ",this.state.branchId]}),Object(h.jsxs)("h4",{style:{padding:"2% 0%"},children:["Company name : ",this.state.company_name]}),Object(h.jsxs)("h4",{style:{padding:"2% 0%"},children:["Date & time : ",this.state.time]}),Object(h.jsxs)("h4",{style:{padding:"2% 0%"},children:["Total : ",this.state.pageTotal]}),Object(h.jsxs)("div",{className:"bill_style_row",children:[Object(h.jsx)("h4",{style:{padding:"0% 0%"},children:"Send Bill copy:"}),Object(h.jsxs)("div",{children:[Object(h.jsx)(Q.a,{color:"secondary",onClick:this.downloadPDF,children:Object(h.jsx)(_t.a,{style:{color:"#4287f5"}})}),Object(h.jsx)(Q.a,{color:"secondary",onClick:this.mail,children:Object(h.jsx)(_t.c,{style:{color:"#EA4335"}})})]})]})]}),Object(h.jsx)("div",{className:"edit_bill_head_right ",children:Object(h.jsx)(V.b,{data:{labels:this.state.parsedData.map((function(t){return t.billProductName})),datasets:[{label:"Product List",backgroundColor:["#B21F00","#C9DE00","#2FDE00","#00A6B4","#6800B4","#FF6633","#FFB399","#FF33FF","#FFFF99","#00B3E6","#E6B333","#3366E6","#999966","#99FF99","#B34D4D","#80B300","#809900","#E6B3B3","#6680B3","#66991A","#FF99E6","#CCFF1A","#FF1A66","#E6331A","#33FFCC","#66994D","#B366CC","#4D8000","#B33300","#CC80CC","#66664D","#991AFF","#E666FF","#4DB3FF","#1AB399","#E666B3","#33991A","#CC9999","#B3B31A","#00E680","#4D8066","#809980","#E6FF80","#1AFF33","#999933","#FF3380","#CCCC00","#66E64D","#4D80CC","#9900B3","#E64D66","#4DB380","#FF4D4D","#99E6E6","#6666FF"],data:this.state.parsedData.map((function(t){return"g"===t.billUnits||"ml"===t.billUnits?t.billQuantity/1e3:t.billQuantity}))}]},options:{layout:{padding:30},responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right",align:"center"},title:{display:!0,text:"Product Quantity",align:"center",position:"top",font:{size:16}}}}})})]}),Object(h.jsx)("div",{className:"edit_bill_menu",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Product Id"}),Object(h.jsx)("th",{className:"table_head",children:"Product Name"}),Object(h.jsx)("th",{className:"table_head",children:"Product Price"}),Object(h.jsx)("th",{className:"table_head",children:"Quantity"}),Object(h.jsx)("th",{className:"table_head",children:"Total Price"})]})}),Object(h.jsx)("tbody",{children:0===this.state.parsedData.length?Object(h.jsx)("h5",{children:" NO Data Found"}):this.state.parsedData.map((function(t,e){return Object(h.jsxs)("tr",{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(h.jsx)("td",{component:"th",scope:"row",children:e+1}),Object(h.jsxs)("td",{children:["PID",t.billProductId]}),Object(h.jsx)("td",{children:t.billProductName}),Object(h.jsx)("td",{children:t.billProductPrice}),Object(h.jsxs)("td",{children:[t.billQuantity,t.billUnits]}),Object(h.jsx)("td",{children:t.billTotalPrice})]},e+1)}))})]})})]})}}]),a}(s.Component),Wt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).getData=function(){w.a.get("https://gnindiamart.com/api/getCompanyName.php/?bName="+localStorage.getItem("branchId")).then((function(e){t.setState({branchList:e.data})}))},t.searchBar=function(e){var a=t.state.copyData.filter((function(t){return t.company_name.startsWith(e.target.value)}));t.setState({listData:a}),""===e.target.value||a.length,t.setState({arrow:0}),t.getData()},t.onKeyDown=function(e){if(8===e.keyCode){var a=t.state.copyData.filter((function(t){return t.company_name.includes(e.target.value)}));t.setState({listData:a})}t.getData()},t.state={branchList:[],sortValueId:!1,sortvalueName:!1,sortTotalBill:!1},t.getData(),t}return Object(r.a)(a,[{key:"render",value:function(){return Object(h.jsxs)("div",{className:"company_sales_container",children:[Object(h.jsx)("div",{className:"company_sales_top",children:Object(h.jsx)("h2",{children:"Companys List"})}),Object(h.jsx)("div",{className:"company_sales_bottom",children:Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{className:"table_head",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"table_head",children:"Si No"}),Object(h.jsx)("th",{className:"table_head",children:"Company Name"}),Object(h.jsx)("th",{className:"table_head",children:"Gst No "}),Object(h.jsx)("th",{className:"table_head",children:"Email"}),Object(h.jsx)("th",{className:"table_head",children:"Phone no"}),Object(h.jsx)("th",{className:"table_head",children:"Date & time"}),Object(h.jsx)("th",{className:"table_head",children:"Action"})]})}),Object(h.jsx)("tbody",{children:0===this.state.branchList.length?Object(h.jsx)("td",{children:"No Data Found"}):this.state.branchList.map((function(t,e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:e+1}),Object(h.jsx)("td",{children:t.company_name}),Object(h.jsx)("td",{children:t.Gst_no}),Object(h.jsx)("td",{children:t.email}),Object(h.jsx)("td",{children:t.phone_no}),Object(h.jsx)("td",{children:t.time}),Object(h.jsx)("td",{children:Object(h.jsx)(j.b,{to:"/user/editCustomer/".concat(t.cid),children:Object(h.jsx)("button",{className:"css-button-rounded--blue",children:"Edit"})})})]})}))})]})})]})}}]),a}(s.Component),Ut=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(t){var s;return Object(c.a)(this,a),(s=e.call(this,t)).uservalue=function(t){s.setState(Object(N.a)({},t.target.name,[t.target.value]),(function(){}))},s.onSubmit=function(t){var e=new FormData;e.append("uid",s.state.uid),e.append("company_name",s.state.company_name),e.append("old_company_name",s.state.old_company_name),e.append("phone_no",s.state.phone_no),e.append("email",s.state.email),e.append("Gst_no",s.state.Gst_no),""===s.state.company_name||""===s.state.email||""===s.state.phone_no?F.a.fire({title:"Please fill all the details",icon:"error"}):w()({method:"post",url:"https://gnindiamart.com/api/editUserCompany.php",data:e,config:{headers:{"Content-Type":"multipart/form-data"}}}).then((function(t){1==t.data.includes("Duplicate entry")?F.a.fire({title:"Product already Exists",icon:"error"}):F.a.fire({title:"Customer Detail updated",icon:"success"}).then((function(t){t.isConfirmed}))})).catch((function(t){console.log(t),F.a.fire({title:"Error inserting data",icon:"error"})})),s.props.history.push("/user/viewCustomer")},s.state={getData:[],uid:"",company_name:"",old_company_name:"",phone_no:"",email:"",Gst_no:""},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/getCompanyName.php/?cid="+this.props.match.params.id).then((function(e){t.setState({getData:e.data}),t.setState({uid:e.data[0].cid}),t.setState({company_name:e.data[0].company_name}),t.setState({old_company_name:e.data[0].company_name}),t.setState({phone_no:e.data[0].phone_no}),t.setState({email:e.data[0].email}),t.setState({Gst_no:e.data[0].Gst_no})}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"ep_container",children:[Object(h.jsx)("div",{className:"ep_header",children:Object(h.jsx)("h2",{children:"Update Company"})}),Object(h.jsxs)("form",{className:"ep_form",children:[Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Company Name",variant:"outlined",size:"small",name:"company_name",value:this.state.company_name,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Phone No",variant:"outlined",size:"small",name:"phone_no",value:this.state.phone_no,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Email",variant:"outlined",size:"small",name:"email",value:this.state.email,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)(D.a,{id:"outlined-basic",type:"text",label:"Gst_no",variant:"outlined",size:"small",name:"Gst_no",value:this.state.Gst_no,onChange:this.uservalue})}),Object(h.jsx)("div",{className:"ep_form_gap",children:Object(h.jsx)("button",{className:"css-button-rounded--blue",onClick:this.onSubmit,children:"Update"})})]})]})}}]),a}(i.a.Component),Kt=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){var t;return Object(c.a)(this,a),(t=e.call(this)).hamburgerMenu=function(){t.setState({hamburger:!t.state.hamburger})},t.state={branchId:"",hamburger:!0,userName:localStorage.getItem("userName")},t}return Object(r.a)(a,[{key:"Logout",value:function(){F.a.fire({title:"Are you Want to Logout?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Logout!"}).then((function(t){t.isConfirmed&&(F.a.fire({title:"Logout!",icon:"success"}),localStorage.removeItem("user"),localStorage.removeItem("userName"),localStorage.removeItem("branchId"),window.location.reload(!1))}))}},{key:"componentDidMount",value:function(){var t=this;w.a.get("https://gnindiamart.com/api/getBranchId.php/?bName="+localStorage.getItem("userName")).then((function(e){t.setState({branchId:Object.entries(e.data)[0][1]}),localStorage.setItem("branchId",t.state.branchId)})).catch((function(t){console.log(t)})).then((function(){}))}},{key:"render",value:function(){return Object(h.jsx)(j.a,{children:localStorage.getItem("user")?Object(h.jsx)("div",{className:"admin_home",children:Object(h.jsxs)("div",{className:"admin_container",children:[this.state.hamburger?Object(h.jsxs)("div",{className:"admin_sidewrap",children:[Object(h.jsxs)("div",{className:"admin_sideTop",children:[Object(h.jsx)("div",{className:"nav_logo",children:Object(h.jsx)("div",{className:"mav_logo_name",children:Object(h.jsx)("h4",{children:"Billing"})})}),Object(h.jsx)("div",{className:"Hamburger",children:Object(h.jsx)(Q.a,{"aria-label":"upload picture",style:{color:"white"},component:"span",onClick:this.hamburgerMenu,children:this.state.hamburger?Object(h.jsx)(g.b,{size:28}):Object(h.jsx)(f.a,{})})})]}),Object(h.jsx)("div",{className:"admin_sidewrap_main",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)(j.b,{to:"/user",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(x.c,{size:25}),Object(h.jsx)("p",{children:"Billing"})]})})}),Object(h.jsx)(j.b,{to:"/user/billNo",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(_t.b,{size:25}),Object(h.jsx)("p",{children:"Edit Bill"})]})})}),Object(h.jsx)(j.b,{to:"/user/analytics",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(d.a,{size:25}),Object(h.jsx)("p",{children:"Analytics"})]})})}),Object(h.jsx)(j.b,{to:"/user/new_order",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(y.f,{size:25}),Object(h.jsx)("p",{children:"Branch Details"})]})})}),Object(h.jsx)(j.b,{to:"/user/update_product",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(y.d,{size:25}),Object(h.jsx)("p",{children:"Update stock"})]})})}),Object(h.jsx)(j.b,{to:"/user/wastage",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(O.b,{size:25}),Object(h.jsx)("p",{children:" Wastage Update"})]})})}),Object(h.jsx)(j.b,{to:"/user/NewCompany",children:Object(h.jsx)("li",{children:Object(h.jsxs)("div",{className:"sidewrap_group",children:[Object(h.jsx)(_t.d,{size:25}),Object(h.jsx)("p",{children:"Register Customer"})]})})})]})}),Object(h.jsx)("div",{className:"admin_side_footer",children:Object(h.jsxs)(Q.a,{onClick:this.Logout,size:"small",style:{color:"white",height:30},children:[Object(h.jsx)(S.a,{}),Object(h.jsx)("h4",{children:"Logout"})]})})]}):Object(h.jsxs)("div",{className:"side_Nav",children:[Object(h.jsx)("div",{className:"side_nav_top",children:Object(h.jsx)("div",{className:"Hamburger",children:Object(h.jsx)(Q.a,{color:"primary",style:{color:"white"},"aria-label":"upload picture",component:"span",onClick:this.hamburgerMenu,children:this.state.hamburger?Object(h.jsx)(g.b,{size:28}):Object(h.jsx)(f.a,{})})})}),Object(h.jsx)("div",{className:"admin_nav_main",children:Object(h.jsxs)("ul",{children:[Object(h.jsx)(j.b,{to:"/user",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(x.c,{size:25})})})}),Object(h.jsx)(j.b,{to:"/user/billNo",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(_t.b,{size:25})})})}),Object(h.jsx)(j.b,{to:"/user/analytics",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(d.a,{size:25})})})}),Object(h.jsx)(j.b,{to:"/user/new_order",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(y.f,{size:25})})})}),Object(h.jsx)(j.b,{to:"/user/update_product",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(y.d,{size:25})})})}),Object(h.jsx)(j.b,{to:"/user/wastage",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"nav_group",children:Object(h.jsx)(O.b,{size:25})})})}),Object(h.jsx)(j.b,{to:"/user/NewCompany",children:Object(h.jsx)("li",{children:Object(h.jsx)("div",{className:"sidewrap_group",children:Object(h.jsx)(_t.d,{size:25})})})})]})}),Object(h.jsx)("div",{className:"admin_nav_footer",children:Object(h.jsx)(Q.a,{onClick:this.Logout,size:"small",style:{color:"white",background:"black",height:30},children:Object(h.jsx)(S.a,{})})})]}),Object(h.jsx)("div",{className:"admin_mainwrap",children:Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{exact:!0,path:"/user/billingName/billing/:cName",component:Nt}),Object(h.jsx)(m.a,{exact:!0,path:"/user",component:Bt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/billNo",component:Qt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/billNo/edit/:id",component:At}),Object(h.jsx)(m.a,{exact:!0,path:"/user/analytics",component:Ft}),Object(h.jsx)(m.a,{exact:!0,path:"/user/analytics/revenue",component:Vt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/analytics/barGraph",component:zt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/analytics/companyWise",component:Lt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/analytics/companyWise/:company_name",component:Yt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/update_product",component:It}),Object(h.jsx)(m.a,{exact:!0,path:"/user/update_product/receiveProduct",component:kt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/viewBill/:billNo",component:Rt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/product/:branchId/:pid",component:qt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/new_order",component:Ct}),Object(h.jsx)(m.a,{exact:!0,path:"/user/wastage",component:Gt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/NewCompany",component:wt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/viewCustomer",component:Wt}),Object(h.jsx)(m.a,{exact:!0,path:"/user/editCustomer/:id",component:Ut}),Object(h.jsx)(m.a,{component:ht})]})})]})}):Object(h.jsx)(Dt,{})})}}]),a}(s.Component),Ht=function(t){Object(o.a)(a,t);var e=Object(u.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){console.log=function(){},console.warn=console.error=function(){}}},{key:"render",value:function(){return Object(h.jsx)("div",{children:Object(h.jsx)(j.a,{children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)(m.c,{children:[Object(h.jsx)(m.a,{path:"/Admin/login",component:tt}),Object(h.jsx)(m.a,{path:"/Admin",children:Object(h.jsx)(vt,{})}),Object(h.jsx)(m.a,{path:"/user",children:Object(h.jsx)(Kt,{})}),Object(h.jsx)(m.a,{exact:!0,path:"/user/login",component:Dt}),Object(h.jsx)(m.a,{exact:!0,path:"/",children:Object(h.jsx)(b,{})})]})})})})}}]),a}(s.Component),Jt=Ht;l.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(Jt,{})}),document.getElementById("root"))},83:function(t,e,a){}},[[189,1,2]]]);
//# sourceMappingURL=main.bdd7fbf0.chunk.js.map